{"version":3,"sources":["webpack://wangEditor/webpack/universalModuleDefinition","webpack://wangEditor/webpack/bootstrap","webpack://wangEditor/./node_modules/@babel/runtime-corejs3/helpers/interopRequireDefault.js","webpack://wangEditor/./node_modules/@babel/runtime-corejs3/core-js-stable/object/define-property.js","webpack://wangEditor/./src/utils/dom-core.ts","webpack://wangEditor/./node_modules/@babel/runtime-corejs3/core-js-stable/object/create.js","webpack://wangEditor/./node_modules/core-js-pure/internals/export.js","webpack://wangEditor/./node_modules/@babel/runtime-corejs3/core-js-stable/object/set-prototype-of.js","webpack://wangEditor/./node_modules/@babel/runtime-corejs3/core-js-stable/instance/for-each.js","webpack://wangEditor/./src/utils/util.ts","webpack://wangEditor/./node_modules/core-js-pure/internals/global.js","webpack://wangEditor/./node_modules/core-js-pure/internals/well-known-symbol.js","webpack://wangEditor/./node_modules/core-js-pure/internals/path.js","webpack://wangEditor/./node_modules/core-js-pure/internals/define-well-known-symbol.js","webpack://wangEditor/./node_modules/core-js-pure/internals/fails.js","webpack://wangEditor/./node_modules/core-js-pure/internals/is-object.js","webpack://wangEditor/./node_modules/core-js-pure/internals/descriptors.js","webpack://wangEditor/./node_modules/core-js-pure/internals/has.js","webpack://wangEditor/./node_modules/core-js-pure/internals/create-non-enumerable-property.js","webpack://wangEditor/./node_modules/core-js-pure/internals/object-define-property.js","webpack://wangEditor/./node_modules/core-js-pure/internals/entry-virtual.js","webpack://wangEditor/./node_modules/@babel/runtime-corejs3/core-js-stable/instance/trim.js","webpack://wangEditor/./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","webpack://wangEditor/./node_modules/css-loader/dist/runtime/api.js","webpack://wangEditor/./src/menus/menu-constructors/DropListMenu.ts","webpack://wangEditor/./node_modules/core-js-pure/internals/an-object.js","webpack://wangEditor/./node_modules/@babel/runtime-corejs3/core-js-stable/instance/map.js","webpack://wangEditor/./src/menus/menu-constructors/BtnMenu.ts","webpack://wangEditor/./node_modules/core-js-pure/internals/to-indexed-object.js","webpack://wangEditor/./node_modules/core-js-pure/internals/get-built-in.js","webpack://wangEditor/./node_modules/core-js-pure/internals/array-method-uses-to-length.js","webpack://wangEditor/./src/utils/const.ts","webpack://wangEditor/./src/menus/menu-constructors/Panel.ts","webpack://wangEditor/./node_modules/core-js-pure/internals/a-function.js","webpack://wangEditor/./node_modules/@babel/runtime-corejs3/core-js-stable/instance/find.js","webpack://wangEditor/./src/menus/menu-constructors/PanelMenu.ts","webpack://wangEditor/./node_modules/core-js-pure/internals/create-property-descriptor.js","webpack://wangEditor/./node_modules/core-js-pure/internals/to-length.js","webpack://wangEditor/./node_modules/core-js-pure/internals/is-pure.js","webpack://wangEditor/./node_modules/core-js-pure/internals/to-object.js","webpack://wangEditor/./node_modules/core-js-pure/internals/iterate.js","webpack://wangEditor/./node_modules/core-js-pure/internals/iterators.js","webpack://wangEditor/./node_modules/core-js-pure/internals/set-to-string-tag.js","webpack://wangEditor/./node_modules/core-js-pure/internals/internal-state.js","webpack://wangEditor/./node_modules/core-js-pure/internals/array-iteration.js","webpack://wangEditor/./src/menus/menu-constructors/Tooltip.ts","webpack://wangEditor/./node_modules/core-js-pure/internals/classof-raw.js","webpack://wangEditor/./node_modules/core-js-pure/internals/require-object-coercible.js","webpack://wangEditor/./node_modules/core-js-pure/internals/function-bind-context.js","webpack://wangEditor/./node_modules/core-js-pure/internals/object-create.js","webpack://wangEditor/./node_modules/core-js-pure/internals/hidden-keys.js","webpack://wangEditor/./node_modules/core-js-pure/internals/redefine.js","webpack://wangEditor/./node_modules/core-js-pure/modules/web.dom-collections.iterator.js","webpack://wangEditor/./node_modules/core-js-pure/internals/is-array.js","webpack://wangEditor/./node_modules/core-js-pure/internals/array-method-has-species-support.js","webpack://wangEditor/./node_modules/@babel/runtime-corejs3/core-js-stable/instance/index-of.js","webpack://wangEditor/./node_modules/@babel/runtime-corejs3/core-js-stable/instance/slice.js","webpack://wangEditor/./node_modules/core-js-pure/internals/object-property-is-enumerable.js","webpack://wangEditor/./node_modules/core-js-pure/internals/to-primitive.js","webpack://wangEditor/./node_modules/core-js-pure/internals/object-keys.js","webpack://wangEditor/./node_modules/core-js-pure/internals/to-integer.js","webpack://wangEditor/./node_modules/core-js-pure/internals/shared-key.js","webpack://wangEditor/./node_modules/core-js-pure/internals/uid.js","webpack://wangEditor/./node_modules/core-js-pure/internals/classof.js","webpack://wangEditor/./node_modules/core-js-pure/internals/new-promise-capability.js","webpack://wangEditor/./node_modules/core-js-pure/modules/es.string.iterator.js","webpack://wangEditor/./node_modules/@babel/runtime-corejs3/core-js-stable/instance/bind.js","webpack://wangEditor/./node_modules/core-js-pure/internals/whitespaces.js","webpack://wangEditor/./node_modules/core-js-pure/internals/object-get-own-property-descriptor.js","webpack://wangEditor/./node_modules/core-js-pure/internals/indexed-object.js","webpack://wangEditor/./node_modules/core-js-pure/internals/document-create-element.js","webpack://wangEditor/./node_modules/core-js-pure/internals/array-includes.js","webpack://wangEditor/./node_modules/core-js-pure/internals/to-absolute-index.js","webpack://wangEditor/./node_modules/core-js-pure/internals/enum-bug-keys.js","webpack://wangEditor/./node_modules/core-js-pure/internals/shared.js","webpack://wangEditor/./node_modules/core-js-pure/internals/shared-store.js","webpack://wangEditor/./node_modules/core-js-pure/internals/object-get-prototype-of.js","webpack://wangEditor/./node_modules/core-js-pure/internals/object-set-prototype-of.js","webpack://wangEditor/./node_modules/core-js-pure/internals/native-symbol.js","webpack://wangEditor/./node_modules/core-js-pure/internals/to-string-tag-support.js","webpack://wangEditor/./node_modules/core-js-pure/internals/an-instance.js","webpack://wangEditor/./node_modules/core-js-pure/internals/engine-user-agent.js","webpack://wangEditor/./node_modules/core-js-pure/internals/engine-is-node.js","webpack://wangEditor/./node_modules/core-js-pure/internals/perform.js","webpack://wangEditor/./node_modules/core-js-pure/internals/engine-v8-version.js","webpack://wangEditor/./node_modules/core-js-pure/internals/define-iterator.js","webpack://wangEditor/./node_modules/core-js-pure/internals/add-to-unscopables.js","webpack://wangEditor/./node_modules/core-js-pure/internals/array-species-create.js","webpack://wangEditor/./node_modules/@babel/runtime-corejs3/core-js-stable/instance/filter.js","webpack://wangEditor/./node_modules/@babel/runtime-corejs3/core-js-stable/instance/splice.js","webpack://wangEditor/./node_modules/core-js-pure/internals/create-property.js","webpack://wangEditor/./node_modules/core-js-pure/internals/string-trim.js","webpack://wangEditor/./node_modules/@babel/runtime-corejs3/helpers/typeof.js","webpack://wangEditor/./node_modules/core-js-pure/internals/well-known-symbol-wrapped.js","webpack://wangEditor/./src/menus/menu-constructors/Menu.ts","webpack://wangEditor/./src/menus/img/upload-img.ts","webpack://wangEditor/./src/utils/data-structure/cache.ts","webpack://wangEditor/./node_modules/core-js-pure/internals/ie8-dom-define.js","webpack://wangEditor/./node_modules/core-js-pure/internals/is-forced.js","webpack://wangEditor/./node_modules/core-js-pure/internals/object-keys-internal.js","webpack://wangEditor/./node_modules/core-js-pure/internals/html.js","webpack://wangEditor/./node_modules/core-js-pure/internals/use-symbol-as-uid.js","webpack://wangEditor/./node_modules/core-js-pure/internals/native-promise-constructor.js","webpack://wangEditor/./node_modules/core-js-pure/internals/redefine-all.js","webpack://wangEditor/./node_modules/core-js-pure/internals/set-species.js","webpack://wangEditor/./node_modules/core-js-pure/internals/inspect-source.js","webpack://wangEditor/./node_modules/core-js-pure/internals/species-constructor.js","webpack://wangEditor/./node_modules/core-js-pure/internals/task.js","webpack://wangEditor/./node_modules/core-js-pure/internals/engine-is-ios.js","webpack://wangEditor/./node_modules/core-js-pure/internals/promise-resolve.js","webpack://wangEditor/./node_modules/core-js-pure/internals/iterators-core.js","webpack://wangEditor/./node_modules/core-js-pure/internals/array-method-is-strict.js","webpack://wangEditor/./node_modules/@babel/runtime-corejs3/core-js-stable/instance/includes.js","webpack://wangEditor/./node_modules/@babel/runtime-corejs3/core-js-stable/map.js","webpack://wangEditor/./node_modules/core-js-pure/internals/collection.js","webpack://wangEditor/./node_modules/core-js-pure/internals/internal-metadata.js","webpack://wangEditor/./node_modules/core-js-pure/internals/collection-strong.js","webpack://wangEditor/./node_modules/@babel/runtime-corejs3/core-js-stable/array/is-array.js","webpack://wangEditor/./node_modules/core-js-pure/modules/es.symbol.iterator.js","webpack://wangEditor/./node_modules/core-js-pure/internals/object-get-own-property-names.js","webpack://wangEditor/./node_modules/core-js-pure/internals/object-get-own-property-symbols.js","webpack://wangEditor/./node_modules/@babel/runtime-corejs3/core-js-stable/set-timeout.js","webpack://wangEditor/./src/config/style.ts","webpack://wangEditor/./src/text/paste/paste-event.ts","webpack://wangEditor/./node_modules/@babel/runtime-corejs3/core-js-stable/set.js","webpack://wangEditor/./src/menus/menu-constructors/DropList.ts","webpack://wangEditor/./src/menus/link/is-active.ts","webpack://wangEditor/./src/editor/upload/upload-core.ts","webpack://wangEditor/./src/editor/upload/progress.ts","webpack://wangEditor/./src/menus/code/is-active.ts","webpack://wangEditor/./src/wangEditor.ts","webpack://wangEditor/./node_modules/core-js-pure/stable/object/define-property.js","webpack://wangEditor/./node_modules/core-js-pure/es/object/define-property.js","webpack://wangEditor/./node_modules/core-js-pure/modules/es.object.define-property.js","webpack://wangEditor/(webpack)/buildin/global.js","webpack://wangEditor/./node_modules/core-js-pure/stable/object/create.js","webpack://wangEditor/./node_modules/core-js-pure/es/object/create.js","webpack://wangEditor/./node_modules/core-js-pure/modules/es.object.create.js","webpack://wangEditor/./node_modules/core-js-pure/internals/object-define-properties.js","webpack://wangEditor/./node_modules/core-js-pure/internals/set-global.js","webpack://wangEditor/./src/assets/style/common.less?4672","webpack://wangEditor/./src/assets/style/common.less","webpack://wangEditor/./src/assets/style/icon.less?c1d5","webpack://wangEditor/./src/assets/style/icon.less","webpack://wangEditor/./node_modules/css-loader/dist/runtime/getUrl.js","webpack://wangEditor/./src/assets/font/w-e-icon.woff","webpack://wangEditor/./src/assets/style/menus.less?3c63","webpack://wangEditor/./src/assets/style/menus.less","webpack://wangEditor/./src/assets/style/text.less?71cc","webpack://wangEditor/./src/assets/style/text.less","webpack://wangEditor/./src/assets/style/panel.less?63fd","webpack://wangEditor/./src/assets/style/panel.less","webpack://wangEditor/./src/assets/style/droplist.less?4262","webpack://wangEditor/./src/assets/style/droplist.less","webpack://wangEditor/./src/utils/polyfill.ts","webpack://wangEditor/./node_modules/@babel/runtime-corejs3/core-js-stable/promise.js","webpack://wangEditor/./node_modules/core-js-pure/stable/promise/index.js","webpack://wangEditor/./node_modules/core-js-pure/es/promise/index.js","webpack://wangEditor/./node_modules/core-js-pure/modules/es.aggregate-error.js","webpack://wangEditor/./node_modules/core-js-pure/internals/correct-prototype-getter.js","webpack://wangEditor/./node_modules/core-js-pure/internals/a-possible-prototype.js","webpack://wangEditor/./node_modules/core-js-pure/internals/is-array-iterator-method.js","webpack://wangEditor/./node_modules/core-js-pure/internals/get-iterator-method.js","webpack://wangEditor/./node_modules/core-js-pure/internals/iterator-close.js","webpack://wangEditor/./node_modules/core-js-pure/modules/es.promise.js","webpack://wangEditor/./node_modules/core-js-pure/internals/object-to-string.js","webpack://wangEditor/./node_modules/core-js-pure/internals/check-correctness-of-iteration.js","webpack://wangEditor/./node_modules/core-js-pure/internals/microtask.js","webpack://wangEditor/./node_modules/core-js-pure/internals/host-report-errors.js","webpack://wangEditor/./node_modules/core-js-pure/internals/native-weak-map.js","webpack://wangEditor/./node_modules/core-js-pure/modules/es.promise.all-settled.js","webpack://wangEditor/./node_modules/core-js-pure/modules/es.promise.any.js","webpack://wangEditor/./node_modules/core-js-pure/modules/es.promise.finally.js","webpack://wangEditor/./node_modules/core-js-pure/internals/string-multibyte.js","webpack://wangEditor/./node_modules/core-js-pure/internals/create-iterator-constructor.js","webpack://wangEditor/./node_modules/core-js-pure/modules/es.array.iterator.js","webpack://wangEditor/./node_modules/core-js-pure/internals/dom-iterables.js","webpack://wangEditor/./src/editor/index.ts","webpack://wangEditor/./node_modules/core-js-pure/stable/instance/for-each.js","webpack://wangEditor/./node_modules/core-js-pure/stable/array/virtual/for-each.js","webpack://wangEditor/./node_modules/core-js-pure/es/array/virtual/for-each.js","webpack://wangEditor/./node_modules/core-js-pure/modules/es.array.for-each.js","webpack://wangEditor/./node_modules/core-js-pure/internals/array-for-each.js","webpack://wangEditor/./node_modules/core-js-pure/stable/instance/bind.js","webpack://wangEditor/./node_modules/core-js-pure/es/instance/bind.js","webpack://wangEditor/./node_modules/core-js-pure/es/function/virtual/bind.js","webpack://wangEditor/./node_modules/core-js-pure/modules/es.function.bind.js","webpack://wangEditor/./node_modules/core-js-pure/internals/function-bind.js","webpack://wangEditor/./node_modules/core-js-pure/stable/instance/includes.js","webpack://wangEditor/./node_modules/core-js-pure/es/instance/includes.js","webpack://wangEditor/./node_modules/core-js-pure/es/array/virtual/includes.js","webpack://wangEditor/./node_modules/core-js-pure/modules/es.array.includes.js","webpack://wangEditor/./node_modules/core-js-pure/es/string/virtual/includes.js","webpack://wangEditor/./node_modules/core-js-pure/modules/es.string.includes.js","webpack://wangEditor/./node_modules/core-js-pure/internals/not-a-regexp.js","webpack://wangEditor/./node_modules/core-js-pure/internals/is-regexp.js","webpack://wangEditor/./node_modules/core-js-pure/internals/correct-is-regexp-logic.js","webpack://wangEditor/./node_modules/core-js-pure/stable/instance/filter.js","webpack://wangEditor/./node_modules/core-js-pure/es/instance/filter.js","webpack://wangEditor/./node_modules/core-js-pure/es/array/virtual/filter.js","webpack://wangEditor/./node_modules/core-js-pure/modules/es.array.filter.js","webpack://wangEditor/./node_modules/core-js-pure/stable/instance/splice.js","webpack://wangEditor/./node_modules/core-js-pure/es/instance/splice.js","webpack://wangEditor/./node_modules/core-js-pure/es/array/virtual/splice.js","webpack://wangEditor/./node_modules/core-js-pure/modules/es.array.splice.js","webpack://wangEditor/./node_modules/core-js-pure/stable/instance/index-of.js","webpack://wangEditor/./node_modules/core-js-pure/es/instance/index-of.js","webpack://wangEditor/./node_modules/core-js-pure/es/array/virtual/index-of.js","webpack://wangEditor/./node_modules/core-js-pure/modules/es.array.index-of.js","webpack://wangEditor/./node_modules/core-js-pure/stable/map/index.js","webpack://wangEditor/./node_modules/core-js-pure/es/map/index.js","webpack://wangEditor/./node_modules/core-js-pure/modules/es.map.js","webpack://wangEditor/./node_modules/core-js-pure/internals/freezing.js","webpack://wangEditor/./node_modules/core-js-pure/stable/instance/trim.js","webpack://wangEditor/./node_modules/core-js-pure/es/instance/trim.js","webpack://wangEditor/./node_modules/core-js-pure/es/string/virtual/trim.js","webpack://wangEditor/./node_modules/core-js-pure/modules/es.string.trim.js","webpack://wangEditor/./node_modules/core-js-pure/internals/string-trim-forced.js","webpack://wangEditor/./node_modules/core-js-pure/stable/instance/map.js","webpack://wangEditor/./node_modules/core-js-pure/es/instance/map.js","webpack://wangEditor/./node_modules/core-js-pure/es/array/virtual/map.js","webpack://wangEditor/./node_modules/core-js-pure/modules/es.array.map.js","webpack://wangEditor/./node_modules/core-js-pure/stable/array/is-array.js","webpack://wangEditor/./node_modules/core-js-pure/es/array/is-array.js","webpack://wangEditor/./node_modules/core-js-pure/modules/es.array.is-array.js","webpack://wangEditor/./node_modules/@babel/runtime-corejs3/core-js/symbol/iterator.js","webpack://wangEditor/./node_modules/core-js-pure/features/symbol/iterator.js","webpack://wangEditor/./node_modules/core-js-pure/es/symbol/iterator.js","webpack://wangEditor/./node_modules/@babel/runtime-corejs3/core-js/symbol.js","webpack://wangEditor/./node_modules/core-js-pure/features/symbol/index.js","webpack://wangEditor/./node_modules/core-js-pure/es/symbol/index.js","webpack://wangEditor/./node_modules/core-js-pure/modules/es.array.concat.js","webpack://wangEditor/./node_modules/core-js-pure/modules/es.symbol.js","webpack://wangEditor/./node_modules/core-js-pure/internals/object-get-own-property-names-external.js","webpack://wangEditor/./node_modules/core-js-pure/modules/es.symbol.async-iterator.js","webpack://wangEditor/./node_modules/core-js-pure/modules/es.symbol.has-instance.js","webpack://wangEditor/./node_modules/core-js-pure/modules/es.symbol.is-concat-spreadable.js","webpack://wangEditor/./node_modules/core-js-pure/modules/es.symbol.match.js","webpack://wangEditor/./node_modules/core-js-pure/modules/es.symbol.match-all.js","webpack://wangEditor/./node_modules/core-js-pure/modules/es.symbol.replace.js","webpack://wangEditor/./node_modules/core-js-pure/modules/es.symbol.search.js","webpack://wangEditor/./node_modules/core-js-pure/modules/es.symbol.species.js","webpack://wangEditor/./node_modules/core-js-pure/modules/es.symbol.split.js","webpack://wangEditor/./node_modules/core-js-pure/modules/es.symbol.to-primitive.js","webpack://wangEditor/./node_modules/core-js-pure/modules/es.symbol.to-string-tag.js","webpack://wangEditor/./node_modules/core-js-pure/modules/es.symbol.unscopables.js","webpack://wangEditor/./node_modules/core-js-pure/modules/es.json.to-string-tag.js","webpack://wangEditor/./node_modules/core-js-pure/modules/esnext.symbol.async-dispose.js","webpack://wangEditor/./node_modules/core-js-pure/modules/esnext.symbol.dispose.js","webpack://wangEditor/./node_modules/core-js-pure/modules/esnext.symbol.observable.js","webpack://wangEditor/./node_modules/core-js-pure/modules/esnext.symbol.pattern-match.js","webpack://wangEditor/./node_modules/core-js-pure/modules/esnext.symbol.replace-all.js","webpack://wangEditor/./node_modules/core-js-pure/stable/set-timeout.js","webpack://wangEditor/./node_modules/core-js-pure/modules/web.timers.js","webpack://wangEditor/./node_modules/core-js-pure/stable/instance/slice.js","webpack://wangEditor/./node_modules/core-js-pure/es/instance/slice.js","webpack://wangEditor/./node_modules/core-js-pure/es/array/virtual/slice.js","webpack://wangEditor/./node_modules/core-js-pure/modules/es.array.slice.js","webpack://wangEditor/./node_modules/@babel/runtime-corejs3/core-js-stable/parse-int.js","webpack://wangEditor/./node_modules/core-js-pure/stable/parse-int.js","webpack://wangEditor/./node_modules/core-js-pure/es/parse-int.js","webpack://wangEditor/./node_modules/core-js-pure/modules/es.parse-int.js","webpack://wangEditor/./node_modules/core-js-pure/internals/number-parse-int.js","webpack://wangEditor/./src/config/index.ts","webpack://wangEditor/./node_modules/@babel/runtime-corejs3/core-js-stable/object/assign.js","webpack://wangEditor/./node_modules/core-js-pure/stable/object/assign.js","webpack://wangEditor/./node_modules/core-js-pure/es/object/assign.js","webpack://wangEditor/./node_modules/core-js-pure/modules/es.object.assign.js","webpack://wangEditor/./node_modules/core-js-pure/internals/object-assign.js","webpack://wangEditor/./src/config/menus.ts","webpack://wangEditor/./src/config/events.ts","webpack://wangEditor/./src/config/paste.ts","webpack://wangEditor/./src/config/cmd.ts","webpack://wangEditor/./src/config/image.ts","webpack://wangEditor/./src/config/text.ts","webpack://wangEditor/./src/config/lang.ts","webpack://wangEditor/./src/config/history.ts","webpack://wangEditor/./src/config/video.ts","webpack://wangEditor/./src/editor/selection.ts","webpack://wangEditor/./src/editor/selection-range-top-nodes/index.ts","webpack://wangEditor/./src/editor/command.ts","webpack://wangEditor/./src/text/index.ts","webpack://wangEditor/./node_modules/core-js-pure/stable/instance/find.js","webpack://wangEditor/./node_modules/core-js-pure/es/instance/find.js","webpack://wangEditor/./node_modules/core-js-pure/es/array/virtual/find.js","webpack://wangEditor/./node_modules/core-js-pure/modules/es.array.find.js","webpack://wangEditor/./src/text/event-hooks/index.ts","webpack://wangEditor/./src/text/event-hooks/enter-to-create-p.ts","webpack://wangEditor/./src/text/event-hooks/del-to-keep-p.ts","webpack://wangEditor/./src/text/event-hooks/tab-to-space.ts","webpack://wangEditor/./src/text/event-hooks/paste-text-html.ts","webpack://wangEditor/./src/text/paste/parse-html.ts","webpack://wangEditor/./src/text/paste/tags.ts","webpack://wangEditor/./node_modules/core-js-pure/stable/set/index.js","webpack://wangEditor/./node_modules/core-js-pure/es/set/index.js","webpack://wangEditor/./node_modules/core-js-pure/modules/es.set.js","webpack://wangEditor/./src/lib/simplehtmlparser.js","webpack://wangEditor/./src/text/event-hooks/img-click-active.ts","webpack://wangEditor/./src/text/getChildrenJSON.ts","webpack://wangEditor/./src/text/getHtmlByNodeList.ts","webpack://wangEditor/./src/menus/index.ts","webpack://wangEditor/./src/menus/menu-list.ts","webpack://wangEditor/./src/menus/bold/index.ts","webpack://wangEditor/./node_modules/core-js-pure/stable/object/set-prototype-of.js","webpack://wangEditor/./node_modules/core-js-pure/es/object/set-prototype-of.js","webpack://wangEditor/./node_modules/core-js-pure/modules/es.object.set-prototype-of.js","webpack://wangEditor/./src/menus/head/index.ts","webpack://wangEditor/./node_modules/@babel/runtime-corejs3/core-js-stable/json/stringify.js","webpack://wangEditor/./node_modules/core-js-pure/stable/json/stringify.js","webpack://wangEditor/./node_modules/core-js-pure/es/json/stringify.js","webpack://wangEditor/./node_modules/core-js-pure/modules/es.json.stringify.js","webpack://wangEditor/./src/menus/link/index.ts","webpack://wangEditor/./src/menus/link/create-panel-conf.ts","webpack://wangEditor/./src/menus/link/bind-event/index.ts","webpack://wangEditor/./src/menus/link/bind-event/tooltip-event.ts","webpack://wangEditor/./src/menus/italic/index.ts","webpack://wangEditor/./src/menus/underline/index.ts","webpack://wangEditor/./src/menus/strike-through/index.ts","webpack://wangEditor/./src/menus/font-style/index.ts","webpack://wangEditor/./src/menus/font-style/FontStyleList.ts","webpack://wangEditor/./src/menus/font-size/index.ts","webpack://wangEditor/./src/menus/font-size/FontSizeList.ts","webpack://wangEditor/./src/menus/justify/index.ts","webpack://wangEditor/./src/menus/quote/index.ts","webpack://wangEditor/./src/menus/quote/bind-event/index.ts","webpack://wangEditor/./src/menus/quote/create-quote-node.ts","webpack://wangEditor/./src/menus/back-color/index.ts","webpack://wangEditor/./src/menus/font-color/index.ts","webpack://wangEditor/./src/menus/video/index.ts","webpack://wangEditor/./src/menus/video/create-panel-conf.ts","webpack://wangEditor/./src/menus/video/upload-video.ts","webpack://wangEditor/./node_modules/@babel/runtime-corejs3/core-js-stable/date/now.js","webpack://wangEditor/./node_modules/core-js-pure/stable/date/now.js","webpack://wangEditor/./node_modules/core-js-pure/es/date/now.js","webpack://wangEditor/./node_modules/core-js-pure/modules/es.date.now.js","webpack://wangEditor/./src/menus/img/index.ts","webpack://wangEditor/./src/menus/img/create-panel-conf.ts","webpack://wangEditor/./src/menus/img/bind-event/index.ts","webpack://wangEditor/./src/menus/img/bind-event/paste-img.ts","webpack://wangEditor/./src/menus/img/bind-event/drop-img.ts","webpack://wangEditor/./src/menus/img/bind-event/drag-size.ts","webpack://wangEditor/./node_modules/@babel/runtime-corejs3/core-js-stable/parse-float.js","webpack://wangEditor/./node_modules/core-js-pure/stable/parse-float.js","webpack://wangEditor/./node_modules/core-js-pure/es/parse-float.js","webpack://wangEditor/./node_modules/core-js-pure/modules/es.parse-float.js","webpack://wangEditor/./node_modules/core-js-pure/internals/number-parse-float.js","webpack://wangEditor/./src/assets/style/drag-size.less?198e","webpack://wangEditor/./src/assets/style/drag-size.less","webpack://wangEditor/./src/menus/img/bind-event/tooltip-event.ts","webpack://wangEditor/./src/menus/indent/index.ts","webpack://wangEditor/./src/menus/indent/operate-element.ts","webpack://wangEditor/./src/menus/indent/increase-indent-style.ts","webpack://wangEditor/./src/menus/indent/decrease-indent-style.ts","webpack://wangEditor/./src/menus/emoticon/index.ts","webpack://wangEditor/./src/menus/emoticon/create-panel-conf.ts","webpack://wangEditor/./src/menus/list/index.ts","webpack://wangEditor/./src/menus/lineHeight/index.ts","webpack://wangEditor/./src/menus/lineHeight/lineHeightList.ts","webpack://wangEditor/./src/menus/undo/index.ts","webpack://wangEditor/./src/menus/redo/index.ts","webpack://wangEditor/./src/menus/table/index.ts","webpack://wangEditor/./src/menus/table/create-panel-conf.ts","webpack://wangEditor/./src/assets/style/create-panel-conf.less?d818","webpack://wangEditor/./src/assets/style/create-panel-conf.less","webpack://wangEditor/./src/menus/table/create-table.ts","webpack://wangEditor/./src/menus/table/bind-event/index.ts","webpack://wangEditor/./src/menus/table/bind-event/tooltip-event.ts","webpack://wangEditor/./src/menus/table/bind-event/event/operating-event.ts","webpack://wangEditor/./src/menus/table/bind-event/event/getNode.ts","webpack://wangEditor/./src/menus/code/index.ts","webpack://wangEditor/./src/menus/code/create-panel-conf.ts","webpack://wangEditor/./src/menus/code/bind-event/index.ts","webpack://wangEditor/./src/menus/code/bind-event/tooltip-event.ts","webpack://wangEditor/./src/menus/split-line/index.ts","webpack://wangEditor/./src/menus/split-line/bind-event/index.ts","webpack://wangEditor/./src/menus/split-line/bind-event/tooltip-event.ts","webpack://wangEditor/./src/editor/init-fns/init-dom.ts","webpack://wangEditor/./src/editor/init-fns/init-selection.ts","webpack://wangEditor/./src/editor/init-fns/bind-event.ts","webpack://wangEditor/./src/editor/init-fns/i18next-init.ts","webpack://wangEditor/./src/editor/init-fns/set-full-screen.ts","webpack://wangEditor/./src/assets/style/full-screen.less?b9eb","webpack://wangEditor/./src/assets/style/full-screen.less","webpack://wangEditor/./src/editor/init-fns/scroll-to-head.ts","webpack://wangEditor/./src/editor/z-index/index.ts","webpack://wangEditor/./src/editor/change/index.ts","webpack://wangEditor/./src/utils/observer/mutation.ts","webpack://wangEditor/./src/editor/history/index.ts","webpack://wangEditor/./src/editor/history/data/content.ts","webpack://wangEditor/./src/editor/history/data/node/index.ts","webpack://wangEditor/./src/utils/data-structure/stack.ts","webpack://wangEditor/./src/editor/history/data/node/compile.ts","webpack://wangEditor/./src/editor/history/data/node/decompilation.ts","webpack://wangEditor/./node_modules/@babel/runtime-corejs3/core-js-stable/object/entries.js","webpack://wangEditor/./node_modules/core-js-pure/stable/object/entries.js","webpack://wangEditor/./node_modules/core-js-pure/es/object/entries.js","webpack://wangEditor/./node_modules/core-js-pure/modules/es.object.entries.js","webpack://wangEditor/./node_modules/core-js-pure/internals/object-to-array.js","webpack://wangEditor/./src/editor/history/data/html/index.ts","webpack://wangEditor/./src/utils/data-structure/chain.ts","webpack://wangEditor/./src/editor/history/data/scroll/index.ts","webpack://wangEditor/./src/editor/history/data/range/index.ts","webpack://wangEditor/./src/editor/disable/index.ts","webpack://wangEditor/./src/assets/style/disable.less?38a7","webpack://wangEditor/./src/assets/style/disable.less"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","obj","AGENT_EVENTS","_styleArrTrim","style","styleArr","resultArr","split","item","arr","length","push","selector","this","elems","dataSource","DomElement","selectorResult","nodeType","Node","HTMLCollection","NodeList","_isDOMList","toArray","Array","tmpSelector","replace","html","div","document","createElement","innerHTML","children","_createElemByHTML","querySelectorAll","_querySelectorAll","id","forEach","fn","elem","clone","deep","cloneList","cloneNode","$","index","first","last","on","type","agentFn","e","target","matches","addEventListener","off","idx","removeEventListener","attr","val","getAttribute","setAttribute","removeAttr","removeAttribute","addClass","className","join","removeClass","hasClass","css","currentStyle","getBoundingClientRect","show","hide","childNodes","replaceChildAll","$children","parent","getNode","hasChildNodes","firstChild","removeChild","append","child","appendChild","remove","parentElement","isContain","$child","contains","getSizeData","getNodeName","nodeName","getClientHeight","clientHeight","find","text","focus","prev","previousElementSibling","next","nextElementSibling","parentUntil","curElem","parentUntilEditor","editor","equal","$textContainerElem","$toolbarElem","$elem","HTMLElement","insertBefore","referenceNode","parentNode","insertAfter","anchorNode","nextSibling","data","set","getNodeTop","$parent","$textElem","getOffsetData","$node","top","offsetTop","left","offsetLeft","width","offsetWidth","height","offsetHeight","offsetParent","scrollTop","scrollTo","arg","global","getOwnPropertyDescriptor","f","isForced","path","createNonEnumerableProperty","has","wrapConstructor","NativeConstructor","Wrapper","a","b","arguments","apply","options","source","USE_NATIVE","VIRTUAL_PROTOTYPE","sourceProperty","targetProperty","nativeProperty","resultProperty","descriptor","TARGET","GLOBAL","STATIC","stat","PROTO","proto","nativeSource","targetPrototype","forced","noTargetGet","wrap","Function","sham","real","_ua","navigator","userAgent","math","match","isOldEdge","isFirefox","test","isIE","isWebkit","UA","NavUA","prefix","Math","random","toString","fakeArr","interval","flag","args","delay","lastFn","clearTimeout","setTimeout","deepClone","hex","result","exec","colors","it","check","globalThis","self","shared","uid","NATIVE_SYMBOL","USE_SYMBOL_AS_UID","WellKnownSymbolsStore","createWellKnownSymbol","withoutSetter","wrappedWellKnownSymbolModule","NAME","error","fails","DESCRIPTORS","definePropertyModule","createPropertyDescriptor","IE8_DOM_DEFINE","anObject","toPrimitive","nativeDefineProperty","O","P","Attributes","TypeError","CONSTRUCTOR","memo","isOldIE","Boolean","all","atob","getTarget","styleTarget","querySelector","HTMLIFrameElement","contentDocument","head","stylesInDom","getIndexByIdentifier","identifier","modulesToDom","list","idCountMap","identifiers","base","count","concat","media","sourceMap","references","updater","addStyle","insertStyleElement","attributes","nonce","keys","insert","Error","textStore","replaceText","replacement","filter","applyToSingletonTag","styleSheet","cssText","cssNode","createTextNode","applyToTag","btoa","unescape","encodeURIComponent","JSON","stringify","singleton","singletonCounter","update","styleIndex","removeStyleElement","newObj","lastIdentifiers","newList","newLastIdentifiers","_i","_index","splice","useSourceMap","map","content","cssMapping","sourceMapping","base64","sourceURLs","sources","sourceRoot","cssWithMappingToString","mediaQuery","dedupe","alreadyImportedModules","conf","title","i18next","config","lang","dropList","selection","getRange","zIndex","txt","eventHooks","dropListMenuHoverEvents","showTimeoutId","hideTimeoutId","DropListMenu","isObject","String","BtnMenu","IndexedObject","requireObjectCoercible","aFunction","variable","undefined","namespace","method","cache","thrower","METHOD_NAME","ACCESSORS","argument0","argument1","imgRegex","urlRegex","videoRegex","menu","$container","clickEvents","Panel","hideCurAllPanels","toolbarClickEvents","createdMenus","rect","menuRect","$closeBtn","$tabTitleContainer","$tabContentContainer","tabs","tabTitleArr","tabContentArr","tab","tabIndex","tpl","$title","$content","stopPropagation","events","event","EMPTY_FN","$inputs","setPanel","add","size","panel","PanelMenu","bitmap","configurable","writable","toInteger","min","argument","isArrayIteratorMethod","toLength","getIteratorMethod","iteratorClose","Result","stopped","iterable","unboundFunction","iterator","iterFn","step","that","AS_ENTRIES","IS_ITERATOR","INTERRUPTED","stop","condition","callFn","done","TO_STRING_TAG_SUPPORT","TO_STRING_TAG","wellKnownSymbol","TAG","SET_METHOD","NATIVE_WEAK_MAP","objectHas","sharedKey","hiddenKeys","WeakMap","store","state","wmget","wmhas","wmset","metadata","facade","STATE","enforce","getterFor","TYPE","toObject","arraySpeciesCreate","createMethod","IS_MAP","IS_FILTER","IS_SOME","IS_EVERY","IS_FIND_INDEX","IS_FILTER_OUT","NO_HOLES","$this","callbackfn","specificCreate","boundFunction","some","every","findIndex","filterOut","$targetElem","_show","_isInsertTextContainer","getPositionData","pageScrollTop","documentElement","targetElemRect","textElemRect","targetOffset","targetParentElem","targetParentElemHeight","absoluteTop","tooltipHeight","bottom","appendMenus","$wrapper","preventDefault","onClick","Tooltip","slice","activeXDocument","defineProperties","enumBugKeys","documentCreateElement","IE_PROTO","EmptyConstructor","scriptTag","LT","NullProtoObject","domain","ActiveXObject","iframeDocument","iframe","write","close","temp","parentWindow","NullProtoObjectViaActiveX","display","src","contentWindow","open","F","Properties","DOMIterables","classof","Iterators","COLLECTION_NAME","Collection","CollectionPrototype","isArray","V8_VERSION","SPECIES","array","constructor","foo","nativePropertyIsEnumerable","propertyIsEnumerable","NASHORN_BUG","1","V","input","PREFERRED_STRING","valueOf","internalObjectKeys","ceil","floor","isNaN","postfix","classofRaw","CORRECT_ARGUMENTS","tag","tryGet","callee","PromiseCapability","C","resolve","reject","promise","$$resolve","$$reject","charAt","InternalStateModule","defineIterator","setInternalState","getInternalState","iterated","string","point","propertyIsEnumerableModule","toIndexedObject","nativeGetOwnPropertyDescriptor","EXISTS","toAbsoluteIndex","IS_INCLUDES","el","fromIndex","includes","indexOf","max","integer","IS_PURE","version","copyright","setGlobal","CORRECT_PROTOTYPE_GETTER","ObjectPrototype","getPrototypeOf","aPossiblePrototype","setPrototypeOf","setter","CORRECT_SETTER","__proto__","getOwnPropertySymbols","Constructor","getBuiltIn","process","versions","v8","createIteratorConstructor","setToStringTag","redefine","IteratorsCore","IteratorPrototype","BUGGY_SAFARI_ITERATORS","ITERATOR","returnThis","Iterable","IteratorConstructor","DEFAULT","IS_SET","FORCED","CurrentIteratorPrototype","methods","KEY","getIterationMethod","KIND","defaultIterator","IterablePrototype","INCORRECT_VALUES_NAME","nativeIterator","anyNativeIterator","entries","values","originalArray","propertyKey","whitespace","ltrim","RegExp","rtrim","start","end","trim","_Symbol$iterator","_Symbol","_typeof","_active","menuClickEvents","clickHandler","active","unActive","Menu","insertImg","cmd","linkImgCallback","img","onload","onerror","customAlert","onabort","uploadImg","files","uploadImgServer","uploadImgShowBase64","maxSize","uploadImgMaxSize","maxSizeM","maxLength","uploadImgMaxLength","uploadFileName","uploadImgParams","uploadImgParamsWithUrl","uploadImgHeaders","hooks","uploadImgHooks","timeout","uploadImgTimeout","withCredentials","customUploadImg","resultFiles","errInfos","arrForEach","file","formData","FormData","uploadImgServerArr","uploadImgServerHash","xhr","headers","beforeSend","before","onTimeout","onProgress","percent","progressBar","lengthComputable","loaded","total","onError","status","onFail","resultStr","fail","onSuccess","customInsert","errno","link","success","_this","reader","FileReader","readAsDataURL","UploadImg","isRe","CeilStack","revokeData","resetMaxSize","resetMax","save","clear","instack","revoke","outstack","restore","feature","detection","normalize","POLYFILL","NATIVE","toLowerCase","names","Promise","unsafe","CONSTRUCTOR_NAME","functionToString","inspectSource","defaultConstructor","S","defer","channel","port","IS_IOS","IS_NODE","location","setImmediate","clearImmediate","MessageChannel","Dispatch","counter","queue","run","runner","listener","post","postMessage","protocol","host","nextTick","now","port2","port1","onmessage","importScripts","newPromiseCapability","x","promiseCapability","PrototypeOfArrayIteratorPrototype","arrayIterator","InternalMetadataModule","iterate","anInstance","internalStateGetterFor","wrapper","common","IS_WEAK","ADDER","NativePrototype","exported","collection","IS_ADDER","getConstructor","REQUIRED","setStrong","FREEZING","METADATA","isExtensible","setMetadata","objectID","weakData","meta","fastKey","getWeakData","onFreeze","redefineAll","setSpecies","previous","entry","getEntry","removed","ITERATOR_NAME","getInternalCollectionState","getInternalIteratorState","kind","defineWellKnownSymbol","getOwnPropertyNames","getPasteText","clipboardData","pasteText","getData","replaceHtmlSymbol","filterStyle","ignoreImg","pasteHtml","items","getAsFile","$list","$li","rendered","$menuELem","menuHeight","DropList","$selectionELem","getSelectionContainerElem","url","option","XMLHttpRequest","ontimeout","console","upload","onprogress","setRequestHeader","beforeResult","prevent","msg","onreadystatechange","readyState","responseText","parse","ex","send","$textContainer","$bar","isShow","time","timeoutId","progress","Progress","desc","g","D","objectKeys","api","default","locals","___CSS_LOADER_API_IMPORT___","___CSS_LOADER_GET_URL_IMPORT___","___CSS_LOADER_URL_IMPORT_0___","___CSS_LOADER_URL_REPLACEMENT_0___","hash","needQuotes","Element","ownerDocument","$AggregateError","errors","message","errorsArray","AggregateError","ArrayPrototype","returnMethod","Internal","OwnPromiseCapability","PromiseWrapper","nativeThen","NativePromise","checkCorrectnessOfIteration","speciesConstructor","task","microtask","promiseResolve","hostReportErrors","newPromiseCapabilityModule","perform","PROMISE","getInternalPromiseState","PromiseConstructor","$fetch","newGenericPromiseCapability","DISPATCH_EVENT","createEvent","dispatchEvent","NATIVE_REJECTION_EVENT","PromiseRejectionEvent","FakePromise","then","INCORRECT_ITERATION","isThenable","notify","isReject","notified","chain","reactions","ok","exited","reaction","handler","rejection","onHandleUnhandled","enter","exit","onUnhandled","reason","initEvent","isUnhandled","emit","unwrap","internalReject","internalResolve","executor","onFulfilled","onRejected","fetch","capability","$promiseResolve","remaining","alreadyCalled","race","SAFE_CLOSING","called","iteratorWithReturn","from","SKIP_CLOSING","ITERATION_SUPPORT","flush","toggle","node","macrotask","MutationObserver","WebKitMutationObserver","queueMicrotaskDescriptor","queueMicrotask","observe","characterData","allSettled","any","alreadyResolved","alreadyRejected","onFinally","isFunction","CONVERT_TO_STRING","pos","second","position","charCodeAt","codeAt","addToUnscopables","Arguments","CSSRuleList","CSSStyleDeclaration","CSSValueList","ClientRectList","DOMRectList","DOMStringList","DOMTokenList","DataTransferItemList","FileList","HTMLAllCollection","HTMLFormElement","HTMLSelectElement","MediaList","MimeTypeArray","NamedNodeMap","PaintRequestList","Plugin","PluginArray","SVGLengthList","SVGNumberList","SVGPathSegList","SVGPointList","SVGStringList","SVGTransformList","SourceBufferList","StyleSheetList","TextTrackCueList","TextTrackList","TouchList","EDITOR_ID","toolbarSelector","textSelector","beforeDestroyHooks","toolbarElemId","textElemId","isFocus","isComposing","isCompatibleMode","menus","change","history","disable","enable","initSelection","newLine","init","compatibleMode","onchangeTimeout","beforeDestroy","destroy","fullScreen","setFullScreen","unFullScreen","setUnFullScreen","scrollToHead","Editor","own","entryVirtual","$forEach","arrayMethodIsStrict","arrayMethodUsesToLength","STRICT_METHOD","USES_TO_LENGTH","FunctionPrototype","factories","construct","argsLength","partArgs","arrayIncludes","stringIncludes","StringPrototype","$includes","notARegExp","correctIsRegExpLogic","searchString","isRegExp","MATCH","regexp","error1","error2","$filter","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","createProperty","0","deleteCount","insertCount","actualDeleteCount","A","k","to","len","actualStart","argumentsLength","$indexOf","nativeIndexOf","NEGATIVE_ZERO","searchElement","Map","collectionStrong","preventExtensions","$trim","forcedStringTrimMethod","whitespaces","$map","WrappedWellKnownSymbolModule","IS_CONCAT_SPREADABLE","IS_CONCAT_SPREADABLE_SUPPORT","SPECIES_SUPPORT","isConcatSpreadable","spreadable","E","nativeObjectCreate","getOwnPropertyNamesModule","getOwnPropertyNamesExternal","getOwnPropertySymbolsModule","getOwnPropertyDescriptorModule","HIDDEN","TO_PRIMITIVE","$Symbol","$stringify","nativeGetOwnPropertyNames","AllSymbols","ObjectPrototypeSymbols","StringToSymbolRegistry","SymbolToStringRegistry","QObject","USE_SETTER","findChild","setSymbolDescriptor","ObjectPrototypeDescriptor","description","symbol","isSymbol","$defineProperty","$defineProperties","properties","$getOwnPropertySymbols","$propertyIsEnumerable","$getOwnPropertyDescriptor","$getOwnPropertyNames","IS_OBJECT_PROTOTYPE","keyFor","sym","useSetter","useSimple","replacer","space","$replacer","windowNames","getWindowNames","scheduler","boundArgs","setInterval","nativeSlice","fin","parseInt","parseIntImplementation","$parseInt","radix","defaultConfig","linkCheck","linkImgCheck","assign","nativeAssign","B","chr","T","j","SINA_PATH1","SINA_PATH2","fontNames","fontSizes","small","normal","large","languageType","languageTab","emotions","alt","lineHeights","undoLimit","indentation","onchange","onfocus","onblur","onCatalogChange","alertInfo","alertType","debugInfo","alert","pasteFilterStyle","pasteIgnoreImg","pasteTextHandle","styleWithCSS","showLinkImg","uploadImgAccept","placeholder","zIndexFullScreen","showFullScreen","languages","wangEditor","重置","插入","默认","创建","修改","如","请输入正文","dropListMenu","设置标题","背景颜色","文字颜色","设置字号","设置字体","设置缩进","对齐方式","设置行高","序列","正文","indent","增加缩进","减少缩进","justify","靠左","居中","靠右","两端","无序列表","有序列表","panelMenus","emoticon","新浪","emoji","手势","image","图片链接","上传图片","网络图片","链接","链接文字","取消链接","查看链接","video","插入视频","table","行","列","的","表格","添加行","删除行","添加列","删除列","设置表头","取消表头","插入表格","删除表格","code","删除代码","修改代码","插入代码","validate","张图片","大于","不是图片","返回结果","上传图片超时","上传图片错误","上传图片失败","插入图片错误","一次最多上传","下载链接失败","图片验证未通过","服务器返回状态","上传图片返回结果错误","请替换为支持的图片类型","您插入的网络图片无法识别","您刚才插入的图片链接未通过编辑器校验","en","historyMaxSize","showLinkVideo","uploadVideoAccept","uploadVideoServer","uploadVideoShowBase64","uploadVideoMaxSize","uploadVideoMaxLength","uploadVideoName","uploadVideoParams","uploadVideoHeaders","uploadVideoHooks","uploadVideoTimeout","customUploadVideo","onlineVideoCheck","onlineVideoCallback","_currentRange","saveRange","_range","getSelection","rangeCount","range","getRangeAt","$containerElem","$last","createRangeByElem","restoreSelection","collapseRange","toStart","collapse","getSelectionText","commonAncestorContainer","getSelectionStartElem","startContainer","getSelectionEndElem","endContainer","isSelectionEmpty","startOffset","endOffset","removeAllRanges","addRange","createEmptyRange","setEnd","isContent","createRange","selectNodeContents","selectNode","getSelectionRangeTopNodes","getSelectionNodes","moveCursor","setStart","SelectionAndRange","$nodeList","$startElem","$endElem","recordSelectionNodes","addNodeList","isEndElem","getNextSibling","SelectionRangeTopNodes","execCommand","insertHTML","insertElem","changeActive","queryCommandSupported","insertNode","deleteContents","queryCommandValue","queryCommandState","Command","changeEvents","dropEvents","keyupEvents","tabUpEvents","tabDownEvents","enterUpEvents","enterDownEvents","deleteUpEvents","deleteDownEvents","pasteEvents","linkClickEvents","codeClickEvents","textScrollEvents","imgClickEvents","imgDragBarMouseDownEvents","tableClickEvents","splitLineEvents","_saveRange","_bindEventHooks","togglePlaceholder","$placeholder","setJSON","nodeList","getJSON","keyCode","ctrlKey","metaKey","shiftKey","throttle","$link","$target","$img","$code","$splitLine","splitLineClickEvents","$dom","Text","$find","SKIPS_HOLES","insertEmptyP","$selectionElem","$p","$parentElem","txtHtml","selectionNodeName","parentNodeName","formatHtml","getPasteHtml","$topElem","topNodeName","isIgnoreTag","IGNORE_TAGS","CUR_TAG","startElement","attrs","EMPTY_TAGS","markTagStart","necessaryAttrKeys","NECESSARY_ATTRS","attrsForTag","attrStrArr","genStartHtml","characters","str","endElement","genEndHtml","comment","regForMatch","filterEmptySpan","TOP_LEVEL_TAGS","Set","SimpleHtmlParser","startTagRe","endTagRe","attrRe","oHandler","contentHandler","lm","rc","treatAsChars","oThis","substring","leftContext","lastMatch","rightContext","parseEndTag","parseStartTag","sTag","sTagName","sRest","parseAttributes","a0","a1","a2","a3","a4","a5","a6","parseAttribute","sAttribute","sName","empty","getChildrenJSON","elemResult","textContent","attrData","attrList","attrListLength","getHtmlByNodeList","getRootNode","menuList","constructorList","extend","menuKey","MenuConstructor","_addToToolbar","menuFind","tryChangeActive","Menus","bold","italic","underline","strikeThrough","fontName","fontSize","quote","backColor","foreColor","lineHeight","undo","redo","splitLine","isSelectEmpty","Bold","dropListConf","command","oldCatalogs","addListenerCatalog","getCatalogs","addUidForSelectionElem","getRandomCode","catalogs","cmdValue","Head","core","re","low","hi","fix","offset","$linkElem","isActive","createPanel","Link","$selectedLink","inputLinkId","getRandom","inputTextId","btnOkId","btnDelId","delBtnDisplay","selectLinkElem","$text","checkLink","insertLink","selectionText","delLink","tooltip","showLinkTooltip","hideLinkTooltip","createShowHideFn","Italic","Underline","StrikeThrough","fontListConf","getItemList","isEmptySelection","isFont","isSameValue","$elems","FontStyle","itemList","fontValue","FontStyleList","isSameSize","FontSize","FontSizeList","justifyLeft","justifyCenter","justifyRight","justifyFull","Justify","topNodeElem","$topNodeElem","getTopNodeName","$quote","delSelectNode","moveNode","$targetELem","selectElem","Quote","$selectElem","$topSelectElem","$newLine","$childElem","colorListConf","color","isSpan","bgColor","backgroundColor","isSameColor","hexToRgb","BackColor","FontColor","Video","uploadVideo","inputIFrameId","upTriggerId","upFileId","fileMultipleAttr","accepts","tabsConf","fileElem","click","fileList","$video","insertVideo","initVideoDomStr","uploadVideoServerArr","uploadVideoServerHash","UploadVideo","Date","getTime","Image","linkUrlId","linkBtnId","$linkUrl","log","checkLinkImg","pasteImgHandler","_haveTextOrHtml","pastedFiles","getPasteImgs","dataTransfer","setDragStyle","$drag","$imgTarget","createDragBox","hideDrag","firstX","clientX","firstY","clientY","boxRect","imgRect","ratio","setW","setH","$document","mouseMoveHandler","mouseUpHandler","offEvents","ev","toFixed","newImgRect","bindDragEvents","showDrag","rectW","rectH","showDargBox","parseFloat","parseFloatImplementation","$parseFloat","Infinity","trimmedString","showImgTooltip","hideImgTooltip","$selectionStartElem","Indent","lengthRegex","percentRegex","parseIndentation","unit","Number","oldPL","oldVal","newVal","Emoticon","GenerateExpressionStructure","ele","res","con","insertHtml","List","allowArray","st","$selectionAll","dom","styleList","styleStr","arrayDom_a","arrayDom_b","childList","getDom","shift","setRange","styleProcessing","action","selectAllChildren","DOM","getParentNode","html_str","startDom","endDom","star","LineHeight","lineHeightList","Undo","Redo","Table","createTable","colId","rowId","insertBtnId","i18nPrefix","colValue","rowValue","createAction","$ul","$ol","tableDom","createTableHtml","rowStr","colStr","CreateTable","isMoreRowAction","showTableTooltip","getnode","selectDom","$currentRow","getRowNode","getCurrentRowIndex","htmlStr","getTableHtml","newdom","ProcessingRow","trLength","DeleteRow","getCurrentColIndex","ProcessingCol","tdLength","DeleteCol","setTheHeader","hideTableTooltip","removeAndInsertAction","domArray","generateDomAction","childNodesLenght","tr","td","cArray","th","$nodeChild","rowDom","colDom","preArr","formatEnterCode","deleteHighlightCode","replaceSpecialSymbol","insertLineCode","Code","languageId","insertCode","$codeElem","selectCodeElem","language","formatCode","getElementById","highlight","highlightAuto","showCodeTooltip","hideCodeTooltip","$DomElement","$tableDOM","$imgDOM","collapsed","createSplitLine","showSplitLineTooltip","hideSplitLineTooltip","styleSettings","$toolbarSelector","textContainerCliheight","_focusHandler","_bindChange","isChild","isToolbar","isMenu","currentHtml","_blurHandler","activeElement","_bindFocusAndBlur","_bindInput","strArr","lng","defaultNS","resources","$editorParent","$iconElem","bar","h","innerHeight","currentTarget","targetTop","tier","toolbar","textContainer","baseZIndex","tierName","mutations","observer","tar","attributeName","mutationsFilter","asyncSave","debounce","subtree","attributeOldValue","characterDataOldValue","callback","connect","disconnect","takeRecords","scroll","compile","reset","abs","unshift","compileType","compileValue","complieNodes","addedNodes","removedNodes","compliePosition","previousSibling","childs","removeNode","removeCache","record","oldValue","nodes","replenishNode","replenishData","reference","revokeFns","relative","restoreFns","$entries","TO_ENTRIES","TailChain","insertLast","current","rangeToObject","lastRange","updateLastRange","rangeHandle","selectionchange","handle","$contentDom","$menuDom","isCurtain","textContainerZindexValue","menuZindexValue"],"mappings":"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","file":"wangEditor.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"wangEditor\"] = factory();\n\telse\n\t\troot[\"wangEditor\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 129);\n","function _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nmodule.exports = _interopRequireDefault;","module.exports = require(\"core-js-pure/stable/object/define-property\");","/**\n * @description 封装 DOM 操作\n * @wangfupeng\n */\n\nimport Editor from '../editor/index'\nimport { toArray } from './util'\n\n// 记录元素基于上一个相对&绝对定位的位置信息\ntype OffsetDataType = {\n    top: number\n    left: number\n    width: number\n    height: number\n    parent: Element | null\n}\n\n// 记录代理事件绑定\ntype listener = (e: Event) => void\ntype EventItem = {\n    elem: HTMLElement\n    selector: string\n    fn: listener\n    agentFn: listener\n}\nconst AGENT_EVENTS: EventItem[] = []\n\n/**\n * 根据 html 字符串创建 elem\n * @param {String} html html\n */\nfunction _createElemByHTML(html: string): HTMLElement[] {\n    const div = document.createElement('div')\n    div.innerHTML = html\n    const elems = div.children\n    return toArray(elems)\n}\n\n/**\n * 判断是否是 DOM List\n * @param selector DOM 元素或列表\n */\nfunction _isDOMList<T extends HTMLCollection | NodeList>(selector: unknown): selector is T {\n    if (!selector) {\n        return false\n    }\n    if (selector instanceof HTMLCollection || selector instanceof NodeList) {\n        return true\n    }\n    return false\n}\n\n/**\n * 封装 querySelectorAll\n * @param selector css 选择器\n */\nfunction _querySelectorAll(selector: string): HTMLElement[] {\n    const elems = document.querySelectorAll(selector)\n    return toArray(elems)\n}\n\n/**\n * 封装 _styleArrTrim\n * @param styleArr css\n */\nfunction _styleArrTrim(style: string | string[]): string[] {\n    let styleArr: string[] = []\n    let resultArr: string[] = []\n\n    if (!Array.isArray(style)) {\n        // 有 style，将 style 按照 `;` 拆分为数组\n        styleArr = style.split(';')\n    } else {\n        styleArr = style\n    }\n\n    styleArr.forEach(item => {\n        // 对每项样式，按照 : 拆分为 key 和 value\n        let arr = item.split(':').map(i => {\n            return i.trim()\n        })\n        if (arr.length === 2) {\n            resultArr.push(arr[0] + ':' + arr[1])\n        }\n    })\n    return resultArr\n}\n\nexport type DomElementSelector =\n    | string\n    | DomElement\n    | HTMLElement\n    | Element\n    | Document\n    | HTMLCollection\n    | Node\n    | NodeList\n    | HTMLElement[]\n    | EventTarget\n    | null\n    | undefined\n\n// 构造函数\nexport class DomElement<T extends DomElementSelector = DomElementSelector> {\n    // 定义属性\n    selector!: T\n    length: number\n    elems: HTMLElement[]\n    dataSource: Map<string, any>\n\n    /**\n     * 构造函数\n     * @param selector 任一类型的选择器\n     */\n    constructor(selector: T) {\n        // 初始化属性\n        this.elems = []\n        this.length = this.elems.length\n        this.dataSource = new Map()\n\n        if (!selector) {\n            return\n        }\n\n        // 原本就是 DomElement 实例，则直接返回\n        if (selector instanceof DomElement) {\n            return selector\n        }\n\n        let selectorResult: HTMLElement[] = [] // 存储查询结果\n        const nodeType = selector instanceof Node ? selector.nodeType : -1\n        this.selector = selector\n\n        if (nodeType === 1 || nodeType === 9) {\n            selectorResult = [selector as HTMLElement]\n        } else if (_isDOMList(selector)) {\n            // DOM List\n            selectorResult = toArray(selector)\n        } else if (selector instanceof Array) {\n            // Element 数组（其他数据类型，暂时忽略）\n            selectorResult = selector\n        } else if (typeof selector === 'string') {\n            // 字符串\n            const tmpSelector = selector.replace('/\\n/mg', '').trim()\n            if (tmpSelector.indexOf('<') === 0) {\n                // 如 <div>\n                selectorResult = _createElemByHTML(tmpSelector)\n            } else {\n                // 如 #id .class\n                selectorResult = _querySelectorAll(tmpSelector)\n            }\n        }\n\n        const length = selectorResult.length\n        if (!length) {\n            // 空数组\n            return this\n        }\n\n        // 加入 DOM 节点\n        let i = 0\n        for (; i < length; i++) {\n            this.elems.push(selectorResult[i])\n        }\n        this.length = length\n    }\n\n    /**\n     * 获取元素 id\n     */\n    get id(): string {\n        return this.elems[0].id\n    }\n\n    /**\n     * 遍历所有元素，执行回调函数\n     * @param fn 回调函数\n     */\n    forEach(fn: (ele: HTMLElement, index?: number) => boolean | unknown): DomElement {\n        for (let i = 0; i < this.length; i++) {\n            const elem = this.elems[i]\n            const result = fn.call(elem, elem, i)\n            if (result === false) {\n                break\n            }\n        }\n        return this\n    }\n\n    /**\n     * 克隆元素\n     * @param deep 是否深度克隆\n     */\n    clone(deep: boolean = false): DomElement {\n        const cloneList: HTMLElement[] = []\n        this.elems.forEach(elem => {\n            cloneList.push(elem.cloneNode(!!deep) as HTMLElement)\n        })\n        return $(cloneList)\n    }\n\n    /**\n     * 获取第几个元素\n     * @param index index\n     */\n    get(index: number = 0): DomElement {\n        const length = this.length\n        if (index >= length) {\n            index = index % length\n        }\n        return $(this.elems[index])\n    }\n\n    /**\n     * 获取第一个元素\n     */\n    first(): DomElement {\n        return this.get(0)\n    }\n\n    /**\n     * 获取最后一个元素\n     */\n    last(): DomElement {\n        const length = this.length\n        return this.get(length - 1)\n    }\n\n    /**\n     * 绑定事件\n     * @param type 事件类型\n     * @param selector DOM 选择器\n     * @param fn 事件函数\n     */\n    on(type: string, fn: Function): DomElement\n    on(type: string, selector: string, fn: Function): DomElement\n    on(type: string, selector: string | Function, fn?: Function): DomElement {\n        if (!type) return this\n\n        // 没有 selector ，只有 type 和 fn\n        if (typeof selector === 'function') {\n            fn = selector\n            selector = ''\n        }\n\n        return this.forEach(elem => {\n            // 没有事件代理\n            if (!selector) {\n                // 无代理\n                elem.addEventListener(type, fn as listener)\n                return\n            }\n\n            // 有事件代理\n            const agentFn: listener = function (e) {\n                const target = e.target as HTMLElement\n                if (target.matches(selector as string)) {\n                    ;(fn as listener).call(target, e)\n                }\n            }\n            elem.addEventListener(type, agentFn)\n\n            // 缓存代理事件\n            AGENT_EVENTS.push({\n                elem: elem,\n                selector: selector as string,\n                fn: fn as listener,\n                agentFn,\n            })\n        })\n    }\n\n    /**\n     * 解绑事件\n     * @param type 事件类型\n     * @param selector DOM 选择器\n     * @param fn 事件函数\n     */\n    off(type: string, fn: Function): DomElement\n    off(type: string, selector: string, fn: Function): DomElement\n    off(type: string, selector: string | Function, fn?: Function): DomElement {\n        if (!type) return this\n\n        // 没有 selector ，只有 type 和 fn\n        if (typeof selector === 'function') {\n            fn = selector\n            selector = ''\n        }\n\n        return this.forEach(function (elem: HTMLElement) {\n            // 解绑事件代理\n            if (selector) {\n                let idx = -1\n                for (let i = 0; i < AGENT_EVENTS.length; i++) {\n                    let item = AGENT_EVENTS[i]\n                    if (item.selector === selector && item.fn === fn && item.elem === elem) {\n                        idx = i\n                        break\n                    }\n                }\n                if (idx !== -1) {\n                    const { agentFn } = AGENT_EVENTS.splice(idx, 1)[0]\n                    elem.removeEventListener(type, agentFn)\n                }\n            } else {\n                // @ts-ignore\n                elem.removeEventListener(type, fn)\n            }\n        })\n    }\n\n    /**\n     * 设置/获取 属性\n     * @param key key\n     * @param val value\n     */\n    attr(key: string): string\n    attr(key: string, val: string): DomElement\n    attr(key: string, val?: string): DomElement | string {\n        if (val == null) {\n            // 获取数据\n            return this.elems[0].getAttribute(key) || ''\n        }\n\n        // 否则，设置属性\n        return this.forEach(function (elem: HTMLElement) {\n            elem.setAttribute(key, val)\n        })\n    }\n\n    /**\n     * 删除 属性\n     * @param key key\n     */\n    removeAttr(key: string): void {\n        this.forEach(function (elem: HTMLElement) {\n            elem.removeAttribute(key)\n        })\n    }\n\n    /**\n     * 添加 css class\n     * @param className css class\n     */\n    addClass(className?: string): DomElement {\n        if (!className) {\n            return this\n        }\n\n        return this.forEach(function (elem: HTMLElement) {\n            if (elem.className) {\n                // 当前有 class\n                let arr: string[] = elem.className.split(/\\s/)\n                arr = arr.filter(item => {\n                    return !!item.trim()\n                })\n                // 添加 class\n                if (arr.indexOf(className) < 0) {\n                    arr.push(className)\n                }\n                // 修改 elem.class\n                elem.className = arr.join(' ')\n            } else {\n                // 当前没有 class\n                elem.className = className\n            }\n        })\n    }\n\n    /**\n     * 添加 css class\n     * @param className css class\n     */\n    removeClass(className?: string): DomElement {\n        if (!className) {\n            return this\n        }\n        return this.forEach(function (elem: HTMLElement) {\n            if (!elem.className) {\n                // 当前无 class\n                return\n            }\n\n            let arr: string[] = elem.className.split(/\\s/)\n            arr = arr.filter(item => {\n                item = item.trim()\n                // 删除 class\n                if (!item || item === className) {\n                    return false\n                }\n                return true\n            })\n            // 修改 elem.class\n            elem.className = arr.join(' ')\n        })\n    }\n\n    /**\n     * 是否有传入的 css class\n     * @param className css class\n     */\n    hasClass(className?: string): boolean {\n        if (!className) {\n            return false\n        }\n        const elem = this.elems[0]\n        if (!elem.className) {\n            // 当前无 class\n            return false\n        }\n        let arr: string[] = elem.className.split(/\\s/)\n        return arr.includes(className) // 是否包含\n    }\n\n    /**\n     * 修改 css\n     * @param key css key\n     * @param val css value\n     */\n    // css(key: string): string\n    css(key: string, val?: string | number): DomElement {\n        let currentStyle: string\n        if (val == '') {\n            currentStyle = ''\n        } else {\n            currentStyle = `${key}:${val};`\n        }\n        return this.forEach(elem => {\n            const style = (elem.getAttribute('style') || '').trim()\n            if (style) {\n                // 有 style，将 style 按照 `;` 拆分为数组\n                let resultArr: string[] = _styleArrTrim(style)\n\n                // 替换现有的 style\n                resultArr = resultArr.map(item => {\n                    if (item.indexOf(key) === 0) {\n                        return currentStyle\n                    } else {\n                        return item\n                    }\n                })\n                // 新增 style\n                if (currentStyle != '' && resultArr.indexOf(currentStyle) < 0) {\n                    resultArr.push(currentStyle)\n                }\n\n                // 去掉 空白\n                if (currentStyle == '') {\n                    resultArr = _styleArrTrim(resultArr)\n                }\n\n                // 重新设置 style\n                elem.setAttribute('style', resultArr.join('; '))\n            } else {\n                // 当前没有 style\n                elem.setAttribute('style', currentStyle)\n            }\n        })\n    }\n\n    /**\n     * 封装 getBoundingClientRect\n     */\n    getBoundingClientRect(): DOMRect {\n        const elem = this.elems[0]\n        return elem.getBoundingClientRect()\n    }\n\n    /**\n     * 显示\n     */\n    show(): DomElement {\n        return this.css('display', 'block')\n    }\n\n    /**\n     * 隐藏\n     */\n    hide(): DomElement {\n        return this.css('display', 'none')\n    }\n\n    /**\n     * 获取子节点（只有 DOM 元素）\n     */\n    children(): DomElement | null {\n        const elem = this.elems[0]\n        if (!elem) {\n            return null\n        }\n\n        return $(elem.children)\n    }\n\n    /**\n     * 获取子节点（包括文本节点）\n     */\n    childNodes(): DomElement | null {\n        const elem = this.elems[0]\n        if (!elem) {\n            return null\n        }\n\n        return $(elem.childNodes)\n    }\n\n    /**\n     * 将子元素全部替换\n     * @param $children 新的child节点\n     */\n    replaceChildAll($children: DomElement): void {\n        const parent = this.getNode()\n        const elem = this.elems[0]\n        while (elem.hasChildNodes()) {\n            parent.firstChild && elem.removeChild(parent.firstChild)\n        }\n        this.append($children)\n    }\n\n    /**\n     * 增加子节点\n     * @param $children 子节点\n     */\n    append($children: DomElement): DomElement {\n        return this.forEach(elem => {\n            $children.forEach(function (child: HTMLElement) {\n                elem.appendChild(child)\n            })\n        })\n    }\n\n    /**\n     * 移除当前节点\n     */\n    remove(): DomElement {\n        return this.forEach(elem => {\n            if (elem.remove) {\n                elem.remove()\n            } else {\n                const parent = elem.parentElement\n                parent && parent.removeChild(elem)\n            }\n        })\n    }\n\n    /**\n     * 当前元素，是否包含某个子元素\n     * @param $child 子元素\n     */\n    isContain($child: DomElement): boolean {\n        const elem = this.elems[0]\n        const child = $child.elems[0]\n        return elem.contains(child)\n    }\n\n    /**\n     * 获取当前元素的尺寸和位置信息\n     */\n    getSizeData(): DOMRect {\n        const elem = this.elems[0]\n        // 可得到 bottom height left right top width 的数据\n        return elem.getBoundingClientRect()\n    }\n\n    /**\n     * 获取当前元素 nodeName\n     */\n    getNodeName(): string {\n        const elem = this.elems[0]\n        return elem.nodeName\n    }\n\n    /**\n     * 获取当前元素节点\n     */\n    getNode(): Node {\n        const elem = this.elems[0]\n        return elem\n    }\n\n    /**\n     * 获取当前元素可视高度\n     */\n    getClientHeight(): number {\n        const elem = this.elems[0]\n        return elem.clientHeight\n    }\n\n    /**\n     * 获取当前元素可视宽度\n     */\n    // getClientWidth(): number {\n    //     const elem = this.elems[0]\n    //     return elem.clientWidth\n    // }\n\n    /**\n     * 查询\n     * @param selector css 选择器\n     */\n    find(selector: string): DomElement {\n        const elem = this.elems[0]\n        return $(elem.querySelectorAll(selector))\n    }\n\n    /**\n     * 获取/设置 元素 text\n     * @param val text 值\n     */\n    text(): string\n    text(val: string): DomElement\n    text(val?: string): DomElement | string {\n        if (!val) {\n            // 获取 text\n            const elem = this.elems[0]\n\n            return elem.innerHTML.replace(/<[^>]+>/g, () => '')\n        } else {\n            // 设置 text\n            return this.forEach(function (elem: HTMLElement) {\n                elem.innerHTML = val\n            })\n        }\n    }\n\n    /**\n     * 设置/获取 元素 html\n     * @param val html 值\n     */\n    html(): string\n    html(val: string): DomElement\n    html(val?: string): DomElement | string {\n        const elem = this.elems[0]\n        if (!val) {\n            // 获取 html\n            return elem.innerHTML\n        } else {\n            // 设置 html\n            elem.innerHTML = val\n            return this\n        }\n    }\n\n    /**\n     * 获取元素 value\n     */\n    val(): string {\n        const elem = this.elems[0]\n        return (elem as any).value.trim() // 暂用 any\n    }\n\n    /**\n     * focus 到当前元素\n     */\n    focus(): DomElement {\n        return this.forEach(elem => {\n            elem.focus()\n        })\n    }\n\n    /**\n     * 当前元素前一个兄弟节点\n     */\n    prev(): DomElement {\n        const elem = this.elems[0]\n        return $(elem.previousElementSibling)\n    }\n\n    /**\n     * 当前元素后一个兄弟节点\n     */\n    next(): DomElement {\n        const elem = this.elems[0]\n        return $(elem.nextElementSibling)\n    }\n\n    /**\n     * 获取父元素\n     */\n    parent(): DomElement {\n        const elem = this.elems[0]\n        return $(elem.parentElement)\n    }\n\n    /**\n     * 查找父元素，直到满足 selector 条件\n     * @param selector css 选择器\n     * @param curElem 从哪个元素开始查找，默认为当前元素\n     */\n    parentUntil(selector: string, curElem?: HTMLElement): DomElement | null {\n        const elem = curElem || this.elems[0]\n        if (elem.nodeName === 'BODY') {\n            return null\n        }\n\n        const parent = elem.parentElement\n        if (parent === null) {\n            return null\n        }\n\n        if (parent.matches(selector)) {\n            // 找到，并返回\n            return $(parent)\n        }\n\n        // 继续查找，递归\n        return this.parentUntil(selector, parent)\n    }\n\n    /**\n     * 查找父元素，直到满足 selector 条件,或者 到达 编辑区域容器以及菜单栏容器\n     * @param selector css 选择器\n     * @param curElem 从哪个元素开始查找，默认为当前元素\n     */\n    parentUntilEditor(selector: string, editor: Editor, curElem?: HTMLElement): DomElement | null {\n        const elem = curElem || this.elems[0]\n        if ($(elem).equal(editor.$textContainerElem) || $(elem).equal(editor.$toolbarElem)) {\n            return null\n        }\n\n        const parent = elem.parentElement\n        if (parent === null) {\n            return null\n        }\n\n        if (parent.matches(selector)) {\n            // 找到，并返回\n            return $(parent)\n        }\n\n        // 继续查找，递归\n        return this.parentUntilEditor(selector, editor, parent)\n    }\n\n    /**\n     * 判读是否相等\n     * @param $elem 元素\n     */\n    equal($elem: DomElement | HTMLElement): boolean {\n        if ($elem instanceof DomElement) {\n            return this.elems[0] === $elem.elems[0]\n        } else if ($elem instanceof HTMLElement) {\n            return this.elems[0] === $elem\n        } else {\n            return false\n        }\n    }\n\n    /**\n     * 将该元素插入到某个元素前面\n     * @param selector css 选择器\n     */\n    insertBefore(selector: string | DomElement): DomElement {\n        const $referenceNode = $(selector)\n        const referenceNode = $referenceNode.elems[0]\n        if (!referenceNode) {\n            return this\n        }\n        return this.forEach(elem => {\n            const parent = referenceNode.parentNode as Node\n            parent.insertBefore(elem, referenceNode)\n        })\n    }\n\n    /**\n     * 将该元素插入到某个元素后面\n     * @param selector css 选择器\n     */\n    insertAfter(selector: string | DomElement): DomElement {\n        const $referenceNode = $(selector)\n        const referenceNode = $referenceNode.elems[0]\n        const anchorNode = referenceNode && referenceNode.nextSibling\n        if (!referenceNode) {\n            return this\n        }\n        return this.forEach(function (elem: HTMLElement) {\n            const parent = referenceNode.parentNode as Node\n            if (anchorNode) {\n                parent.insertBefore(elem, anchorNode)\n            } else {\n                parent.appendChild(elem)\n            }\n        })\n    }\n\n    /**\n     * 设置/获取 数据\n     * @param key key\n     * @param value value\n     */\n    data<T>(key: string, value?: T): T | undefined {\n        if (value != null) {\n            // 设置数据\n            this.dataSource.set(key, value)\n        } else {\n            // 获取数据\n            return this.dataSource.get(key)\n        }\n    }\n\n    /**\n     * 获取当前节点的顶级(段落)\n     * @param editor 富文本实例\n     */\n    getNodeTop(editor: Editor): DomElement {\n        if (this.length < 1) {\n            return this\n        }\n\n        const $parent = this.parent()\n        if (editor.$textElem.equal($parent)) {\n            return this\n        }\n\n        return $parent.getNodeTop(editor)\n    }\n\n    /**\n     * 获取当前 节点 基与上一个拥有相对或者解决定位的父容器的位置\n     * @param editor 富文本实例\n     */\n    getOffsetData(): OffsetDataType {\n        const $node = this.elems[0]\n        return {\n            top: $node.offsetTop,\n            left: $node.offsetLeft,\n            width: $node.offsetWidth,\n            height: $node.offsetHeight,\n            parent: $node.offsetParent,\n        }\n    }\n\n    /**\n     * 从上至下进行滚动\n     * @param top 滚动的值\n     */\n    scrollTop(top: number): void {\n        const $node = this.elems[0]\n        $node.scrollTo({ top })\n    }\n}\n\n// new 一个对象\nfunction $(...arg: ConstructorParameters<typeof DomElement>): DomElement {\n    return new DomElement(...arg)\n}\n\nexport default $\n","module.exports = require(\"core-js-pure/stable/object/create\");","'use strict';\nvar global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar isForced = require('../internals/is-forced');\nvar path = require('../internals/path');\nvar bind = require('../internals/function-bind-context');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar has = require('../internals/has');\n\nvar wrapConstructor = function (NativeConstructor) {\n  var Wrapper = function (a, b, c) {\n    if (this instanceof NativeConstructor) {\n      switch (arguments.length) {\n        case 0: return new NativeConstructor();\n        case 1: return new NativeConstructor(a);\n        case 2: return new NativeConstructor(a, b);\n      } return new NativeConstructor(a, b, c);\n    } return NativeConstructor.apply(this, arguments);\n  };\n  Wrapper.prototype = NativeConstructor.prototype;\n  return Wrapper;\n};\n\n/*\n  options.target      - name of the target object\n  options.global      - target is the global object\n  options.stat        - export as static methods of target\n  options.proto       - export as prototype methods of target\n  options.real        - real prototype method for the `pure` version\n  options.forced      - export even if the native feature is available\n  options.bind        - bind methods to the target, required for the `pure` version\n  options.wrap        - wrap constructors to preventing global pollution, required for the `pure` version\n  options.unsafe      - use the simple assignment of property instead of delete + defineProperty\n  options.sham        - add a flag to not completely full polyfills\n  options.enumerable  - export as enumerable property\n  options.noTargetGet - prevent calling a getter on target\n*/\nmodule.exports = function (options, source) {\n  var TARGET = options.target;\n  var GLOBAL = options.global;\n  var STATIC = options.stat;\n  var PROTO = options.proto;\n\n  var nativeSource = GLOBAL ? global : STATIC ? global[TARGET] : (global[TARGET] || {}).prototype;\n\n  var target = GLOBAL ? path : path[TARGET] || (path[TARGET] = {});\n  var targetPrototype = target.prototype;\n\n  var FORCED, USE_NATIVE, VIRTUAL_PROTOTYPE;\n  var key, sourceProperty, targetProperty, nativeProperty, resultProperty, descriptor;\n\n  for (key in source) {\n    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n    // contains in native\n    USE_NATIVE = !FORCED && nativeSource && has(nativeSource, key);\n\n    targetProperty = target[key];\n\n    if (USE_NATIVE) if (options.noTargetGet) {\n      descriptor = getOwnPropertyDescriptor(nativeSource, key);\n      nativeProperty = descriptor && descriptor.value;\n    } else nativeProperty = nativeSource[key];\n\n    // export native or implementation\n    sourceProperty = (USE_NATIVE && nativeProperty) ? nativeProperty : source[key];\n\n    if (USE_NATIVE && typeof targetProperty === typeof sourceProperty) continue;\n\n    // bind timers to global for call from export context\n    if (options.bind && USE_NATIVE) resultProperty = bind(sourceProperty, global);\n    // wrap global constructors for prevent changs in this version\n    else if (options.wrap && USE_NATIVE) resultProperty = wrapConstructor(sourceProperty);\n    // make static versions for prototype methods\n    else if (PROTO && typeof sourceProperty == 'function') resultProperty = bind(Function.call, sourceProperty);\n    // default case\n    else resultProperty = sourceProperty;\n\n    // add a flag to not completely full polyfills\n    if (options.sham || (sourceProperty && sourceProperty.sham) || (targetProperty && targetProperty.sham)) {\n      createNonEnumerableProperty(resultProperty, 'sham', true);\n    }\n\n    target[key] = resultProperty;\n\n    if (PROTO) {\n      VIRTUAL_PROTOTYPE = TARGET + 'Prototype';\n      if (!has(path, VIRTUAL_PROTOTYPE)) {\n        createNonEnumerableProperty(path, VIRTUAL_PROTOTYPE, {});\n      }\n      // export virtual prototype methods\n      path[VIRTUAL_PROTOTYPE][key] = sourceProperty;\n      // export real prototype methods\n      if (options.real && targetPrototype && !targetPrototype[key]) {\n        createNonEnumerableProperty(targetPrototype, key, sourceProperty);\n      }\n    }\n  }\n};\n","module.exports = require(\"core-js-pure/stable/object/set-prototype-of\");","module.exports = require(\"core-js-pure/stable/instance/for-each\");","/**\n * @description 工具函数集合\n * @author wangfupeng\n */\n\nclass NavUA {\n    public _ua: string\n\n    // 是否为旧版 Edge\n    public isOldEdge: boolean\n\n    // 是否为 Firefox\n    public isFirefox: boolean\n\n    constructor() {\n        this._ua = navigator.userAgent\n\n        const math = this._ua.match(/(Edge?)\\/(\\d+)/)\n        this.isOldEdge = math && math[1] == 'Edge' && parseInt(math[2]) < 19 ? true : false\n\n        this.isFirefox =\n            /Firefox\\/\\d+/.test(this._ua) && !/Seamonkey\\/\\d+/.test(this._ua) ? true : false\n    }\n\n    // 是否为 IE\n    public isIE() {\n        return 'ActiveXObject' in window\n    }\n\n    // 是否为 webkit\n    public isWebkit() {\n        return /webkit/i.test(this._ua)\n    }\n}\n\n// 和 UA 相关的属性\nexport const UA = new NavUA()\n\n/**\n * 获取随机字符\n * @param prefix 前缀\n */\nexport function getRandom(prefix: string = ''): string {\n    return prefix + Math.random().toString().slice(2)\n}\n\n/**\n * 替换 html 特殊字符\n * @param html html 字符串\n */\nexport function replaceHtmlSymbol(html: string) {\n    return html\n        .replace(/</gm, '&lt;')\n        .replace(/>/gm, '&gt;')\n        .replace(/\"/gm, '&quot;')\n        .replace(/(\\r\\n|\\r|\\n)/g, '<br/>')\n}\n\nexport function replaceSpecialSymbol(value: string) {\n    return value\n        .replace(/&lt;/gm, '<')\n        .replace(/&gt;/gm, '>')\n        .replace(/&quot;/gm, '\"')\n}\n\ninterface Obj {\n    [key: string]: unknown\n    [key: number]: unknown\n}\ninterface ArrObj {\n    length: number\n    [key: number]: unknown\n}\n\n/**\n * 遍历对象或数组，执行回调函数\n * @param obj 对象或数组\n * @param fn 回调函数 (key, val) => {...}\n */\nexport function forEach<T extends ArrObj, V = T[Extract<keyof T, number>]>(\n    obj: T,\n    fn: (key: string, value: V) => boolean | void\n): void\nexport function forEach<T extends Obj>(\n    obj: T,\n    fn: (key: string, value: T[Extract<keyof T, string | number>]) => boolean | void\n): void\nexport function forEach<T extends unknown[]>(\n    obj: T,\n    fn: (key: string, value: T[Extract<keyof T, number>]) => boolean | void\n): void\nexport function forEach<T extends unknown[] | Obj | ArrObj>(\n    obj: T,\n    fn: (\n        key: string,\n        value: T[Extract<keyof T, number>] | T[Extract<keyof T, string>]\n    ) => boolean | void\n): void {\n    for (let key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) {\n            const result = fn(key, obj[key])\n            if (result === false) {\n                // 提前终止循环\n                break\n            }\n        }\n    }\n}\n\n/**\n * 遍历类数组\n * @param fakeArr 类数组\n * @param fn 回调函数\n */\nexport function arrForEach<T extends { length: number; [key: number]: unknown }>(\n    fakeArr: T,\n    fn: (this: T, item: T[number], index: number) => boolean | unknown\n): void {\n    let i, item, result\n    const length = fakeArr.length || 0\n    for (i = 0; i < length; i++) {\n        item = fakeArr[i]\n        result = fn.call(fakeArr, item, i)\n        if (result === false) {\n            break\n        }\n    }\n}\n\n/**\n * 节流\n * @param fn 函数\n * @param interval 间隔时间，毫秒\n */\n\nexport function throttle<C, T extends unknown[]>(\n    fn: (this: C, ...args: T) => unknown,\n    interval: number = 200\n) {\n    let flag = false\n    return function (this: C, ...args: T): void {\n        if (!flag) {\n            flag = true\n            setTimeout(() => {\n                flag = false\n                fn.call(this, ...args) // this 报语法错误，先用 null\n            }, interval)\n        }\n    }\n}\n\n/**\n * 防抖\n * @param fn 函数\n * @param delay 间隔时间，毫秒\n */\nexport function debounce<C, T extends unknown[]>(\n    fn: (this: C, ...args: T) => void,\n    delay: number = 200\n): (this: C, ...args: T) => void {\n    let lastFn = 0\n    return function (...args: T) {\n        if (lastFn) {\n            window.clearTimeout(lastFn)\n        }\n        lastFn = window.setTimeout(() => {\n            lastFn = 0\n            fn.call(this, ...args) // this 报语法错误，先用 null\n        }, delay)\n    }\n}\n\n/**\n * isFunction 是否是函数\n * @param fn 函数\n */\nexport function isFunction(fn: any): fn is Function {\n    return typeof fn === 'function'\n}\n\n/**\n * 引用与非引用值 深拷贝方法\n * @param data\n */\nexport function deepClone<T>(data: T): T {\n    if (typeof data !== 'object' || typeof data == 'function' || data === null) {\n        return data\n    }\n\n    let item: any\n    if (Array.isArray(data)) {\n        item = []\n    }\n\n    if (!Array.isArray(data)) {\n        item = {}\n    }\n\n    for (let i in data) {\n        if (Object.prototype.hasOwnProperty.call(data, i)) {\n            item[i] = deepClone(data[i])\n        }\n    }\n\n    return item\n}\n\n/**\n * 将可遍历的对象转换为数组\n * @param data 可遍历的对象\n */\nexport function toArray<T>(data: T) {\n    return Array.prototype.slice.call(data)\n}\n\n/**\n * 唯一id生成\n * @param length 随机数长度\n */\nexport function getRandomCode() {\n    return Math.random().toString(36).slice(-5)\n}\n\n/**\n * hex color 转换成 rgb\n * @param hex string\n */\nexport function hexToRgb(hex: string) {\n    const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex)\n\n    if (result == null) return null\n\n    const colors = result.map(i => parseInt(i, 16))\n    const r = colors[1]\n    const g = colors[2]\n    const b = colors[3]\n\n    return `rgb(${r}, ${g}, ${b})`\n}\n","var check = function (it) {\n  return it && it.Math == Math && it;\n};\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nmodule.exports =\n  // eslint-disable-next-line no-undef\n  check(typeof globalThis == 'object' && globalThis) ||\n  check(typeof window == 'object' && window) ||\n  check(typeof self == 'object' && self) ||\n  check(typeof global == 'object' && global) ||\n  // eslint-disable-next-line no-new-func\n  (function () { return this; })() || Function('return this')();\n","var global = require('../internals/global');\nvar shared = require('../internals/shared');\nvar has = require('../internals/has');\nvar uid = require('../internals/uid');\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar WellKnownSymbolsStore = shared('wks');\nvar Symbol = global.Symbol;\nvar createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol : Symbol && Symbol.withoutSetter || uid;\n\nmodule.exports = function (name) {\n  if (!has(WellKnownSymbolsStore, name)) {\n    if (NATIVE_SYMBOL && has(Symbol, name)) WellKnownSymbolsStore[name] = Symbol[name];\n    else WellKnownSymbolsStore[name] = createWellKnownSymbol('Symbol.' + name);\n  } return WellKnownSymbolsStore[name];\n};\n","module.exports = {};\n","var path = require('../internals/path');\nvar has = require('../internals/has');\nvar wrappedWellKnownSymbolModule = require('../internals/well-known-symbol-wrapped');\nvar defineProperty = require('../internals/object-define-property').f;\n\nmodule.exports = function (NAME) {\n  var Symbol = path.Symbol || (path.Symbol = {});\n  if (!has(Symbol, NAME)) defineProperty(Symbol, NAME, {\n    value: wrappedWellKnownSymbolModule.f(NAME)\n  });\n};\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (error) {\n    return true;\n  }\n};\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","var fails = require('../internals/fails');\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !fails(function () {\n  return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] != 7;\n});\n","var hasOwnProperty = {}.hasOwnProperty;\n\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = DESCRIPTORS ? function (object, key, value) {\n  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\nvar anObject = require('../internals/an-object');\nvar toPrimitive = require('../internals/to-primitive');\n\nvar nativeDefineProperty = Object.defineProperty;\n\n// `Object.defineProperty` method\n// https://tc39.github.io/ecma262/#sec-object.defineproperty\nexports.f = DESCRIPTORS ? nativeDefineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return nativeDefineProperty(O, P, Attributes);\n  } catch (error) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","var path = require('../internals/path');\n\nmodule.exports = function (CONSTRUCTOR) {\n  return path[CONSTRUCTOR + 'Prototype'];\n};\n","module.exports = require(\"core-js-pure/stable/instance/trim\");","\"use strict\";\n\nvar isOldIE = function isOldIE() {\n  var memo;\n  return function memorize() {\n    if (typeof memo === 'undefined') {\n      // Test for IE <= 9 as proposed by Browserhacks\n      // @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n      // Tests for existence of standard globals is to allow style-loader\n      // to operate correctly into non-standard environments\n      // @see https://github.com/webpack-contrib/style-loader/issues/177\n      memo = Boolean(window && document && document.all && !window.atob);\n    }\n\n    return memo;\n  };\n}();\n\nvar getTarget = function getTarget() {\n  var memo = {};\n  return function memorize(target) {\n    if (typeof memo[target] === 'undefined') {\n      var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself\n\n      if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n        try {\n          // This will throw an exception if access to iframe is blocked\n          // due to cross-origin restrictions\n          styleTarget = styleTarget.contentDocument.head;\n        } catch (e) {\n          // istanbul ignore next\n          styleTarget = null;\n        }\n      }\n\n      memo[target] = styleTarget;\n    }\n\n    return memo[target];\n  };\n}();\n\nvar stylesInDom = [];\n\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n\n  for (var i = 0; i < stylesInDom.length; i++) {\n    if (stylesInDom[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n\n  return result;\n}\n\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var index = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3]\n    };\n\n    if (index !== -1) {\n      stylesInDom[index].references++;\n      stylesInDom[index].updater(obj);\n    } else {\n      stylesInDom.push({\n        identifier: identifier,\n        updater: addStyle(obj, options),\n        references: 1\n      });\n    }\n\n    identifiers.push(identifier);\n  }\n\n  return identifiers;\n}\n\nfunction insertStyleElement(options) {\n  var style = document.createElement('style');\n  var attributes = options.attributes || {};\n\n  if (typeof attributes.nonce === 'undefined') {\n    var nonce = typeof __webpack_nonce__ !== 'undefined' ? __webpack_nonce__ : null;\n\n    if (nonce) {\n      attributes.nonce = nonce;\n    }\n  }\n\n  Object.keys(attributes).forEach(function (key) {\n    style.setAttribute(key, attributes[key]);\n  });\n\n  if (typeof options.insert === 'function') {\n    options.insert(style);\n  } else {\n    var target = getTarget(options.insert || 'head');\n\n    if (!target) {\n      throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n    }\n\n    target.appendChild(style);\n  }\n\n  return style;\n}\n\nfunction removeStyleElement(style) {\n  // istanbul ignore if\n  if (style.parentNode === null) {\n    return false;\n  }\n\n  style.parentNode.removeChild(style);\n}\n/* istanbul ignore next  */\n\n\nvar replaceText = function replaceText() {\n  var textStore = [];\n  return function replace(index, replacement) {\n    textStore[index] = replacement;\n    return textStore.filter(Boolean).join('\\n');\n  };\n}();\n\nfunction applyToSingletonTag(style, index, remove, obj) {\n  var css = remove ? '' : obj.media ? \"@media \".concat(obj.media, \" {\").concat(obj.css, \"}\") : obj.css; // For old IE\n\n  /* istanbul ignore if  */\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = replaceText(index, css);\n  } else {\n    var cssNode = document.createTextNode(css);\n    var childNodes = style.childNodes;\n\n    if (childNodes[index]) {\n      style.removeChild(childNodes[index]);\n    }\n\n    if (childNodes.length) {\n      style.insertBefore(cssNode, childNodes[index]);\n    } else {\n      style.appendChild(cssNode);\n    }\n  }\n}\n\nfunction applyToTag(style, options, obj) {\n  var css = obj.css;\n  var media = obj.media;\n  var sourceMap = obj.sourceMap;\n\n  if (media) {\n    style.setAttribute('media', media);\n  } else {\n    style.removeAttribute('media');\n  }\n\n  if (sourceMap && typeof btoa !== 'undefined') {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  } // For old IE\n\n  /* istanbul ignore if  */\n\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    while (style.firstChild) {\n      style.removeChild(style.firstChild);\n    }\n\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar singleton = null;\nvar singletonCounter = 0;\n\nfunction addStyle(obj, options) {\n  var style;\n  var update;\n  var remove;\n\n  if (options.singleton) {\n    var styleIndex = singletonCounter++;\n    style = singleton || (singleton = insertStyleElement(options));\n    update = applyToSingletonTag.bind(null, style, styleIndex, false);\n    remove = applyToSingletonTag.bind(null, style, styleIndex, true);\n  } else {\n    style = insertStyleElement(options);\n    update = applyToTag.bind(null, style, options);\n\n    remove = function remove() {\n      removeStyleElement(style);\n    };\n  }\n\n  update(obj);\n  return function updateStyle(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap) {\n        return;\n      }\n\n      update(obj = newObj);\n    } else {\n      remove();\n    }\n  };\n}\n\nmodule.exports = function (list, options) {\n  options = options || {}; // Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n  // tags it will allow on a page\n\n  if (!options.singleton && typeof options.singleton !== 'boolean') {\n    options.singleton = isOldIE();\n  }\n\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n\n    if (Object.prototype.toString.call(newList) !== '[object Array]') {\n      return;\n    }\n\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDom[index].references--;\n    }\n\n    var newLastIdentifiers = modulesToDom(newList, options);\n\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n\n      var _index = getIndexByIdentifier(_identifier);\n\n      if (stylesInDom[_index].references === 0) {\n        stylesInDom[_index].updater();\n\n        stylesInDom.splice(_index, 1);\n      }\n    }\n\n    lastIdentifiers = newLastIdentifiers;\n  };\n};","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \" {\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join('');\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery, dedupe) {\n    if (typeof modules === 'string') {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var i = 0; i < this.length; i++) {\n        // eslint-disable-next-line prefer-destructuring\n        var id = this[i][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = [].concat(modules[_i]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        // eslint-disable-next-line no-continue\n        continue;\n      }\n\n      if (mediaQuery) {\n        if (!item[2]) {\n          item[2] = mediaQuery;\n        } else {\n          item[2] = \"\".concat(mediaQuery, \" and \").concat(item[2]);\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || ''; // eslint-disable-next-line prefer-destructuring\n\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || '').concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n  return \"/*# \".concat(data, \" */\");\n}","/**\n * @description 下拉菜单 Class\n * @author wangfupeng\n */\n\nimport $, { DomElement } from '../../utils/dom-core'\nimport Editor from '../../editor/index'\nimport Menu from './Menu'\nimport DropList, { DropListConf } from './DropList'\n\nclass DropListMenu extends Menu {\n    public dropList: DropList\n\n    constructor($elem: DomElement, editor: Editor, conf: DropListConf) {\n        super($elem, editor)\n\n        // 国际化\n        conf.title = editor.i18next.t(`menus.dropListMenu.${conf.title}`)\n\n        // 非中文模式下 带 icon 的下拉列表居左\n        const className: string = editor.config.lang === 'zh-CN' ? '' : 'w-e-drop-list-tl'\n        if (className !== '' && conf.type === 'list') {\n            conf.list.forEach(item => {\n                const $elem = item.$elem\n                const $children = $($elem.children())\n                if ($children.length > 0) {\n                    const nodeName = $children?.getNodeName()\n                    if (nodeName && nodeName === 'I') {\n                        $elem.addClass(className)\n                    }\n                }\n            })\n        }\n\n        // 初始化 dropList\n        const dropList = new DropList(this, conf)\n        this.dropList = dropList\n\n        // 绑定事件\n        $elem\n            .on('mouseenter', () => {\n                if (editor.selection.getRange() == null) {\n                    return\n                }\n                $elem.css('z-index', editor.zIndex.get('menu'))\n                // 触发 droplist 悬浮事件\n                editor.txt.eventHooks.dropListMenuHoverEvents.forEach(fn => fn())\n                // 显示\n                dropList.showTimeoutId = window.setTimeout(() => {\n                    dropList.show()\n                }, 200)\n            })\n            .on('mouseleave', () => {\n                $elem.css('z-index', 'auto')\n                // 隐藏\n                dropList.hideTimeoutId = window.setTimeout(() => {\n                    dropList.hide()\n                })\n            })\n    }\n}\n\nexport default DropListMenu\n","var isObject = require('../internals/is-object');\n\nmodule.exports = function (it) {\n  if (!isObject(it)) {\n    throw TypeError(String(it) + ' is not an object');\n  } return it;\n};\n","module.exports = require(\"core-js-pure/stable/instance/map\");","/**\n * @description 按钮菜单 Class\n * @author wangfupeng\n */\n\nimport { DomElement } from '../../utils/dom-core'\nimport Editor from '../../editor/index'\nimport Menu from './Menu'\n\nclass BtnMenu extends Menu {\n    constructor($elem: DomElement, editor: Editor) {\n        super($elem, editor)\n    }\n}\n\nexport default BtnMenu\n","// toObject with fallback for non-array-like ES3 strings\nvar IndexedObject = require('../internals/indexed-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nmodule.exports = function (it) {\n  return IndexedObject(requireObjectCoercible(it));\n};\n","var path = require('../internals/path');\nvar global = require('../internals/global');\n\nvar aFunction = function (variable) {\n  return typeof variable == 'function' ? variable : undefined;\n};\n\nmodule.exports = function (namespace, method) {\n  return arguments.length < 2 ? aFunction(path[namespace]) || aFunction(global[namespace])\n    : path[namespace] && path[namespace][method] || global[namespace] && global[namespace][method];\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar has = require('../internals/has');\n\nvar defineProperty = Object.defineProperty;\nvar cache = {};\n\nvar thrower = function (it) { throw it; };\n\nmodule.exports = function (METHOD_NAME, options) {\n  if (has(cache, METHOD_NAME)) return cache[METHOD_NAME];\n  if (!options) options = {};\n  var method = [][METHOD_NAME];\n  var ACCESSORS = has(options, 'ACCESSORS') ? options.ACCESSORS : false;\n  var argument0 = has(options, 0) ? options[0] : thrower;\n  var argument1 = has(options, 1) ? options[1] : undefined;\n\n  return cache[METHOD_NAME] = !!method && !fails(function () {\n    if (ACCESSORS && !DESCRIPTORS) return true;\n    var O = { length: -1 };\n\n    if (ACCESSORS) defineProperty(O, 1, { enumerable: true, get: thrower });\n    else O[1] = 1;\n\n    method.call(O, argument0, argument1);\n  });\n};\n","/**\n * @description 常量\n * @author wangfupeng\n */\n\nexport function EMPTY_FN() {}\n//用于校验图片链接是否符合规范\nexport const imgRegex = /\\.(gif|jpg|jpeg|png)$/i\n\n//用于校验是否为url格式字符串\nexport const urlRegex = /^(http|ftp|https):\\/\\/[\\w\\-_]+(\\.[\\w\\-_]+)+([\\w\\-.,@?^=%&amp;:/~+#]*[\\w\\-@?^=%&amp;/~+#])?/\n\n//用于校验在线视频是否符合规范\nexport const videoRegex = /<iframe(([\\s\\S])*?)<\\/iframe>/\n","/**\n * @description panel class\n * @author wangfupeng\n */\n\nimport $, { DomElement } from '../../utils/dom-core'\nimport PanelMenu from './PanelMenu'\nimport { EMPTY_FN } from '../../utils/const'\n\n// Panel 配置格式\ntype _TabEventConf = {\n    selector: string\n    type: string\n    fn: Function\n}\nexport type PanelTabConf = {\n    title: string\n    tpl: string\n    events: _TabEventConf[]\n}\nexport type PanelConf = {\n    width: number | 0\n    height: number | 0\n    tabs: PanelTabConf[]\n}\n\nclass Panel {\n    // 记录已经创建过的 panelMenu\n    static createdMenus: Set<PanelMenu> = new Set()\n\n    private menu: PanelMenu\n    private conf: PanelConf\n    public $container: DomElement\n\n    constructor(menu: PanelMenu, conf: PanelConf) {\n        this.menu = menu\n        this.conf = conf\n        this.$container = $('<div class=\"w-e-panel-container\"></div>')\n\n        // 隐藏 panel\n        const editor = menu.editor\n        editor.txt.eventHooks.clickEvents.push(Panel.hideCurAllPanels)\n        editor.txt.eventHooks.toolbarClickEvents.push(Panel.hideCurAllPanels)\n        editor.txt.eventHooks.dropListMenuHoverEvents.push(Panel.hideCurAllPanels)\n    }\n\n    /**\n     * 创建并展示 panel\n     */\n    public create(): void {\n        const menu = this.menu\n        if (Panel.createdMenus.has(menu)) {\n            // 创建过了\n            return\n        }\n\n        const conf = this.conf\n\n        // panel 的容器\n        const $container = this.$container\n        const width = conf.width || 300 // 默认 300px\n        const rect = menu.editor.$toolbarElem.getBoundingClientRect()\n        const menuRect = menu.$elem.getBoundingClientRect()\n        const top = rect.height + rect.top - menuRect.top\n        const left = (rect.width - width) / 2 + rect.left - menuRect.left\n\n        $container\n            .css('width', width + 'px')\n            .css('margin-top', `${top}px`)\n            .css('margin-left', `${left}px`)\n            .css('z-index', menu.editor.zIndex.get('panel'))\n\n        // 添加关闭按钮\n        const $closeBtn = $('<i class=\"w-e-icon-close w-e-panel-close\"></i>')\n        $container.append($closeBtn)\n        $closeBtn.on('click', () => {\n            this.remove()\n        })\n\n        // 准备 tabs 容器\n        const $tabTitleContainer = $('<ul class=\"w-e-panel-tab-title\"></ul>')\n        const $tabContentContainer = $('<div class=\"w-e-panel-tab-content\"></div>')\n        $container.append($tabTitleContainer).append($tabContentContainer)\n\n        // 设置高度\n        const height = conf.height // height: 0 即不用设置\n        if (height) {\n            $tabContentContainer.css('height', height + 'px').css('overflow-y', 'auto')\n        }\n\n        // tabs\n        const tabs = conf.tabs || []\n        const tabTitleArr: DomElement[] = []\n        const tabContentArr: DomElement[] = []\n\n        tabs.forEach((tab: PanelTabConf, tabIndex: number) => {\n            if (!tab) {\n                return\n            }\n            const title = tab.title || ''\n            const tpl = tab.tpl || ''\n\n            // 添加到 DOM\n            const $title = $(`<li class=\"w-e-item\">${title}</li>`)\n            $tabTitleContainer.append($title)\n            const $content = $(tpl)\n            $tabContentContainer.append($content)\n\n            // 记录到内存\n            tabTitleArr.push($title)\n            tabContentArr.push($content)\n\n            // 设置 active 项\n            if (tabIndex === 0) {\n                $title.data('active', true)\n                $title.addClass('w-e-active')\n            } else {\n                $content.hide()\n            }\n\n            // 绑定 tab 的事件\n            $title.on('click', () => {\n                if ($title.data('active')) {\n                    return\n                }\n                // 隐藏所有的 tab\n                tabTitleArr.forEach($title => {\n                    $title.data('active', false)\n                    $title.removeClass('w-e-active')\n                })\n                tabContentArr.forEach($content => {\n                    $content.hide()\n                })\n\n                // 显示当前的 tab\n                $title.data('active', true)\n                $title.addClass('w-e-active')\n                $content.show()\n            })\n        })\n\n        // 绑定关闭事件\n        $container.on('click', (e: Event) => {\n            // 点击时阻止冒泡\n            e.stopPropagation()\n        })\n\n        // 添加到 DOM\n        menu.$elem.append($container)\n\n        // 绑定 conf events 的事件，只有添加到 DOM 之后才能绑定成功\n        tabs.forEach((tab: PanelTabConf, index: number) => {\n            if (!tab) {\n                return\n            }\n            const events = tab.events || []\n            events.forEach((event: _TabEventConf) => {\n                const selector = event.selector\n                const type = event.type\n                const fn = event.fn || EMPTY_FN\n                const $content = tabContentArr[index]\n                $content.find(selector).on(type, (e: Event) => {\n                    e.stopPropagation()\n                    const needToHide = fn(e)\n                    // 执行完事件之后，是否要关闭 panel\n                    if (needToHide) {\n                        this.remove()\n                    }\n                })\n            })\n        })\n\n        // focus 第一个 elem\n        let $inputs = $container.find('input[type=text],textarea')\n        if ($inputs.length) {\n            $inputs.get(0).focus()\n        }\n\n        // 隐藏其他 panel\n        Panel.hideCurAllPanels()\n\n        // 记录该 menu 已经创建了 panel\n        menu.setPanel(this)\n        Panel.createdMenus.add(menu)\n    }\n\n    /**\n     * 移除 penal\n     */\n    public remove(): void {\n        const menu = this.menu\n        const $container = this.$container\n        if ($container) {\n            $container.remove()\n        }\n\n        // 将该 menu 记录中移除\n        Panel.createdMenus.delete(menu)\n    }\n\n    /**\n     * 隐藏当前所有的 panel\n     */\n    static hideCurAllPanels(): void {\n        if (Panel.createdMenus.size === 0) {\n            return\n        }\n        Panel.createdMenus.forEach(menu => {\n            const panel = (menu as PanelMenu).panel\n            panel && panel.remove()\n        })\n    }\n}\n\nexport default Panel\n","module.exports = function (it) {\n  if (typeof it != 'function') {\n    throw TypeError(String(it) + ' is not a function');\n  } return it;\n};\n","module.exports = require(\"core-js-pure/stable/instance/find\");","/**\n * @description Modal 菜单 Class\n * @author wangfupeng\n */\n\nimport { DomElement } from '../../utils/dom-core'\nimport Editor from '../../editor/index'\nimport Menu from './Menu'\nimport Panel from './Panel'\n\nclass PanelMenu extends Menu {\n    public panel: Panel | undefined\n\n    constructor($elem: DomElement, editor: Editor) {\n        super($elem, editor)\n    }\n\n    /**\n     * 给 menu 设置 panel\n     * @param panel panel 实例\n     */\n    public setPanel(panel: Panel): void {\n        this.panel = panel\n    }\n}\n\nexport default PanelMenu\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","var toInteger = require('../internals/to-integer');\n\nvar min = Math.min;\n\n// `ToLength` abstract operation\n// https://tc39.github.io/ecma262/#sec-tolength\nmodule.exports = function (argument) {\n  return argument > 0 ? min(toInteger(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n};\n","module.exports = true;\n","var requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `ToObject` abstract operation\n// https://tc39.github.io/ecma262/#sec-toobject\nmodule.exports = function (argument) {\n  return Object(requireObjectCoercible(argument));\n};\n","var anObject = require('../internals/an-object');\nvar isArrayIteratorMethod = require('../internals/is-array-iterator-method');\nvar toLength = require('../internals/to-length');\nvar bind = require('../internals/function-bind-context');\nvar getIteratorMethod = require('../internals/get-iterator-method');\nvar iteratorClose = require('../internals/iterator-close');\n\nvar Result = function (stopped, result) {\n  this.stopped = stopped;\n  this.result = result;\n};\n\nmodule.exports = function (iterable, unboundFunction, options) {\n  var that = options && options.that;\n  var AS_ENTRIES = !!(options && options.AS_ENTRIES);\n  var IS_ITERATOR = !!(options && options.IS_ITERATOR);\n  var INTERRUPTED = !!(options && options.INTERRUPTED);\n  var fn = bind(unboundFunction, that, 1 + AS_ENTRIES + INTERRUPTED);\n  var iterator, iterFn, index, length, result, next, step;\n\n  var stop = function (condition) {\n    if (iterator) iteratorClose(iterator);\n    return new Result(true, condition);\n  };\n\n  var callFn = function (value) {\n    if (AS_ENTRIES) {\n      anObject(value);\n      return INTERRUPTED ? fn(value[0], value[1], stop) : fn(value[0], value[1]);\n    } return INTERRUPTED ? fn(value, stop) : fn(value);\n  };\n\n  if (IS_ITERATOR) {\n    iterator = iterable;\n  } else {\n    iterFn = getIteratorMethod(iterable);\n    if (typeof iterFn != 'function') throw TypeError('Target is not iterable');\n    // optimisation for array iterators\n    if (isArrayIteratorMethod(iterFn)) {\n      for (index = 0, length = toLength(iterable.length); length > index; index++) {\n        result = callFn(iterable[index]);\n        if (result && result instanceof Result) return result;\n      } return new Result(false);\n    }\n    iterator = iterFn.call(iterable);\n  }\n\n  next = iterator.next;\n  while (!(step = next.call(iterator)).done) {\n    try {\n      result = callFn(step.value);\n    } catch (error) {\n      iteratorClose(iterator);\n      throw error;\n    }\n    if (typeof result == 'object' && result && result instanceof Result) return result;\n  } return new Result(false);\n};\n","module.exports = {};\n","var TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar defineProperty = require('../internals/object-define-property').f;\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar has = require('../internals/has');\nvar toString = require('../internals/object-to-string');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n\nmodule.exports = function (it, TAG, STATIC, SET_METHOD) {\n  if (it) {\n    var target = STATIC ? it : it.prototype;\n    if (!has(target, TO_STRING_TAG)) {\n      defineProperty(target, TO_STRING_TAG, { configurable: true, value: TAG });\n    }\n    if (SET_METHOD && !TO_STRING_TAG_SUPPORT) {\n      createNonEnumerableProperty(target, 'toString', toString);\n    }\n  }\n};\n","var NATIVE_WEAK_MAP = require('../internals/native-weak-map');\nvar global = require('../internals/global');\nvar isObject = require('../internals/is-object');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar objectHas = require('../internals/has');\nvar shared = require('../internals/shared-store');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar WeakMap = global.WeakMap;\nvar set, get, has;\n\nvar enforce = function (it) {\n  return has(it) ? get(it) : set(it, {});\n};\n\nvar getterFor = function (TYPE) {\n  return function (it) {\n    var state;\n    if (!isObject(it) || (state = get(it)).type !== TYPE) {\n      throw TypeError('Incompatible receiver, ' + TYPE + ' required');\n    } return state;\n  };\n};\n\nif (NATIVE_WEAK_MAP) {\n  var store = shared.state || (shared.state = new WeakMap());\n  var wmget = store.get;\n  var wmhas = store.has;\n  var wmset = store.set;\n  set = function (it, metadata) {\n    metadata.facade = it;\n    wmset.call(store, it, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return wmget.call(store, it) || {};\n  };\n  has = function (it) {\n    return wmhas.call(store, it);\n  };\n} else {\n  var STATE = sharedKey('state');\n  hiddenKeys[STATE] = true;\n  set = function (it, metadata) {\n    metadata.facade = it;\n    createNonEnumerableProperty(it, STATE, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return objectHas(it, STATE) ? it[STATE] : {};\n  };\n  has = function (it) {\n    return objectHas(it, STATE);\n  };\n}\n\nmodule.exports = {\n  set: set,\n  get: get,\n  has: has,\n  enforce: enforce,\n  getterFor: getterFor\n};\n","var bind = require('../internals/function-bind-context');\nvar IndexedObject = require('../internals/indexed-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar arraySpeciesCreate = require('../internals/array-species-create');\n\nvar push = [].push;\n\n// `Array.prototype.{ forEach, map, filter, some, every, find, findIndex, filterOut }` methods implementation\nvar createMethod = function (TYPE) {\n  var IS_MAP = TYPE == 1;\n  var IS_FILTER = TYPE == 2;\n  var IS_SOME = TYPE == 3;\n  var IS_EVERY = TYPE == 4;\n  var IS_FIND_INDEX = TYPE == 6;\n  var IS_FILTER_OUT = TYPE == 7;\n  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n  return function ($this, callbackfn, that, specificCreate) {\n    var O = toObject($this);\n    var self = IndexedObject(O);\n    var boundFunction = bind(callbackfn, that, 3);\n    var length = toLength(self.length);\n    var index = 0;\n    var create = specificCreate || arraySpeciesCreate;\n    var target = IS_MAP ? create($this, length) : IS_FILTER || IS_FILTER_OUT ? create($this, 0) : undefined;\n    var value, result;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      value = self[index];\n      result = boundFunction(value, index, O);\n      if (TYPE) {\n        if (IS_MAP) target[index] = result; // map\n        else if (result) switch (TYPE) {\n          case 3: return true;              // some\n          case 5: return value;             // find\n          case 6: return index;             // findIndex\n          case 2: push.call(target, value); // filter\n        } else switch (TYPE) {\n          case 4: return false;             // every\n          case 7: push.call(target, value); // filterOut\n        }\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : target;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.forEach` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.foreach\n  forEach: createMethod(0),\n  // `Array.prototype.map` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.map\n  map: createMethod(1),\n  // `Array.prototype.filter` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.filter\n  filter: createMethod(2),\n  // `Array.prototype.some` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.some\n  some: createMethod(3),\n  // `Array.prototype.every` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.every\n  every: createMethod(4),\n  // `Array.prototype.find` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.find\n  find: createMethod(5),\n  // `Array.prototype.findIndex` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.findIndex\n  findIndex: createMethod(6),\n  // `Array.prototype.filterOut` method\n  // https://github.com/tc39/proposal-array-filtering\n  filterOut: createMethod(7)\n};\n","/**\n * @description Tooltip class\n * @author wangfupeng\n */\n\nimport $, { DomElement } from '../../utils/dom-core'\nimport Editor from '../../editor/index'\n\ntype PositionDataType = {\n    top: number\n    left: number\n}\n\nexport type TooltipConfItemType = {\n    $elem: DomElement\n    onClick: Function\n}\nexport type TooltipConfType = Array<TooltipConfItemType>\n\nclass Tooltip {\n    private $container: DomElement\n    private $targetElem: DomElement\n    private editor: Editor\n    private conf: TooltipConfType\n    private _show: boolean\n    private _isInsertTextContainer: boolean\n\n    constructor(editor: Editor, $elem: DomElement, conf: TooltipConfType) {\n        this.editor = editor\n        this.$targetElem = $elem\n        this.conf = conf\n        this._show = false\n        this._isInsertTextContainer = false\n\n        // 定义 container\n        const $container = $('<div></div>')\n        $container.addClass('w-e-tooltip')\n        this.$container = $container\n    }\n\n    /**\n     * 获取 tooltip 定位\n     */\n    private getPositionData(): PositionDataType {\n        const $container = this.$container\n\n        let top = 0\n        let left = 0\n\n        // tooltip 的高度\n        const tooltipHeight = 20\n        // 网页的 scrollTop\n        const pageScrollTop = document.documentElement.scrollTop\n        // 目标元素的 rect\n        const targetElemRect = this.$targetElem.getBoundingClientRect()\n        // 编辑区域的 rect\n        const textElemRect = this.editor.$textElem.getBoundingClientRect()\n        // 获取基于 textContainerElem 的 位置信息\n        const targetOffset = this.$targetElem.getOffsetData()\n        const targetParentElem = $(targetOffset.parent)\n        // 获取 编辑区域的滚动条信息\n        const scrollTop = this.editor.$textElem.elems[0].scrollTop\n        // 是否插入 textContainer 中\n        this._isInsertTextContainer = targetParentElem.equal(this.editor.$textContainerElem)\n\n        if (this._isInsertTextContainer) {\n            // 父容器的高度\n            const targetParentElemHeight = targetParentElem.getClientHeight()\n            // 相对于父容器的位置信息\n            const { top: offsetTop, left: offsetLeft, height: offsetHeight } = targetOffset\n            // 元素基于父容器的 绝对top信息\n            const absoluteTop = offsetTop - scrollTop\n            if (absoluteTop > tooltipHeight + 5) {\n                // 说明模板元素的顶部空间足够\n                top = absoluteTop - tooltipHeight - 15\n                $container.addClass('w-e-tooltip-up')\n            } else if (absoluteTop + offsetHeight + tooltipHeight < targetParentElemHeight) {\n                // 说明模板元素的底部空间足够\n                top = absoluteTop + offsetHeight + 10\n                $container.addClass('w-e-tooltip-down')\n            } else {\n                // 其他情况，tooltip 放在目标元素左上角\n                top = (absoluteTop > 0 ? absoluteTop : 0) + tooltipHeight + 10\n                $container.addClass('w-e-tooltip-down')\n            }\n            // 计算 left\n            if (offsetLeft < 0) {\n                left = 0\n            } else {\n                left = offsetLeft\n            }\n        } else {\n            if (targetElemRect.top < tooltipHeight) {\n                // 说明目标元素的顶部，因滑动隐藏在浏览器上方。tooltip 要放在目标元素下面\n                top = targetElemRect.bottom + pageScrollTop + 5 // 5px 间距\n                $container.addClass('w-e-tooltip-down')\n            } else if (targetElemRect.top - textElemRect.top < tooltipHeight) {\n                // 说明目标元素的顶部，因滑动隐藏在编辑区域上方。tooltip 要放在目标元素下面\n                top = targetElemRect.bottom + pageScrollTop + 5 // 5px 间距\n                $container.addClass('w-e-tooltip-down')\n            } else {\n                // 其他情况，tooltip 放在目标元素上方\n                top = targetElemRect.top + pageScrollTop - tooltipHeight - 15 // 减去 toolbar 的高度，还有 15px 间距\n                $container.addClass('w-e-tooltip-up')\n            }\n            // 计算 left\n            if (targetElemRect.left < 0) {\n                left = 0\n            } else {\n                left = targetElemRect.left\n            }\n        }\n\n        // 返回结果\n        return { top, left }\n    }\n\n    /**\n     * 添加 tooltip 菜单\n     */\n    private appendMenus(): void {\n        const conf = this.conf\n        const editor = this.editor\n        const $targetElem = this.$targetElem\n        const $container = this.$container\n\n        conf.forEach((item: TooltipConfItemType, index: number) => {\n            // 添加元素\n            const $elem = item.$elem\n            const $wrapper = $('<div></div>')\n            $wrapper.addClass('w-e-tooltip-item-wrapper ')\n            $wrapper.append($elem)\n            $container.append($wrapper)\n\n            // 绑定点击事件\n            $elem.on('click', (e: Event) => {\n                e.preventDefault()\n                const res = item.onClick(editor, $targetElem)\n                if (res) this.remove()\n            })\n        })\n    }\n\n    /**\n     * 创建 tooltip\n     */\n    public create(): void {\n        const editor = this.editor\n        const $container = this.$container\n\n        // 生成 container 的内容\n        this.appendMenus()\n\n        // 设置定位\n        const { top, left } = this.getPositionData()\n        $container.css('top', `${top}px`)\n        $container.css('left', `${left}px`)\n\n        // 设置 z-index\n        $container.css('z-index', editor.zIndex.get('tooltip'))\n\n        // 添加到 DOM\n        if (this._isInsertTextContainer) {\n            this.editor.$textContainerElem.append($container)\n        } else {\n            $('body').append($container)\n        }\n\n        this._show = true\n    }\n\n    /**\n     * 移除该 tooltip\n     */\n    public remove(): void {\n        this.$container.remove()\n        this._show = false\n    }\n\n    /**\n     * 是否显示\n     */\n    public get isShow(): boolean {\n        return this._show\n    }\n}\n\nexport default Tooltip\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","// `RequireObjectCoercible` abstract operation\n// https://tc39.github.io/ecma262/#sec-requireobjectcoercible\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on \" + it);\n  return it;\n};\n","var aFunction = require('../internals/a-function');\n\n// optional / simple context binding\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 0: return function () {\n      return fn.call(that);\n    };\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","var anObject = require('../internals/an-object');\nvar defineProperties = require('../internals/object-define-properties');\nvar enumBugKeys = require('../internals/enum-bug-keys');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar html = require('../internals/html');\nvar documentCreateElement = require('../internals/document-create-element');\nvar sharedKey = require('../internals/shared-key');\n\nvar GT = '>';\nvar LT = '<';\nvar PROTOTYPE = 'prototype';\nvar SCRIPT = 'script';\nvar IE_PROTO = sharedKey('IE_PROTO');\n\nvar EmptyConstructor = function () { /* empty */ };\n\nvar scriptTag = function (content) {\n  return LT + SCRIPT + GT + content + LT + '/' + SCRIPT + GT;\n};\n\n// Create object with fake `null` prototype: use ActiveX Object with cleared prototype\nvar NullProtoObjectViaActiveX = function (activeXDocument) {\n  activeXDocument.write(scriptTag(''));\n  activeXDocument.close();\n  var temp = activeXDocument.parentWindow.Object;\n  activeXDocument = null; // avoid memory leak\n  return temp;\n};\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar NullProtoObjectViaIFrame = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = documentCreateElement('iframe');\n  var JS = 'java' + SCRIPT + ':';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  html.appendChild(iframe);\n  // https://github.com/zloirock/core-js/issues/475\n  iframe.src = String(JS);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(scriptTag('document.F=Object'));\n  iframeDocument.close();\n  return iframeDocument.F;\n};\n\n// Check for document.domain and active x support\n// No need to use active x approach when document.domain is not set\n// see https://github.com/es-shims/es5-shim/issues/150\n// variation of https://github.com/kitcambridge/es5-shim/commit/4f738ac066346\n// avoid IE GC bug\nvar activeXDocument;\nvar NullProtoObject = function () {\n  try {\n    /* global ActiveXObject */\n    activeXDocument = document.domain && new ActiveXObject('htmlfile');\n  } catch (error) { /* ignore */ }\n  NullProtoObject = activeXDocument ? NullProtoObjectViaActiveX(activeXDocument) : NullProtoObjectViaIFrame();\n  var length = enumBugKeys.length;\n  while (length--) delete NullProtoObject[PROTOTYPE][enumBugKeys[length]];\n  return NullProtoObject();\n};\n\nhiddenKeys[IE_PROTO] = true;\n\n// `Object.create` method\n// https://tc39.github.io/ecma262/#sec-object.create\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    EmptyConstructor[PROTOTYPE] = anObject(O);\n    result = new EmptyConstructor();\n    EmptyConstructor[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = NullProtoObject();\n  return Properties === undefined ? result : defineProperties(result, Properties);\n};\n","module.exports = {};\n","var createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nmodule.exports = function (target, key, value, options) {\n  if (options && options.enumerable) target[key] = value;\n  else createNonEnumerableProperty(target, key, value);\n};\n","require('./es.array.iterator');\nvar DOMIterables = require('../internals/dom-iterables');\nvar global = require('../internals/global');\nvar classof = require('../internals/classof');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar Iterators = require('../internals/iterators');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  var Collection = global[COLLECTION_NAME];\n  var CollectionPrototype = Collection && Collection.prototype;\n  if (CollectionPrototype && classof(CollectionPrototype) !== TO_STRING_TAG) {\n    createNonEnumerableProperty(CollectionPrototype, TO_STRING_TAG, COLLECTION_NAME);\n  }\n  Iterators[COLLECTION_NAME] = Iterators.Array;\n}\n","var classof = require('../internals/classof-raw');\n\n// `IsArray` abstract operation\n// https://tc39.github.io/ecma262/#sec-isarray\nmodule.exports = Array.isArray || function isArray(arg) {\n  return classof(arg) == 'Array';\n};\n","var fails = require('../internals/fails');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar SPECIES = wellKnownSymbol('species');\n\nmodule.exports = function (METHOD_NAME) {\n  // We can't use this feature detection in V8 since it causes\n  // deoptimization and serious performance degradation\n  // https://github.com/zloirock/core-js/issues/677\n  return V8_VERSION >= 51 || !fails(function () {\n    var array = [];\n    var constructor = array.constructor = {};\n    constructor[SPECIES] = function () {\n      return { foo: 1 };\n    };\n    return array[METHOD_NAME](Boolean).foo !== 1;\n  });\n};\n","module.exports = require(\"core-js-pure/stable/instance/index-of\");","module.exports = require(\"core-js-pure/stable/instance/slice\");","'use strict';\nvar nativePropertyIsEnumerable = {}.propertyIsEnumerable;\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Nashorn ~ JDK8 bug\nvar NASHORN_BUG = getOwnPropertyDescriptor && !nativePropertyIsEnumerable.call({ 1: 2 }, 1);\n\n// `Object.prototype.propertyIsEnumerable` method implementation\n// https://tc39.github.io/ecma262/#sec-object.prototype.propertyisenumerable\nexports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n  var descriptor = getOwnPropertyDescriptor(this, V);\n  return !!descriptor && descriptor.enumerable;\n} : nativePropertyIsEnumerable;\n","var isObject = require('../internals/is-object');\n\n// `ToPrimitive` abstract operation\n// https://tc39.github.io/ecma262/#sec-toprimitive\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (input, PREFERRED_STRING) {\n  if (!isObject(input)) return input;\n  var fn, val;\n  if (PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (typeof (fn = input.valueOf) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (!PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\n// `Object.keys` method\n// https://tc39.github.io/ecma262/#sec-object.keys\nmodule.exports = Object.keys || function keys(O) {\n  return internalObjectKeys(O, enumBugKeys);\n};\n","var ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `ToInteger` abstract operation\n// https://tc39.github.io/ecma262/#sec-tointeger\nmodule.exports = function (argument) {\n  return isNaN(argument = +argument) ? 0 : (argument > 0 ? floor : ceil)(argument);\n};\n","var shared = require('../internals/shared');\nvar uid = require('../internals/uid');\n\nvar keys = shared('keys');\n\nmodule.exports = function (key) {\n  return keys[key] || (keys[key] = uid(key));\n};\n","var id = 0;\nvar postfix = Math.random();\n\nmodule.exports = function (key) {\n  return 'Symbol(' + String(key === undefined ? '' : key) + ')_' + (++id + postfix).toString(36);\n};\n","var TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar classofRaw = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n// ES3 wrong here\nvar CORRECT_ARGUMENTS = classofRaw(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (error) { /* empty */ }\n};\n\n// getting tag from ES6+ `Object.prototype.toString`\nmodule.exports = TO_STRING_TAG_SUPPORT ? classofRaw : function (it) {\n  var O, tag, result;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (tag = tryGet(O = Object(it), TO_STRING_TAG)) == 'string' ? tag\n    // builtinTag case\n    : CORRECT_ARGUMENTS ? classofRaw(O)\n    // ES3 arguments fallback\n    : (result = classofRaw(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : result;\n};\n","'use strict';\nvar aFunction = require('../internals/a-function');\n\nvar PromiseCapability = function (C) {\n  var resolve, reject;\n  this.promise = new C(function ($$resolve, $$reject) {\n    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject = $$reject;\n  });\n  this.resolve = aFunction(resolve);\n  this.reject = aFunction(reject);\n};\n\n// 25.4.1.5 NewPromiseCapability(C)\nmodule.exports.f = function (C) {\n  return new PromiseCapability(C);\n};\n","'use strict';\nvar charAt = require('../internals/string-multibyte').charAt;\nvar InternalStateModule = require('../internals/internal-state');\nvar defineIterator = require('../internals/define-iterator');\n\nvar STRING_ITERATOR = 'String Iterator';\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(STRING_ITERATOR);\n\n// `String.prototype[@@iterator]` method\n// https://tc39.github.io/ecma262/#sec-string.prototype-@@iterator\ndefineIterator(String, 'String', function (iterated) {\n  setInternalState(this, {\n    type: STRING_ITERATOR,\n    string: String(iterated),\n    index: 0\n  });\n// `%StringIteratorPrototype%.next` method\n// https://tc39.github.io/ecma262/#sec-%stringiteratorprototype%.next\n}, function next() {\n  var state = getInternalState(this);\n  var string = state.string;\n  var index = state.index;\n  var point;\n  if (index >= string.length) return { value: undefined, done: true };\n  point = charAt(string, index);\n  state.index += point.length;\n  return { value: point, done: false };\n});\n","module.exports = require(\"core-js-pure/stable/instance/bind\");","// a string of all valid unicode whitespaces\n// eslint-disable-next-line max-len\nmodule.exports = '\\u0009\\u000A\\u000B\\u000C\\u000D\\u0020\\u00A0\\u1680\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n","var DESCRIPTORS = require('../internals/descriptors');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPrimitive = require('../internals/to-primitive');\nvar has = require('../internals/has');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\n\nvar nativeGetOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptor\nexports.f = DESCRIPTORS ? nativeGetOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n  O = toIndexedObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return nativeGetOwnPropertyDescriptor(O, P);\n  } catch (error) { /* empty */ }\n  if (has(O, P)) return createPropertyDescriptor(!propertyIsEnumerableModule.f.call(O, P), O[P]);\n};\n","var fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\n\nvar split = ''.split;\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nmodule.exports = fails(function () {\n  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n  // eslint-disable-next-line no-prototype-builtins\n  return !Object('z').propertyIsEnumerable(0);\n}) ? function (it) {\n  return classof(it) == 'String' ? split.call(it, '') : Object(it);\n} : Object;\n","var global = require('../internals/global');\nvar isObject = require('../internals/is-object');\n\nvar document = global.document;\n// typeof document.createElement is 'object' in old IE\nvar EXISTS = isObject(document) && isObject(document.createElement);\n\nmodule.exports = function (it) {\n  return EXISTS ? document.createElement(it) : {};\n};\n","var toIndexedObject = require('../internals/to-indexed-object');\nvar toLength = require('../internals/to-length');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\n\n// `Array.prototype.{ indexOf, includes }` methods implementation\nvar createMethod = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIndexedObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) {\n      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.includes` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.includes\n  includes: createMethod(true),\n  // `Array.prototype.indexOf` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.indexof\n  indexOf: createMethod(false)\n};\n","var toInteger = require('../internals/to-integer');\n\nvar max = Math.max;\nvar min = Math.min;\n\n// Helper for a popular repeating case of the spec:\n// Let integer be ? ToInteger(index).\n// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\nmodule.exports = function (index, length) {\n  var integer = toInteger(index);\n  return integer < 0 ? max(integer + length, 0) : min(integer, length);\n};\n","// IE8- don't enum bug keys\nmodule.exports = [\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf'\n];\n","var IS_PURE = require('../internals/is-pure');\nvar store = require('../internals/shared-store');\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: '3.8.1',\n  mode: IS_PURE ? 'pure' : 'global',\n  copyright: '© 2020 Denis Pushkarev (zloirock.ru)'\n});\n","var global = require('../internals/global');\nvar setGlobal = require('../internals/set-global');\n\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || setGlobal(SHARED, {});\n\nmodule.exports = store;\n","var has = require('../internals/has');\nvar toObject = require('../internals/to-object');\nvar sharedKey = require('../internals/shared-key');\nvar CORRECT_PROTOTYPE_GETTER = require('../internals/correct-prototype-getter');\n\nvar IE_PROTO = sharedKey('IE_PROTO');\nvar ObjectPrototype = Object.prototype;\n\n// `Object.getPrototypeOf` method\n// https://tc39.github.io/ecma262/#sec-object.getprototypeof\nmodule.exports = CORRECT_PROTOTYPE_GETTER ? Object.getPrototypeOf : function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectPrototype : null;\n};\n","var anObject = require('../internals/an-object');\nvar aPossiblePrototype = require('../internals/a-possible-prototype');\n\n// `Object.setPrototypeOf` method\n// https://tc39.github.io/ecma262/#sec-object.setprototypeof\n// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nmodule.exports = Object.setPrototypeOf || ('__proto__' in {} ? function () {\n  var CORRECT_SETTER = false;\n  var test = {};\n  var setter;\n  try {\n    setter = Object.getOwnPropertyDescriptor(Object.prototype, '__proto__').set;\n    setter.call(test, []);\n    CORRECT_SETTER = test instanceof Array;\n  } catch (error) { /* empty */ }\n  return function setPrototypeOf(O, proto) {\n    anObject(O);\n    aPossiblePrototype(proto);\n    if (CORRECT_SETTER) setter.call(O, proto);\n    else O.__proto__ = proto;\n    return O;\n  };\n}() : undefined);\n","var fails = require('../internals/fails');\n\nmodule.exports = !!Object.getOwnPropertySymbols && !fails(function () {\n  // Chrome 38 Symbol has incorrect toString conversion\n  // eslint-disable-next-line no-undef\n  return !String(Symbol());\n});\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar test = {};\n\ntest[TO_STRING_TAG] = 'z';\n\nmodule.exports = String(test) === '[object z]';\n","module.exports = function (it, Constructor, name) {\n  if (!(it instanceof Constructor)) {\n    throw TypeError('Incorrect ' + (name ? name + ' ' : '') + 'invocation');\n  } return it;\n};\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('navigator', 'userAgent') || '';\n","var classof = require('../internals/classof-raw');\nvar global = require('../internals/global');\n\nmodule.exports = classof(global.process) == 'process';\n","module.exports = function (exec) {\n  try {\n    return { error: false, value: exec() };\n  } catch (error) {\n    return { error: true, value: error };\n  }\n};\n","var global = require('../internals/global');\nvar userAgent = require('../internals/engine-user-agent');\n\nvar process = global.process;\nvar versions = process && process.versions;\nvar v8 = versions && versions.v8;\nvar match, version;\n\nif (v8) {\n  match = v8.split('.');\n  version = match[0] + match[1];\n} else if (userAgent) {\n  match = userAgent.match(/Edge\\/(\\d+)/);\n  if (!match || match[1] >= 74) {\n    match = userAgent.match(/Chrome\\/(\\d+)/);\n    if (match) version = match[1];\n  }\n}\n\nmodule.exports = version && +version;\n","'use strict';\nvar $ = require('../internals/export');\nvar createIteratorConstructor = require('../internals/create-iterator-constructor');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IS_PURE = require('../internals/is-pure');\nvar Iterators = require('../internals/iterators');\nvar IteratorsCore = require('../internals/iterators-core');\n\nvar IteratorPrototype = IteratorsCore.IteratorPrototype;\nvar BUGGY_SAFARI_ITERATORS = IteratorsCore.BUGGY_SAFARI_ITERATORS;\nvar ITERATOR = wellKnownSymbol('iterator');\nvar KEYS = 'keys';\nvar VALUES = 'values';\nvar ENTRIES = 'entries';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Iterable, NAME, IteratorConstructor, next, DEFAULT, IS_SET, FORCED) {\n  createIteratorConstructor(IteratorConstructor, NAME, next);\n\n  var getIterationMethod = function (KIND) {\n    if (KIND === DEFAULT && defaultIterator) return defaultIterator;\n    if (!BUGGY_SAFARI_ITERATORS && KIND in IterablePrototype) return IterablePrototype[KIND];\n    switch (KIND) {\n      case KEYS: return function keys() { return new IteratorConstructor(this, KIND); };\n      case VALUES: return function values() { return new IteratorConstructor(this, KIND); };\n      case ENTRIES: return function entries() { return new IteratorConstructor(this, KIND); };\n    } return function () { return new IteratorConstructor(this); };\n  };\n\n  var TO_STRING_TAG = NAME + ' Iterator';\n  var INCORRECT_VALUES_NAME = false;\n  var IterablePrototype = Iterable.prototype;\n  var nativeIterator = IterablePrototype[ITERATOR]\n    || IterablePrototype['@@iterator']\n    || DEFAULT && IterablePrototype[DEFAULT];\n  var defaultIterator = !BUGGY_SAFARI_ITERATORS && nativeIterator || getIterationMethod(DEFAULT);\n  var anyNativeIterator = NAME == 'Array' ? IterablePrototype.entries || nativeIterator : nativeIterator;\n  var CurrentIteratorPrototype, methods, KEY;\n\n  // fix native\n  if (anyNativeIterator) {\n    CurrentIteratorPrototype = getPrototypeOf(anyNativeIterator.call(new Iterable()));\n    if (IteratorPrototype !== Object.prototype && CurrentIteratorPrototype.next) {\n      if (!IS_PURE && getPrototypeOf(CurrentIteratorPrototype) !== IteratorPrototype) {\n        if (setPrototypeOf) {\n          setPrototypeOf(CurrentIteratorPrototype, IteratorPrototype);\n        } else if (typeof CurrentIteratorPrototype[ITERATOR] != 'function') {\n          createNonEnumerableProperty(CurrentIteratorPrototype, ITERATOR, returnThis);\n        }\n      }\n      // Set @@toStringTag to native iterators\n      setToStringTag(CurrentIteratorPrototype, TO_STRING_TAG, true, true);\n      if (IS_PURE) Iterators[TO_STRING_TAG] = returnThis;\n    }\n  }\n\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEFAULT == VALUES && nativeIterator && nativeIterator.name !== VALUES) {\n    INCORRECT_VALUES_NAME = true;\n    defaultIterator = function values() { return nativeIterator.call(this); };\n  }\n\n  // define iterator\n  if ((!IS_PURE || FORCED) && IterablePrototype[ITERATOR] !== defaultIterator) {\n    createNonEnumerableProperty(IterablePrototype, ITERATOR, defaultIterator);\n  }\n  Iterators[NAME] = defaultIterator;\n\n  // export additional methods\n  if (DEFAULT) {\n    methods = {\n      values: getIterationMethod(VALUES),\n      keys: IS_SET ? defaultIterator : getIterationMethod(KEYS),\n      entries: getIterationMethod(ENTRIES)\n    };\n    if (FORCED) for (KEY in methods) {\n      if (BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME || !(KEY in IterablePrototype)) {\n        redefine(IterablePrototype, KEY, methods[KEY]);\n      }\n    } else $({ target: NAME, proto: true, forced: BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME }, methods);\n  }\n\n  return methods;\n};\n","module.exports = function () { /* empty */ };\n","var isObject = require('../internals/is-object');\nvar isArray = require('../internals/is-array');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\n\n// `ArraySpeciesCreate` abstract operation\n// https://tc39.github.io/ecma262/#sec-arrayspeciescreate\nmodule.exports = function (originalArray, length) {\n  var C;\n  if (isArray(originalArray)) {\n    C = originalArray.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    else if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return new (C === undefined ? Array : C)(length === 0 ? 0 : length);\n};\n","module.exports = require(\"core-js-pure/stable/instance/filter\");","module.exports = require(\"core-js-pure/stable/instance/splice\");","'use strict';\nvar toPrimitive = require('../internals/to-primitive');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = function (object, key, value) {\n  var propertyKey = toPrimitive(key);\n  if (propertyKey in object) definePropertyModule.f(object, propertyKey, createPropertyDescriptor(0, value));\n  else object[propertyKey] = value;\n};\n","var requireObjectCoercible = require('../internals/require-object-coercible');\nvar whitespaces = require('../internals/whitespaces');\n\nvar whitespace = '[' + whitespaces + ']';\nvar ltrim = RegExp('^' + whitespace + whitespace + '*');\nvar rtrim = RegExp(whitespace + whitespace + '*$');\n\n// `String.prototype.{ trim, trimStart, trimEnd, trimLeft, trimRight }` methods implementation\nvar createMethod = function (TYPE) {\n  return function ($this) {\n    var string = String(requireObjectCoercible($this));\n    if (TYPE & 1) string = string.replace(ltrim, '');\n    if (TYPE & 2) string = string.replace(rtrim, '');\n    return string;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.{ trimLeft, trimStart }` methods\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trimstart\n  start: createMethod(1),\n  // `String.prototype.{ trimRight, trimEnd }` methods\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trimend\n  end: createMethod(2),\n  // `String.prototype.trim` method\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trim\n  trim: createMethod(3)\n};\n","var _Symbol$iterator = require(\"@babel/runtime-corejs3/core-js/symbol/iterator\");\n\nvar _Symbol = require(\"@babel/runtime-corejs3/core-js/symbol\");\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof _Symbol === \"function\" && typeof _Symbol$iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof _Symbol === \"function\" && obj.constructor === _Symbol && obj !== _Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nexports.f = wellKnownSymbol;\n","/**\n * @description Menu class 父类\n * @author wangfupeng\n */\n\nimport { DomElement } from '../../utils/dom-core'\nimport Editor from '../../editor/index'\nimport Panel from './Panel'\n\nexport interface MenuActive {\n    /**\n     * 修改菜单激活状态，菜单是否高亮\n     */\n    tryChangeActive(): void\n}\n\nclass Menu {\n    public key: string | undefined\n    public $elem: DomElement\n    public editor: Editor\n    private _active: boolean // 菜单是否处于激活状态，如选中一段加粗文字时，bold 菜单要被激活（即高亮显示）\n\n    constructor($elem: DomElement, editor: Editor) {\n        this.$elem = $elem\n        this.editor = editor\n        this._active = false\n\n        // 绑定菜单点击事件\n        $elem.on('click', (e: Event) => {\n            Panel.hideCurAllPanels() // 隐藏当前的所有 Panel\n\n            // 触发菜单点击的钩子\n            editor.txt.eventHooks.menuClickEvents.forEach(fn => fn())\n\n            e.stopPropagation()\n            if (editor.selection.getRange() == null) {\n                return\n            }\n            this.clickHandler(e)\n        })\n    }\n\n    /**\n     * 菜单点击事件，子类可重写\n     * @param e event\n     */\n    protected clickHandler(e: Event): void {}\n\n    /**\n     * 激活菜单，高亮显示\n     */\n    protected active(): void {\n        this._active = true\n        this.$elem.addClass('w-e-active')\n    }\n\n    /**\n     * 取消激活，不再高亮显示\n     */\n    protected unActive(): void {\n        this._active = false\n        this.$elem.removeClass('w-e-active')\n    }\n\n    /**\n     * 是否处于激活状态\n     */\n    public get isActive() {\n        return this._active\n    }\n}\n\nexport default Menu\n","/**\n * @description 上传图片\n * @author wangfupeng\n */\n\nimport Editor from '../../editor/index'\nimport { arrForEach, forEach } from '../../utils/util'\nimport post from '../../editor/upload/upload-core'\nimport Progress from '../../editor/upload/progress'\n\nexport type ResType = {\n    errno: number | string\n    data: string[]\n}\n\nclass UploadImg {\n    private editor: Editor\n\n    constructor(editor: Editor) {\n        this.editor = editor\n    }\n\n    /**\n     * 往编辑区域插入图片\n     * @param src 图片地址\n     */\n    public insertImg(src: string): void {\n        const editor = this.editor\n        const config = editor.config\n\n        const i18nPrefix = 'validate.'\n        const t = (text: string, prefix: string = i18nPrefix): string => {\n            return editor.i18next.t(prefix + text)\n        }\n\n        // 先插入图片，无论是否能成功\n        editor.cmd.do('insertHTML', `<img src=\"${src}\" style=\"max-width:100%;\"/>`)\n        // 执行回调函数\n        config.linkImgCallback(src)\n\n        // 加载图片\n        let img: any = document.createElement('img')\n        img.onload = () => {\n            img = null\n        }\n        img.onerror = () => {\n            config.customAlert(\n                t('插入图片错误'),\n                'error',\n                `wangEditor: ${t('插入图片错误')}，${t('图片链接')} \"${src}\"，${t('下载链接失败')}`\n            )\n            img = null\n        }\n        img.onabort = () => (img = null)\n        img.src = src\n    }\n\n    /**\n     * 上传图片\n     * @param files 文件列表\n     */\n    public uploadImg(files: FileList | File[]): void {\n        if (!files.length) {\n            return\n        }\n\n        const editor = this.editor\n        const config = editor.config\n\n        // ------------------------------ i18next ------------------------------\n\n        const i18nPrefix = 'validate.'\n        const t = (text: string): string => {\n            return editor.i18next.t(i18nPrefix + text)\n        }\n\n        // ------------------------------ 获取配置信息 ------------------------------\n\n        // 服务端地址\n        let uploadImgServer = config.uploadImgServer\n        // base64 格式\n        const uploadImgShowBase64 = config.uploadImgShowBase64\n        // 图片最大体积\n        const maxSize = config.uploadImgMaxSize\n        const maxSizeM = maxSize / 1024 / 1024\n        // 一次最多上传图片数量\n        const maxLength = config.uploadImgMaxLength\n        // 自定义 fileName\n        const uploadFileName = config.uploadFileName\n        // 自定义参数\n        const uploadImgParams = config.uploadImgParams\n        // 参数拼接到 url 中\n        const uploadImgParamsWithUrl = config.uploadImgParamsWithUrl\n        // 自定义 header\n        const uploadImgHeaders = config.uploadImgHeaders\n        // 钩子函数\n        const hooks = config.uploadImgHooks\n        // 上传图片超时时间\n        const timeout = config.uploadImgTimeout\n        // 跨域带 cookie\n        const withCredentials = config.withCredentials\n        // 自定义上传图片\n        const customUploadImg = config.customUploadImg\n\n        if (!customUploadImg) {\n            // 没有 customUploadImg 的情况下，需要如下两个配置才能继续进行图片上传\n            if (!uploadImgServer && !uploadImgShowBase64) {\n                return\n            }\n        }\n\n        // ------------------------------ 验证文件信息 ------------------------------\n        const resultFiles: File[] = []\n        const errInfos: string[] = []\n        arrForEach(files, file => {\n            const name = file.name\n            const size = file.size\n\n            // chrome 低版本 name === undefined\n            if (!name || !size) {\n                return\n            }\n\n            if (/\\.(jpg|jpeg|png|bmp|gif|webp)$/i.test(name) === false) {\n                // 后缀名不合法，不是图片\n                errInfos.push(`【${name}】${t('不是图片')}`)\n                return\n            }\n\n            if (maxSize < size) {\n                // 上传图片过大\n                errInfos.push(`【${name}】${t('大于')} ${maxSizeM}M`)\n                return\n            }\n\n            // 验证通过的加入结果列表\n            resultFiles.push(file)\n        })\n        // 抛出验证信息\n        if (errInfos.length) {\n            config.customAlert(`${t('图片验证未通过')}: \\n` + errInfos.join('\\n'), 'warning')\n            return\n        }\n        if (resultFiles.length > maxLength) {\n            config.customAlert(t('一次最多上传') + maxLength + t('张图片'), 'warning')\n            return\n        }\n\n        // ------------------------------ 自定义上传 ------------------------------\n        if (customUploadImg && typeof customUploadImg === 'function') {\n            customUploadImg(resultFiles, this.insertImg.bind(this))\n\n            // 阻止以下代码执行，重要！！！\n            return\n        }\n\n        // ------------------------------ 上传图片 ------------------------------\n\n        // 添加图片数据\n        const formData = new FormData()\n        resultFiles.forEach((file: File, index: number) => {\n            let name = uploadFileName || file.name\n            if (resultFiles.length > 1) {\n                // 多个文件时，filename 不能重复\n                name = name + (index + 1)\n            }\n            formData.append(name, file)\n        })\n        if (uploadImgServer) {\n            // 添加自定义参数\n            const uploadImgServerArr = uploadImgServer.split('#')\n            uploadImgServer = uploadImgServerArr[0]\n            const uploadImgServerHash = uploadImgServerArr[1] || ''\n            forEach(uploadImgParams, (key: string, val: string) => {\n                // 因使用者反应，自定义参数不能默认 encode ，由 v3.1.1 版本开始注释掉\n                // val = encodeURIComponent(val)\n\n                // 第一，将参数拼接到 url 中\n                if (uploadImgParamsWithUrl) {\n                    if (uploadImgServer.indexOf('?') > 0) {\n                        uploadImgServer += '&'\n                    } else {\n                        uploadImgServer += '?'\n                    }\n                    uploadImgServer = uploadImgServer + key + '=' + val\n                }\n\n                // 第二，将参数添加到 formData 中\n                formData.append(key, val)\n            })\n            if (uploadImgServerHash) {\n                uploadImgServer += '#' + uploadImgServerHash\n            }\n\n            // 开始上传\n            const xhr = post(uploadImgServer, {\n                timeout,\n                formData,\n                headers: uploadImgHeaders,\n                withCredentials: !!withCredentials,\n                beforeSend: xhr => {\n                    if (hooks.before) return hooks.before(xhr, editor, resultFiles)\n                },\n                onTimeout: xhr => {\n                    config.customAlert(t('上传图片超时'), 'error')\n                    if (hooks.timeout) hooks.timeout(xhr, editor)\n                },\n                onProgress: (percent, e) => {\n                    const progressBar = new Progress(editor)\n                    if (e.lengthComputable) {\n                        percent = e.loaded / e.total\n                        progressBar.show(percent)\n                    }\n                },\n                onError: xhr => {\n                    config.customAlert(\n                        t('上传图片错误'),\n                        'error',\n                        `${t('上传图片错误')}，${t('服务器返回状态')}: ${xhr.status}`\n                    )\n                    if (hooks.error) hooks.error(xhr, editor)\n                },\n                onFail: (xhr, resultStr) => {\n                    config.customAlert(\n                        t('上传图片失败'),\n                        'error',\n                        t('上传图片返回结果错误') + `，${t('返回结果')}: ` + resultStr\n                    )\n                    if (hooks.fail) hooks.fail(xhr, editor, resultStr)\n                },\n                onSuccess: (xhr, result: ResType) => {\n                    if (hooks.customInsert) {\n                        // 自定义插入图片\n                        hooks.customInsert(this.insertImg.bind(this), result, editor)\n                        return\n                    }\n                    if (result.errno != '0') {\n                        // 返回格式不对，应该为 { errno: 0, data: [...] }\n                        config.customAlert(\n                            t('上传图片失败'),\n                            'error',\n                            `${t('上传图片返回结果错误')}，${t('返回结果')} errno=${result.errno}`\n                        )\n                        if (hooks.fail) hooks.fail(xhr, editor, result)\n                        return\n                    }\n\n                    // 成功，插入图片\n                    const data = result.data\n                    data.forEach(link => {\n                        this.insertImg(link)\n                    })\n\n                    // 钩子函数\n                    if (hooks.success) hooks.success(xhr, editor, result)\n                },\n            })\n            if (typeof xhr === 'string') {\n                // 上传被阻止\n                config.customAlert(xhr, 'error')\n            }\n\n            // 阻止以下代码执行，重要！！！\n            return\n        }\n\n        // ------------------------------ 显示 base64 格式 ------------------------------\n        if (uploadImgShowBase64) {\n            arrForEach(files, file => {\n                const _this = this\n                const reader = new FileReader()\n                reader.readAsDataURL(file)\n                reader.onload = function () {\n                    if (!this.result) return\n                    _this.insertImg(this.result.toString())\n                }\n            })\n        }\n    }\n}\n\nexport default UploadImg\n","/**\n * @description 双栈实现撤销恢复\n * @author fangzhicong\n */\n\nimport { CeilStack } from './stack'\n\nexport default class Cache<T> {\n    /**\n     * 正常操作（用户输入、js代码修改内容、恢复操作）产生的缓存\n     */\n    protected data: CeilStack<T>\n\n    /**\n     * 撤销操作产生的缓存（恢复操作时需要这些数据）\n     */\n    protected revokeData: CeilStack<T>\n\n    /**\n     * 上一步操作是否为 撤销/恢复\n     */\n    protected isRe: boolean = false\n\n    constructor(protected maxSize: number) {\n        this.data = new CeilStack(maxSize)\n        this.revokeData = new CeilStack(maxSize)\n    }\n\n    /**\n     * 返回当前栈中的数据长度。格式为：[正常的数据的条数，被撤销的数据的条数]\n     */\n    public get size() {\n        return [this.data.size, this.revokeData.size]\n    }\n\n    /**\n     * 重设数据缓存器的缓存长度（第一次有效）\n     */\n    public resetMaxSize(maxSize: number) {\n        this.data.resetMax(maxSize)\n        this.revokeData.resetMax(maxSize)\n    }\n\n    /**\n     * 保存数据\n     */\n    public save(data: T) {\n        if (this.isRe) {\n            this.revokeData.clear()\n            this.isRe = false\n        }\n        this.data.instack(data)\n        return this\n    }\n\n    /**\n     * 撤销\n     * @param fn 撤销时，如果有数据，执行的回调函数\n     */\n    public revoke(fn: (data: T) => void) {\n        !this.isRe && (this.isRe = true)\n        let data = this.data.outstack()\n        if (data) {\n            this.revokeData.instack(data)\n            fn(data)\n            return true\n        }\n        return false\n    }\n\n    /**\n     * 恢复\n     * @param fn 恢复时，如果有数据，执行的回调函数\n     */\n    public restore(fn: (data: T) => void) {\n        !this.isRe && (this.isRe = true)\n        let data = this.revokeData.outstack()\n        if (data) {\n            this.data.instack(data)\n            fn(data)\n            return true\n        }\n        return false\n    }\n}\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar createElement = require('../internals/document-create-element');\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !DESCRIPTORS && !fails(function () {\n  return Object.defineProperty(createElement('div'), 'a', {\n    get: function () { return 7; }\n  }).a != 7;\n});\n","var fails = require('../internals/fails');\n\nvar replacement = /#|\\.prototype\\./;\n\nvar isForced = function (feature, detection) {\n  var value = data[normalize(feature)];\n  return value == POLYFILL ? true\n    : value == NATIVE ? false\n    : typeof detection == 'function' ? fails(detection)\n    : !!detection;\n};\n\nvar normalize = isForced.normalize = function (string) {\n  return String(string).replace(replacement, '.').toLowerCase();\n};\n\nvar data = isForced.data = {};\nvar NATIVE = isForced.NATIVE = 'N';\nvar POLYFILL = isForced.POLYFILL = 'P';\n\nmodule.exports = isForced;\n","var has = require('../internals/has');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar indexOf = require('../internals/array-includes').indexOf;\nvar hiddenKeys = require('../internals/hidden-keys');\n\nmodule.exports = function (object, names) {\n  var O = toIndexedObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) !has(hiddenKeys, key) && has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~indexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('document', 'documentElement');\n","var NATIVE_SYMBOL = require('../internals/native-symbol');\n\nmodule.exports = NATIVE_SYMBOL\n  // eslint-disable-next-line no-undef\n  && !Symbol.sham\n  // eslint-disable-next-line no-undef\n  && typeof Symbol.iterator == 'symbol';\n","var global = require('../internals/global');\n\nmodule.exports = global.Promise;\n","var redefine = require('../internals/redefine');\n\nmodule.exports = function (target, src, options) {\n  for (var key in src) {\n    if (options && options.unsafe && target[key]) target[key] = src[key];\n    else redefine(target, key, src[key], options);\n  } return target;\n};\n","'use strict';\nvar getBuiltIn = require('../internals/get-built-in');\nvar definePropertyModule = require('../internals/object-define-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar DESCRIPTORS = require('../internals/descriptors');\n\nvar SPECIES = wellKnownSymbol('species');\n\nmodule.exports = function (CONSTRUCTOR_NAME) {\n  var Constructor = getBuiltIn(CONSTRUCTOR_NAME);\n  var defineProperty = definePropertyModule.f;\n\n  if (DESCRIPTORS && Constructor && !Constructor[SPECIES]) {\n    defineProperty(Constructor, SPECIES, {\n      configurable: true,\n      get: function () { return this; }\n    });\n  }\n};\n","var store = require('../internals/shared-store');\n\nvar functionToString = Function.toString;\n\n// this helper broken in `3.4.1-3.4.4`, so we can't use `shared` helper\nif (typeof store.inspectSource != 'function') {\n  store.inspectSource = function (it) {\n    return functionToString.call(it);\n  };\n}\n\nmodule.exports = store.inspectSource;\n","var anObject = require('../internals/an-object');\nvar aFunction = require('../internals/a-function');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\n\n// `SpeciesConstructor` abstract operation\n// https://tc39.github.io/ecma262/#sec-speciesconstructor\nmodule.exports = function (O, defaultConstructor) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? defaultConstructor : aFunction(S);\n};\n","var global = require('../internals/global');\nvar fails = require('../internals/fails');\nvar bind = require('../internals/function-bind-context');\nvar html = require('../internals/html');\nvar createElement = require('../internals/document-create-element');\nvar IS_IOS = require('../internals/engine-is-ios');\nvar IS_NODE = require('../internals/engine-is-node');\n\nvar location = global.location;\nvar set = global.setImmediate;\nvar clear = global.clearImmediate;\nvar process = global.process;\nvar MessageChannel = global.MessageChannel;\nvar Dispatch = global.Dispatch;\nvar counter = 0;\nvar queue = {};\nvar ONREADYSTATECHANGE = 'onreadystatechange';\nvar defer, channel, port;\n\nvar run = function (id) {\n  // eslint-disable-next-line no-prototype-builtins\n  if (queue.hasOwnProperty(id)) {\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\n\nvar runner = function (id) {\n  return function () {\n    run(id);\n  };\n};\n\nvar listener = function (event) {\n  run(event.data);\n};\n\nvar post = function (id) {\n  // old engines have not location.origin\n  global.postMessage(id + '', location.protocol + '//' + location.host);\n};\n\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif (!set || !clear) {\n  set = function setImmediate(fn) {\n    var args = [];\n    var i = 1;\n    while (arguments.length > i) args.push(arguments[i++]);\n    queue[++counter] = function () {\n      // eslint-disable-next-line no-new-func\n      (typeof fn == 'function' ? fn : Function(fn)).apply(undefined, args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clear = function clearImmediate(id) {\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if (IS_NODE) {\n    defer = function (id) {\n      process.nextTick(runner(id));\n    };\n  // Sphere (JS game engine) Dispatch API\n  } else if (Dispatch && Dispatch.now) {\n    defer = function (id) {\n      Dispatch.now(runner(id));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  // except iOS - https://github.com/zloirock/core-js/issues/624\n  } else if (MessageChannel && !IS_IOS) {\n    channel = new MessageChannel();\n    port = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = bind(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if (\n    global.addEventListener &&\n    typeof postMessage == 'function' &&\n    !global.importScripts &&\n    location && location.protocol !== 'file:' &&\n    !fails(post)\n  ) {\n    defer = post;\n    global.addEventListener('message', listener, false);\n  // IE8-\n  } else if (ONREADYSTATECHANGE in createElement('script')) {\n    defer = function (id) {\n      html.appendChild(createElement('script'))[ONREADYSTATECHANGE] = function () {\n        html.removeChild(this);\n        run(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function (id) {\n      setTimeout(runner(id), 0);\n    };\n  }\n}\n\nmodule.exports = {\n  set: set,\n  clear: clear\n};\n","var userAgent = require('../internals/engine-user-agent');\n\nmodule.exports = /(iphone|ipod|ipad).*applewebkit/i.test(userAgent);\n","var anObject = require('../internals/an-object');\nvar isObject = require('../internals/is-object');\nvar newPromiseCapability = require('../internals/new-promise-capability');\n\nmodule.exports = function (C, x) {\n  anObject(C);\n  if (isObject(x) && x.constructor === C) return x;\n  var promiseCapability = newPromiseCapability.f(C);\n  var resolve = promiseCapability.resolve;\n  resolve(x);\n  return promiseCapability.promise;\n};\n","'use strict';\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar has = require('../internals/has');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IS_PURE = require('../internals/is-pure');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar BUGGY_SAFARI_ITERATORS = false;\n\nvar returnThis = function () { return this; };\n\n// `%IteratorPrototype%` object\n// https://tc39.github.io/ecma262/#sec-%iteratorprototype%-object\nvar IteratorPrototype, PrototypeOfArrayIteratorPrototype, arrayIterator;\n\nif ([].keys) {\n  arrayIterator = [].keys();\n  // Safari 8 has buggy iterators w/o `next`\n  if (!('next' in arrayIterator)) BUGGY_SAFARI_ITERATORS = true;\n  else {\n    PrototypeOfArrayIteratorPrototype = getPrototypeOf(getPrototypeOf(arrayIterator));\n    if (PrototypeOfArrayIteratorPrototype !== Object.prototype) IteratorPrototype = PrototypeOfArrayIteratorPrototype;\n  }\n}\n\nif (IteratorPrototype == undefined) IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nif (!IS_PURE && !has(IteratorPrototype, ITERATOR)) {\n  createNonEnumerableProperty(IteratorPrototype, ITERATOR, returnThis);\n}\n\nmodule.exports = {\n  IteratorPrototype: IteratorPrototype,\n  BUGGY_SAFARI_ITERATORS: BUGGY_SAFARI_ITERATORS\n};\n","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = function (METHOD_NAME, argument) {\n  var method = [][METHOD_NAME];\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call,no-throw-literal\n    method.call(null, argument || function () { throw 1; }, 1);\n  });\n};\n","module.exports = require(\"core-js-pure/stable/instance/includes\");","module.exports = require(\"core-js-pure/stable/map\");","'use strict';\nvar $ = require('./export');\nvar global = require('../internals/global');\nvar InternalMetadataModule = require('../internals/internal-metadata');\nvar fails = require('../internals/fails');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar iterate = require('../internals/iterate');\nvar anInstance = require('../internals/an-instance');\nvar isObject = require('../internals/is-object');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar defineProperty = require('../internals/object-define-property').f;\nvar forEach = require('../internals/array-iteration').forEach;\nvar DESCRIPTORS = require('../internals/descriptors');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar setInternalState = InternalStateModule.set;\nvar internalStateGetterFor = InternalStateModule.getterFor;\n\nmodule.exports = function (CONSTRUCTOR_NAME, wrapper, common) {\n  var IS_MAP = CONSTRUCTOR_NAME.indexOf('Map') !== -1;\n  var IS_WEAK = CONSTRUCTOR_NAME.indexOf('Weak') !== -1;\n  var ADDER = IS_MAP ? 'set' : 'add';\n  var NativeConstructor = global[CONSTRUCTOR_NAME];\n  var NativePrototype = NativeConstructor && NativeConstructor.prototype;\n  var exported = {};\n  var Constructor;\n\n  if (!DESCRIPTORS || typeof NativeConstructor != 'function'\n    || !(IS_WEAK || NativePrototype.forEach && !fails(function () { new NativeConstructor().entries().next(); }))\n  ) {\n    // create collection constructor\n    Constructor = common.getConstructor(wrapper, CONSTRUCTOR_NAME, IS_MAP, ADDER);\n    InternalMetadataModule.REQUIRED = true;\n  } else {\n    Constructor = wrapper(function (target, iterable) {\n      setInternalState(anInstance(target, Constructor, CONSTRUCTOR_NAME), {\n        type: CONSTRUCTOR_NAME,\n        collection: new NativeConstructor()\n      });\n      if (iterable != undefined) iterate(iterable, target[ADDER], { that: target, AS_ENTRIES: IS_MAP });\n    });\n\n    var getInternalState = internalStateGetterFor(CONSTRUCTOR_NAME);\n\n    forEach(['add', 'clear', 'delete', 'forEach', 'get', 'has', 'set', 'keys', 'values', 'entries'], function (KEY) {\n      var IS_ADDER = KEY == 'add' || KEY == 'set';\n      if (KEY in NativePrototype && !(IS_WEAK && KEY == 'clear')) {\n        createNonEnumerableProperty(Constructor.prototype, KEY, function (a, b) {\n          var collection = getInternalState(this).collection;\n          if (!IS_ADDER && IS_WEAK && !isObject(a)) return KEY == 'get' ? undefined : false;\n          var result = collection[KEY](a === 0 ? 0 : a, b);\n          return IS_ADDER ? this : result;\n        });\n      }\n    });\n\n    IS_WEAK || defineProperty(Constructor.prototype, 'size', {\n      configurable: true,\n      get: function () {\n        return getInternalState(this).collection.size;\n      }\n    });\n  }\n\n  setToStringTag(Constructor, CONSTRUCTOR_NAME, false, true);\n\n  exported[CONSTRUCTOR_NAME] = Constructor;\n  $({ global: true, forced: true }, exported);\n\n  if (!IS_WEAK) common.setStrong(Constructor, CONSTRUCTOR_NAME, IS_MAP);\n\n  return Constructor;\n};\n","var hiddenKeys = require('../internals/hidden-keys');\nvar isObject = require('../internals/is-object');\nvar has = require('../internals/has');\nvar defineProperty = require('../internals/object-define-property').f;\nvar uid = require('../internals/uid');\nvar FREEZING = require('../internals/freezing');\n\nvar METADATA = uid('meta');\nvar id = 0;\n\nvar isExtensible = Object.isExtensible || function () {\n  return true;\n};\n\nvar setMetadata = function (it) {\n  defineProperty(it, METADATA, { value: {\n    objectID: 'O' + ++id, // object ID\n    weakData: {}          // weak collections IDs\n  } });\n};\n\nvar fastKey = function (it, create) {\n  // return a primitive with prefix\n  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if (!has(it, METADATA)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return 'F';\n    // not necessary to add metadata\n    if (!create) return 'E';\n    // add missing metadata\n    setMetadata(it);\n  // return object ID\n  } return it[METADATA].objectID;\n};\n\nvar getWeakData = function (it, create) {\n  if (!has(it, METADATA)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true;\n    // not necessary to add metadata\n    if (!create) return false;\n    // add missing metadata\n    setMetadata(it);\n  // return the store of weak collections IDs\n  } return it[METADATA].weakData;\n};\n\n// add metadata on freeze-family methods calling\nvar onFreeze = function (it) {\n  if (FREEZING && meta.REQUIRED && isExtensible(it) && !has(it, METADATA)) setMetadata(it);\n  return it;\n};\n\nvar meta = module.exports = {\n  REQUIRED: false,\n  fastKey: fastKey,\n  getWeakData: getWeakData,\n  onFreeze: onFreeze\n};\n\nhiddenKeys[METADATA] = true;\n","'use strict';\nvar defineProperty = require('../internals/object-define-property').f;\nvar create = require('../internals/object-create');\nvar redefineAll = require('../internals/redefine-all');\nvar bind = require('../internals/function-bind-context');\nvar anInstance = require('../internals/an-instance');\nvar iterate = require('../internals/iterate');\nvar defineIterator = require('../internals/define-iterator');\nvar setSpecies = require('../internals/set-species');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar fastKey = require('../internals/internal-metadata').fastKey;\nvar InternalStateModule = require('../internals/internal-state');\n\nvar setInternalState = InternalStateModule.set;\nvar internalStateGetterFor = InternalStateModule.getterFor;\n\nmodule.exports = {\n  getConstructor: function (wrapper, CONSTRUCTOR_NAME, IS_MAP, ADDER) {\n    var C = wrapper(function (that, iterable) {\n      anInstance(that, C, CONSTRUCTOR_NAME);\n      setInternalState(that, {\n        type: CONSTRUCTOR_NAME,\n        index: create(null),\n        first: undefined,\n        last: undefined,\n        size: 0\n      });\n      if (!DESCRIPTORS) that.size = 0;\n      if (iterable != undefined) iterate(iterable, that[ADDER], { that: that, AS_ENTRIES: IS_MAP });\n    });\n\n    var getInternalState = internalStateGetterFor(CONSTRUCTOR_NAME);\n\n    var define = function (that, key, value) {\n      var state = getInternalState(that);\n      var entry = getEntry(that, key);\n      var previous, index;\n      // change existing entry\n      if (entry) {\n        entry.value = value;\n      // create new entry\n      } else {\n        state.last = entry = {\n          index: index = fastKey(key, true),\n          key: key,\n          value: value,\n          previous: previous = state.last,\n          next: undefined,\n          removed: false\n        };\n        if (!state.first) state.first = entry;\n        if (previous) previous.next = entry;\n        if (DESCRIPTORS) state.size++;\n        else that.size++;\n        // add to index\n        if (index !== 'F') state.index[index] = entry;\n      } return that;\n    };\n\n    var getEntry = function (that, key) {\n      var state = getInternalState(that);\n      // fast case\n      var index = fastKey(key);\n      var entry;\n      if (index !== 'F') return state.index[index];\n      // frozen object case\n      for (entry = state.first; entry; entry = entry.next) {\n        if (entry.key == key) return entry;\n      }\n    };\n\n    redefineAll(C.prototype, {\n      // 23.1.3.1 Map.prototype.clear()\n      // 23.2.3.2 Set.prototype.clear()\n      clear: function clear() {\n        var that = this;\n        var state = getInternalState(that);\n        var data = state.index;\n        var entry = state.first;\n        while (entry) {\n          entry.removed = true;\n          if (entry.previous) entry.previous = entry.previous.next = undefined;\n          delete data[entry.index];\n          entry = entry.next;\n        }\n        state.first = state.last = undefined;\n        if (DESCRIPTORS) state.size = 0;\n        else that.size = 0;\n      },\n      // 23.1.3.3 Map.prototype.delete(key)\n      // 23.2.3.4 Set.prototype.delete(value)\n      'delete': function (key) {\n        var that = this;\n        var state = getInternalState(that);\n        var entry = getEntry(that, key);\n        if (entry) {\n          var next = entry.next;\n          var prev = entry.previous;\n          delete state.index[entry.index];\n          entry.removed = true;\n          if (prev) prev.next = next;\n          if (next) next.previous = prev;\n          if (state.first == entry) state.first = next;\n          if (state.last == entry) state.last = prev;\n          if (DESCRIPTORS) state.size--;\n          else that.size--;\n        } return !!entry;\n      },\n      // 23.2.3.6 Set.prototype.forEach(callbackfn, thisArg = undefined)\n      // 23.1.3.5 Map.prototype.forEach(callbackfn, thisArg = undefined)\n      forEach: function forEach(callbackfn /* , that = undefined */) {\n        var state = getInternalState(this);\n        var boundFunction = bind(callbackfn, arguments.length > 1 ? arguments[1] : undefined, 3);\n        var entry;\n        while (entry = entry ? entry.next : state.first) {\n          boundFunction(entry.value, entry.key, this);\n          // revert to the last existing entry\n          while (entry && entry.removed) entry = entry.previous;\n        }\n      },\n      // 23.1.3.7 Map.prototype.has(key)\n      // 23.2.3.7 Set.prototype.has(value)\n      has: function has(key) {\n        return !!getEntry(this, key);\n      }\n    });\n\n    redefineAll(C.prototype, IS_MAP ? {\n      // 23.1.3.6 Map.prototype.get(key)\n      get: function get(key) {\n        var entry = getEntry(this, key);\n        return entry && entry.value;\n      },\n      // 23.1.3.9 Map.prototype.set(key, value)\n      set: function set(key, value) {\n        return define(this, key === 0 ? 0 : key, value);\n      }\n    } : {\n      // 23.2.3.1 Set.prototype.add(value)\n      add: function add(value) {\n        return define(this, value = value === 0 ? 0 : value, value);\n      }\n    });\n    if (DESCRIPTORS) defineProperty(C.prototype, 'size', {\n      get: function () {\n        return getInternalState(this).size;\n      }\n    });\n    return C;\n  },\n  setStrong: function (C, CONSTRUCTOR_NAME, IS_MAP) {\n    var ITERATOR_NAME = CONSTRUCTOR_NAME + ' Iterator';\n    var getInternalCollectionState = internalStateGetterFor(CONSTRUCTOR_NAME);\n    var getInternalIteratorState = internalStateGetterFor(ITERATOR_NAME);\n    // add .keys, .values, .entries, [@@iterator]\n    // 23.1.3.4, 23.1.3.8, 23.1.3.11, 23.1.3.12, 23.2.3.5, 23.2.3.8, 23.2.3.10, 23.2.3.11\n    defineIterator(C, CONSTRUCTOR_NAME, function (iterated, kind) {\n      setInternalState(this, {\n        type: ITERATOR_NAME,\n        target: iterated,\n        state: getInternalCollectionState(iterated),\n        kind: kind,\n        last: undefined\n      });\n    }, function () {\n      var state = getInternalIteratorState(this);\n      var kind = state.kind;\n      var entry = state.last;\n      // revert to the last existing entry\n      while (entry && entry.removed) entry = entry.previous;\n      // get next entry\n      if (!state.target || !(state.last = entry = entry ? entry.next : state.state.first)) {\n        // or finish the iteration\n        state.target = undefined;\n        return { value: undefined, done: true };\n      }\n      // return step by kind\n      if (kind == 'keys') return { value: entry.key, done: false };\n      if (kind == 'values') return { value: entry.value, done: false };\n      return { value: [entry.key, entry.value], done: false };\n    }, IS_MAP ? 'entries' : 'values', !IS_MAP, true);\n\n    // add [@@species], 23.1.2.2, 23.2.2.2\n    setSpecies(CONSTRUCTOR_NAME);\n  }\n};\n","module.exports = require(\"core-js-pure/stable/array/is-array\");","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.iterator` well-known symbol\n// https://tc39.github.io/ecma262/#sec-symbol.iterator\ndefineWellKnownSymbol('iterator');\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\nvar hiddenKeys = enumBugKeys.concat('length', 'prototype');\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertynames\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return internalObjectKeys(O, hiddenKeys);\n};\n","exports.f = Object.getOwnPropertySymbols;\n","module.exports = require(\"core-js-pure/stable/set-timeout\");","/**\n * @description 样式配置\n * @author wangfupeng\n */\n\nexport default {\n    zIndex: 10000,\n}\n","/**\n * @description 处理粘贴逻辑\n * @author wangfupeng\n */\n\nimport { replaceHtmlSymbol, forEach } from '../../utils/util'\nimport parseHtml from './parse-html'\n\n/**\n * 获取粘贴的纯文本\n * @param e Event 参数\n */\nexport function getPasteText(e: ClipboardEvent): string {\n    // const clipboardData = e.clipboardData || (e.originalEvent && e.originalEvent.clipboardData)\n    const clipboardData = e.clipboardData // 暂不考虑 originalEvent 的情况\n    let pasteText = ''\n    if (clipboardData == null) {\n        pasteText = (window as any).clipboardData && (window as any).clipboardData.getData('text')\n    } else {\n        pasteText = clipboardData.getData('text/plain')\n    }\n    return replaceHtmlSymbol(pasteText)\n}\n\n/**\n * 获取粘贴的 html 字符串\n * @param e Event 参数\n * @param filterStyle 是否过滤 style 样式\n * @param ignoreImg 是否忽略 img 标签\n */\nexport function getPasteHtml(\n    e: ClipboardEvent,\n    filterStyle: boolean = true,\n    ignoreImg: boolean = false\n): string {\n    const clipboardData = e.clipboardData // 暂不考虑 originalEvent 的情况\n    let pasteHtml = ''\n    if (clipboardData) {\n        pasteHtml = clipboardData.getData('text/html')\n    }\n\n    // 无法通过 'text/html' 格式获取 html，则尝试获取 text\n    if (!pasteHtml) {\n        const text = getPasteText(e)\n        if (!text) {\n            return '' // 没有找到任何文字，则返回\n        }\n        pasteHtml = `<p>${text}</p>`\n    }\n\n    // 剔除多余的标签、属性\n    pasteHtml = parseHtml(pasteHtml, filterStyle, ignoreImg)\n\n    return pasteHtml\n}\n\n/**\n * 获取粘贴的图片文件\n * @param e Event 参数\n */\nexport function getPasteImgs(e: ClipboardEvent): File[] {\n    const result: File[] = []\n    const txt = getPasteText(e)\n    if (txt) {\n        // 有文字，就忽略图片\n        return result\n    }\n\n    const items = e.clipboardData?.items\n\n    if (!items) return result\n\n    forEach(items, (key, value) => {\n        const type = value.type\n        if (/image/i.test(type)) {\n            result.push(value.getAsFile() as File)\n        }\n    })\n\n    return result\n}\n","module.exports = require(\"core-js-pure/stable/set\");","/**\n * @description 下拉列表 class\n */\n\nimport $, { DomElement } from '../../utils/dom-core'\nimport DropListMenu from './DropListMenu'\nimport { EMPTY_FN } from '../../utils/const'\n\nexport type DropListItem = {\n    $elem: DomElement\n    value: string\n}\n\n// droplist 的配置数据\nexport type DropListConf = {\n    title: string\n    list: DropListItem[]\n    type: string // 'list' 列表形式（如“标题”菜单）； 'inline-block' 块状形式（如“颜色”菜单）\n    clickHandler: (value: DropListItem['value']) => void\n    width: number | 100\n}\n\nclass DropList {\n    private menu: DropListMenu\n    private conf: DropListConf\n    private $container: DomElement\n    private rendered: boolean\n    private _show: boolean\n\n    public hideTimeoutId: number\n    public showTimeoutId: number\n\n    constructor(menu: DropListMenu, conf: DropListConf) {\n        this.hideTimeoutId = 0\n        this.showTimeoutId = 0\n        this.menu = menu\n        this.conf = conf\n\n        // 容器\n        const $container = $('<div class=\"w-e-droplist\"></div>')\n\n        // 标题\n        const $title = $(`<p>${conf.title}</p>`)\n        $title.addClass('w-e-dp-title')\n        $container.append($title)\n\n        // 列表和类型\n        const list = conf.list || []\n        const type = conf.type || 'list'\n        // item 的点击事件\n        const clickHandler = conf.clickHandler || EMPTY_FN\n\n        // 加入 DOM 并绑定事件\n        const $list = $('<ul class=\"' + (type === 'list' ? 'w-e-list' : 'w-e-block') + '\"></ul>')\n        list.forEach(item => {\n            const $elem = item.$elem\n\n            const value = item.value\n            const $li = $('<li class=\"w-e-item\"></li>')\n            if ($elem) {\n                $li.append($elem)\n                $list.append($li)\n                $li.on('click', () => {\n                    clickHandler(value)\n\n                    // item 点击之后，隐藏 list\n                    this.hideTimeoutId = window.setTimeout(() => {\n                        this.hide()\n                    })\n                })\n            }\n        })\n        $container.append($list)\n\n        // 绑定隐藏事件\n        $container.on('mouseleave', () => {\n            this.hideTimeoutId = window.setTimeout(() => {\n                this.hide()\n            })\n        })\n\n        // 记录属性\n        this.$container = $container\n        this.rendered = false\n        this._show = false\n    }\n\n    /**\n     * 显示 DropList\n     */\n    public show() {\n        if (this.hideTimeoutId) {\n            // 清除之前的定时隐藏\n            clearTimeout(this.hideTimeoutId)\n        }\n\n        const menu = this.menu\n        const $menuELem = menu.$elem\n        const $container = this.$container\n        if (this._show) {\n            return\n        }\n        if (this.rendered) {\n            // 显示\n            $container.show()\n        } else {\n            // 加入 DOM 之前先定位位置\n            const menuHeight = $menuELem.getSizeData().height || 0\n            const width = this.conf.width || 100 // 默认为 100\n            $container.css('margin-top', menuHeight + 'px').css('width', width + 'px')\n\n            // 加入到 DOM\n            $menuELem.append($container)\n            this.rendered = true\n        }\n\n        // 修改属性\n        this._show = true\n    }\n\n    /**\n     * 隐藏 DropList\n     */\n    public hide() {\n        if (this.showTimeoutId) {\n            // 清除之前的定时显示\n            clearTimeout(this.showTimeoutId)\n        }\n\n        const $container = this.$container\n        if (!this._show) {\n            return\n        }\n        // 隐藏并需改属性\n        $container.hide()\n        this._show = false\n    }\n\n    public get isShow() {\n        return this._show\n    }\n}\n\nexport default DropList\n","/**\n * @description 检查选区是否在链接中，即菜单是否应该 active\n * @author wangfupeng\n */\n\nimport Editor from '../../editor/index'\n\nfunction isActive(editor: Editor): boolean {\n    const $selectionELem = editor.selection.getSelectionContainerElem()\n    if (!$selectionELem) {\n        return false\n    }\n    if ($selectionELem.getNodeName() === 'A') {\n        return true\n    } else {\n        return false\n    }\n}\n\nexport default isActive\n","/**\n * @description 上传的核心方法\n * @author wangfupeng\n */\n\nimport { forEach } from '../../utils/util'\nimport { DicType } from '../../config/index'\n\ntype PostOptionType<T> = {\n    timeout?: number\n    formData?: FormData\n    headers?: DicType\n    withCredentials?: boolean\n    onTimeout?: (xhr: XMLHttpRequest) => void\n    onProgress?: (percent: number, event: ProgressEvent) => void\n    beforeSend?: (xhr: XMLHttpRequest) => { prevent: boolean; msg: string } | void\n    onError?: (xhr: XMLHttpRequest) => void\n    onFail?: (xhr: XMLHttpRequest, msg: string) => void\n    onSuccess: (xhr: XMLHttpRequest, result: T) => void\n}\n\n/**\n * 发送 post 请求（用于文件上传）\n * @param url url\n * @param option 配置项\n */\nfunction post<T extends Object>(url: string, option: PostOptionType<T>): XMLHttpRequest | string {\n    const xhr = new XMLHttpRequest()\n    xhr.open('POST', url)\n\n    // 超时，默认 10s\n    xhr.timeout = option.timeout || 10 * 1000\n    xhr.ontimeout = () => {\n        console.error('wangEditor - 请求超时')\n        option.onTimeout && option.onTimeout(xhr)\n    }\n\n    // 进度\n    if (xhr.upload) {\n        xhr.upload.onprogress = (e: ProgressEvent) => {\n            const percent = e.loaded / e.total\n            option.onProgress && option.onProgress(percent, e)\n        }\n    }\n\n    // 自定义 header\n    if (option.headers) {\n        forEach(option.headers, (key: string, val: string) => {\n            xhr.setRequestHeader(key, val)\n        })\n    }\n\n    // 跨域传 cookie\n    xhr.withCredentials = !!option.withCredentials\n\n    // 上传之前的钩子函数，在 xhr.send() 之前执行\n    if (option.beforeSend) {\n        const beforeResult = option.beforeSend(xhr)\n        if (beforeResult && typeof beforeResult === 'object') {\n            if (beforeResult.prevent) {\n                // 如果返回的结果是 {prevent: true, msg: 'xxxx'} 则表示用户放弃上传\n                return beforeResult.msg\n            }\n        }\n    }\n\n    // 服务端返回之后\n    xhr.onreadystatechange = () => {\n        if (xhr.readyState !== 4) return\n        const status = xhr.status\n        if (status < 200) return // 请求发送过程中，尚未返回\n        if (status >= 300 && status < 400) return // 重定向\n        if (status >= 400) {\n            // 40x 50x 报错\n            console.error('wangEditor - XHR 报错，状态码 ' + status)\n            if (option.onError) option.onError(xhr) // 有，则执行 onError 函数即可\n            return\n        }\n\n        // status = 200 ，得到结果\n        const resultStr = xhr.responseText\n        let result: T\n        if (typeof resultStr !== 'object') {\n            try {\n                result = JSON.parse(resultStr)\n            } catch (ex) {\n                console.error('wangEditor - 返回结果不是 JSON 格式', resultStr)\n                if (option.onFail) option.onFail(xhr, resultStr)\n                return\n            }\n        } else {\n            result = resultStr\n        }\n        option.onSuccess(xhr, result)\n    }\n\n    // 发送请求\n    xhr.send(option.formData || null)\n\n    return xhr\n}\n\nexport default post\n","/**\n * @description 上传进度条\n * @author wangfupeng\n */\n\nimport $, { DomElement } from '../../utils/dom-core'\nimport Editor from '../../editor/index'\n\nclass Progress {\n    private editor: Editor\n    private $bar: DomElement\n    private $textContainer: DomElement\n    private isShow: boolean\n    private time: number\n    private timeoutId: number\n\n    constructor(editor: Editor) {\n        this.editor = editor\n        this.$textContainer = editor.$textContainerElem\n        this.$bar = $('<div class=\"w-e-progress\"></div>')\n\n        this.isShow = false\n        this.time = 0\n        this.timeoutId = 0\n    }\n\n    /**\n     * 显示进度条\n     * @param progress 进度百分比\n     */\n    public show(progress: number): void {\n        // 不要重新显示\n        if (this.isShow) {\n            return\n        }\n        this.isShow = true\n\n        // 渲染 $bar\n        const $bar = this.$bar\n        const $textContainer = this.$textContainer\n        $textContainer.append($bar)\n\n        // 改变进度条（防抖，100ms 渲染一次）\n        if (Date.now() - this.time > 100) {\n            if (progress <= 1) {\n                $bar.css('width', progress * 100 + '%')\n                this.time = Date.now()\n            }\n        }\n\n        // 500ms 之后隐藏\n        let timeoutId = this.timeoutId\n        if (timeoutId) {\n            clearTimeout(timeoutId)\n        }\n        this.timeoutId = window.setTimeout(() => {\n            this.hide()\n        }, 500)\n    }\n\n    /**\n     * 隐藏\n     */\n    private hide() {\n        const $bar = this.$bar\n        $bar.remove()\n\n        this.isShow = false\n        this.time = 0\n        this.timeoutId = 0\n    }\n}\n\nexport default Progress\n","/**\n * @description 检查选区是否在代码中，即菜单是否应该 active\n * @author lkw\n */\n\nimport Editor from '../../editor/index'\n\nfunction isActive(editor: Editor): boolean {\n    const $selectionELem = editor.selection.getSelectionContainerElem()\n    if (!$selectionELem) {\n        return false\n    }\n    if (\n        $selectionELem.getNodeName() == 'CODE' ||\n        $selectionELem.getNodeName() == 'PRE' ||\n        $selectionELem.parent().getNodeName() == 'CODE' ||\n        $selectionELem.parent().getNodeName() == 'PRE' ||\n        /hljs/.test($selectionELem.parent().attr('class'))\n    ) {\n        return true\n    } else {\n        return false\n    }\n}\n\nexport default isActive\n","/**\n * @description 入口文件\n * @author wangfupeng\n */\n\nimport './assets/style/common.less'\nimport './assets/style/icon.less'\nimport './assets/style/menus.less'\nimport './assets/style/text.less'\nimport './assets/style/panel.less'\nimport './assets/style/droplist.less'\n\nimport './utils/polyfill'\nimport Editor from './editor/index'\n\nexport * from './menus/menu-constructors/index'\n\n// 检验是否浏览器环境\ntry {\n    document\n} catch (ex) {\n    throw new Error('请在浏览器环境下运行')\n}\n\nexport default Editor\n","var parent = require('../../es/object/define-property');\n\nmodule.exports = parent;\n","require('../../modules/es.object.define-property');\nvar path = require('../../internals/path');\n\nvar Object = path.Object;\n\nvar defineProperty = module.exports = function defineProperty(it, key, desc) {\n  return Object.defineProperty(it, key, desc);\n};\n\nif (Object.defineProperty.sham) defineProperty.sham = true;\n","var $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar objectDefinePropertyModile = require('../internals/object-define-property');\n\n// `Object.defineProperty` method\n// https://tc39.github.io/ecma262/#sec-object.defineproperty\n$({ target: 'Object', stat: true, forced: !DESCRIPTORS, sham: !DESCRIPTORS }, {\n  defineProperty: objectDefinePropertyModile.f\n});\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","var parent = require('../../es/object/create');\n\nmodule.exports = parent;\n","require('../../modules/es.object.create');\nvar path = require('../../internals/path');\n\nvar Object = path.Object;\n\nmodule.exports = function create(P, D) {\n  return Object.create(P, D);\n};\n","var $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar create = require('../internals/object-create');\n\n// `Object.create` method\n// https://tc39.github.io/ecma262/#sec-object.create\n$({ target: 'Object', stat: true, sham: !DESCRIPTORS }, {\n  create: create\n});\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar anObject = require('../internals/an-object');\nvar objectKeys = require('../internals/object-keys');\n\n// `Object.defineProperties` method\n// https://tc39.github.io/ecma262/#sec-object.defineproperties\nmodule.exports = DESCRIPTORS ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = objectKeys(Properties);\n  var length = keys.length;\n  var index = 0;\n  var key;\n  while (length > index) definePropertyModule.f(O, key = keys[index++], Properties[key]);\n  return O;\n};\n","var global = require('../internals/global');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nmodule.exports = function (key, value) {\n  try {\n    createNonEnumerableProperty(global, key, value);\n  } catch (error) {\n    global[key] = value;\n  } return value;\n};\n","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/postcss-loader/src/index.js!../../../node_modules/less-loader/dist/cjs.js!./common.less\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".w-e-toolbar,\\n.w-e-text-container,\\n.w-e-menu-panel {\\n  padding: 0;\\n  margin: 0;\\n  box-sizing: border-box;\\n  background-color: #fff;\\n  /*表情菜单样式*/\\n  /*分割线样式*/\\n}\\n.w-e-toolbar h1,\\n.w-e-text-container h1,\\n.w-e-menu-panel h1 {\\n  font-size: 2em !important;\\n}\\n.w-e-toolbar h2,\\n.w-e-text-container h2,\\n.w-e-menu-panel h2 {\\n  font-size: 1.5em !important;\\n}\\n.w-e-toolbar h3,\\n.w-e-text-container h3,\\n.w-e-menu-panel h3 {\\n  font-size: 1.17em !important;\\n}\\n.w-e-toolbar h4,\\n.w-e-text-container h4,\\n.w-e-menu-panel h4 {\\n  font-size: 1em !important;\\n}\\n.w-e-toolbar h5,\\n.w-e-text-container h5,\\n.w-e-menu-panel h5 {\\n  font-size: 0.83em !important;\\n}\\n.w-e-toolbar p,\\n.w-e-text-container p,\\n.w-e-menu-panel p {\\n  font-size: 1em !important;\\n}\\n.w-e-toolbar .eleImg,\\n.w-e-text-container .eleImg,\\n.w-e-menu-panel .eleImg {\\n  cursor: pointer;\\n  display: inline-block;\\n  font-size: 18px;\\n  padding: 0 3px;\\n}\\n.w-e-toolbar *,\\n.w-e-text-container *,\\n.w-e-menu-panel * {\\n  padding: 0;\\n  margin: 0;\\n  box-sizing: border-box;\\n}\\n.w-e-toolbar hr,\\n.w-e-text-container hr,\\n.w-e-menu-panel hr {\\n  cursor: pointer;\\n  display: block;\\n  height: 0px;\\n  border: 0;\\n  border-top: 3px solid #ccc;\\n  margin: 20px 0;\\n}\\n.w-e-clear-fix:after {\\n  content: \\\"\\\";\\n  display: table;\\n  clear: both;\\n}\\n.w-e-drop-list-item {\\n  position: relative;\\n  top: 1px;\\n  padding-right: 7px;\\n  color: #333 !important;\\n}\\n.w-e-drop-list-tl {\\n  padding-left: 10px;\\n  text-align: left;\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/postcss-loader/src/index.js!../../../node_modules/less-loader/dist/cjs.js!./icon.less\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_GET_URL_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/getUrl.js\");\nvar ___CSS_LOADER_URL_IMPORT_0___ = require(\"../font/w-e-icon.woff?ddq1c7\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\nvar ___CSS_LOADER_URL_REPLACEMENT_0___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_0___);\n// Module\nexports.push([module.id, \"@font-face {\\n  font-family: 'w-e-icon';\\n  src: url(\" + ___CSS_LOADER_URL_REPLACEMENT_0___ + \") format('truetype');\\n  font-weight: normal;\\n  font-style: normal;\\n}\\n[class^=\\\"w-e-icon-\\\"],\\n[class*=\\\" w-e-icon-\\\"] {\\n  /* use !important to prevent issues with browser extensions that change fonts */\\n  font-family: 'w-e-icon' !important;\\n  speak: none;\\n  font-style: normal;\\n  font-weight: normal;\\n  font-variant: normal;\\n  text-transform: none;\\n  line-height: 1;\\n  /* Better Font Rendering =========== */\\n  -webkit-font-smoothing: antialiased;\\n  -moz-osx-font-smoothing: grayscale;\\n}\\n.w-e-icon-close:before {\\n  content: \\\"\\\\f00d\\\";\\n}\\n.w-e-icon-upload2:before {\\n  content: \\\"\\\\e9c6\\\";\\n}\\n.w-e-icon-trash-o:before {\\n  content: \\\"\\\\f014\\\";\\n}\\n.w-e-icon-header:before {\\n  content: \\\"\\\\f1dc\\\";\\n}\\n.w-e-icon-pencil2:before {\\n  content: \\\"\\\\e906\\\";\\n}\\n.w-e-icon-paint-brush:before {\\n  content: \\\"\\\\f1fc\\\";\\n}\\n.w-e-icon-image:before {\\n  content: \\\"\\\\e90d\\\";\\n}\\n.w-e-icon-play:before {\\n  content: \\\"\\\\e912\\\";\\n}\\n.w-e-icon-location:before {\\n  content: \\\"\\\\e947\\\";\\n}\\n.w-e-icon-undo:before {\\n  content: \\\"\\\\e965\\\";\\n}\\n.w-e-icon-redo:before {\\n  content: \\\"\\\\e966\\\";\\n}\\n.w-e-icon-quotes-left:before {\\n  content: \\\"\\\\e977\\\";\\n}\\n.w-e-icon-list-numbered:before {\\n  content: \\\"\\\\e9b9\\\";\\n}\\n.w-e-icon-list2:before {\\n  content: \\\"\\\\e9bb\\\";\\n}\\n.w-e-icon-link:before {\\n  content: \\\"\\\\e9cb\\\";\\n}\\n.w-e-icon-happy:before {\\n  content: \\\"\\\\e9df\\\";\\n}\\n.w-e-icon-bold:before {\\n  content: \\\"\\\\ea62\\\";\\n}\\n.w-e-icon-underline:before {\\n  content: \\\"\\\\ea63\\\";\\n}\\n.w-e-icon-italic:before {\\n  content: \\\"\\\\ea64\\\";\\n}\\n.w-e-icon-strikethrough:before {\\n  content: \\\"\\\\ea65\\\";\\n}\\n.w-e-icon-table2:before {\\n  content: \\\"\\\\ea71\\\";\\n}\\n.w-e-icon-paragraph-left:before {\\n  content: \\\"\\\\ea77\\\";\\n}\\n.w-e-icon-paragraph-center:before {\\n  content: \\\"\\\\ea78\\\";\\n}\\n.w-e-icon-paragraph-right:before {\\n  content: \\\"\\\\ea79\\\";\\n}\\n.w-e-icon-paragraph-justify:before {\\n  content: \\\"\\\\ea7a\\\";\\n}\\n.w-e-icon-terminal:before {\\n  content: \\\"\\\\f120\\\";\\n}\\n.w-e-icon-page-break:before {\\n  content: \\\"\\\\ea68\\\";\\n}\\n.w-e-icon-cancel-circle:before {\\n  content: \\\"\\\\ea0d\\\";\\n}\\n.w-e-icon-font:before {\\n  content: \\\"\\\\ea5c\\\";\\n}\\n.w-e-icon-text-heigh:before {\\n  content: \\\"\\\\ea5f\\\";\\n}\\n.w-e-icon-paint-format:before {\\n  content: \\\"\\\\e90c\\\";\\n}\\n.w-e-icon-indent-increase:before {\\n  content: \\\"\\\\ea7b\\\";\\n}\\n.w-e-icon-indent-decrease:before {\\n  content: \\\"\\\\ea7c\\\";\\n}\\n.w-e-icon-row-height:before {\\n  content: \\\"\\\\e9be\\\";\\n}\\n.w-e-icon-fullscreen_exit:before {\\n  content: \\\"\\\\e900\\\";\\n}\\n.w-e-icon-fullscreen:before {\\n  content: \\\"\\\\e901\\\";\\n}\\n.w-e-icon-split-line:before {\\n  content: \\\"\\\\ea0b\\\";\\n}\\n.w-e-icon-checkbox-checked:before {\\n  content: \\\"\\\\ea52\\\";\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","\"use strict\";\n\nmodule.exports = function (url, options) {\n  if (!options) {\n    // eslint-disable-next-line no-param-reassign\n    options = {};\n  } // eslint-disable-next-line no-underscore-dangle, no-param-reassign\n\n\n  url = url && url.__esModule ? url.default : url;\n\n  if (typeof url !== 'string') {\n    return url;\n  } // If url is already wrapped in quotes, remove them\n\n\n  if (/^['\"].*['\"]$/.test(url)) {\n    // eslint-disable-next-line no-param-reassign\n    url = url.slice(1, -1);\n  }\n\n  if (options.hash) {\n    // eslint-disable-next-line no-param-reassign\n    url += options.hash;\n  } // Should url be wrapped?\n  // See https://drafts.csswg.org/css-values-3/#urls\n\n\n  if (/[\"'() \\t\\n]/.test(url) || options.needQuotes) {\n    return \"\\\"\".concat(url.replace(/\"/g, '\\\\\"').replace(/\\n/g, '\\\\n'), \"\\\"\");\n  }\n\n  return url;\n};","export default \"data:font/woff;base64,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\"","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/postcss-loader/src/index.js!../../../node_modules/less-loader/dist/cjs.js!./menus.less\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".w-e-toolbar {\\n  display: flex;\\n  padding: 0 6px;\\n  flex-wrap: wrap;\\n  position: relative;\\n  /* 单个菜单 */\\n}\\n.w-e-toolbar .w-e-menu {\\n  position: relative;\\n  display: flex;\\n  width: 40px;\\n  height: 40px;\\n  align-items: center;\\n  justify-content: center;\\n  text-align: center;\\n  cursor: pointer;\\n}\\n.w-e-toolbar .w-e-menu i {\\n  color: #999;\\n}\\n.w-e-toolbar .w-e-menu:hover {\\n  background-color: #F6F6F6;\\n}\\n.w-e-toolbar .w-e-menu:hover i {\\n  color: #333;\\n}\\n.w-e-toolbar .w-e-active i {\\n  color: #1e88e5;\\n}\\n.w-e-toolbar .w-e-active:hover i {\\n  color: #1e88e5;\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/postcss-loader/src/index.js!../../../node_modules/less-loader/dist/cjs.js!./text.less\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".w-e-text-container {\\n  position: relative;\\n}\\n.w-e-text-container .w-e-progress {\\n  position: absolute;\\n  background-color: #1e88e5;\\n  top: 0;\\n  left: 0;\\n  height: 1px;\\n}\\n.w-e-text-container .placeholder {\\n  color: #D4D4D4;\\n  position: absolute;\\n  font-size: 11pt;\\n  line-height: 22px;\\n  left: 10px;\\n  top: 10px;\\n  -webkit-user-select: none;\\n     -moz-user-select: none;\\n      -ms-user-select: none;\\n          user-select: none;\\n  z-index: -1;\\n}\\n.w-e-text {\\n  padding: 0 10px;\\n  overflow-y: auto;\\n}\\n.w-e-text p,\\n.w-e-text h1,\\n.w-e-text h2,\\n.w-e-text h3,\\n.w-e-text h4,\\n.w-e-text h5,\\n.w-e-text table,\\n.w-e-text pre {\\n  margin: 10px 0;\\n  line-height: 1.5;\\n}\\n.w-e-text ul,\\n.w-e-text ol {\\n  margin: 10px 0 10px 20px;\\n}\\n.w-e-text blockquote {\\n  display: block;\\n  border-left: 8px solid #d0e5f2;\\n  padding: 5px 10px;\\n  margin: 10px 0;\\n  line-height: 1.4;\\n  font-size: 100%;\\n  background-color: #f1f1f1;\\n}\\n.w-e-text code {\\n  display: inline-block;\\n  background-color: #f1f1f1;\\n  border-radius: 3px;\\n  padding: 3px 5px;\\n  margin: 0 3px;\\n}\\n.w-e-text pre code {\\n  display: block;\\n}\\n.w-e-text table {\\n  border-top: 1px solid #ccc;\\n  border-left: 1px solid #ccc;\\n}\\n.w-e-text table td,\\n.w-e-text table th {\\n  border-bottom: 1px solid #ccc;\\n  border-right: 1px solid #ccc;\\n  padding: 3px 5px;\\n  min-height: 30px;\\n}\\n.w-e-text table th {\\n  border-bottom: 2px solid #ccc;\\n  text-align: center;\\n  background-color: #f1f1f1;\\n}\\n.w-e-text:focus {\\n  outline: none;\\n}\\n.w-e-text img {\\n  cursor: pointer;\\n}\\n.w-e-text img:hover {\\n  box-shadow: 0 0 5px #333;\\n}\\n.w-e-tooltip {\\n  position: absolute;\\n  display: flex;\\n  color: #f1f1f1;\\n  background-color: rgba(0, 0, 0, 0.75);\\n  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.15);\\n  border-radius: 4px;\\n  padding: 4px 5px 6px;\\n  justify-content: center;\\n  align-items: center;\\n}\\n.w-e-tooltip-up::after {\\n  content: \\\"\\\";\\n  position: absolute;\\n  top: 100%;\\n  left: 50%;\\n  margin-left: -5px;\\n  border: 5px solid rgba(0, 0, 0, 0);\\n  border-top-color: rgba(0, 0, 0, 0.73);\\n}\\n.w-e-tooltip-down::after {\\n  content: \\\"\\\";\\n  position: absolute;\\n  bottom: 100%;\\n  left: 50%;\\n  margin-left: -5px;\\n  border: 5px solid rgba(0, 0, 0, 0);\\n  border-bottom-color: rgba(0, 0, 0, 0.73);\\n}\\n.w-e-tooltip-item-wrapper {\\n  cursor: pointer;\\n  font-size: 14px;\\n  margin: 0 5px;\\n}\\n.w-e-tooltip-item-wrapper:hover {\\n  color: #ccc;\\n  text-decoration: underline;\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/postcss-loader/src/index.js!../../../node_modules/less-loader/dist/cjs.js!./panel.less\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".w-e-menu .w-e-panel-container {\\n  position: absolute;\\n  top: 0;\\n  left: 50%;\\n  border: 1px solid #ccc;\\n  border-top: 0;\\n  box-shadow: 1px 1px 2px #ccc;\\n  color: #333;\\n  background-color: #fff;\\n  text-align: left;\\n  /* 为 emotion panel 定制的样式 */\\n  /* 上传图片的 panel 定制样式 */\\n}\\n.w-e-menu .w-e-panel-container .w-e-panel-close {\\n  position: absolute;\\n  right: 0;\\n  top: 0;\\n  padding: 5px;\\n  margin: 2px 5px 0 0;\\n  cursor: pointer;\\n  color: #999;\\n}\\n.w-e-menu .w-e-panel-container .w-e-panel-close:hover {\\n  color: #333;\\n}\\n.w-e-menu .w-e-panel-container .w-e-panel-tab-title {\\n  list-style: none;\\n  display: flex;\\n  font-size: 14px;\\n  margin: 2px 10px 0 10px;\\n  border-bottom: 1px solid #f1f1f1;\\n}\\n.w-e-menu .w-e-panel-container .w-e-panel-tab-title .w-e-item {\\n  padding: 3px 5px;\\n  color: #999;\\n  cursor: pointer;\\n  margin: 0 3px;\\n  position: relative;\\n  top: 1px;\\n}\\n.w-e-menu .w-e-panel-container .w-e-panel-tab-title .w-e-active {\\n  color: #333;\\n  border-bottom: 1px solid #333;\\n  cursor: default;\\n  font-weight: 700;\\n}\\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content {\\n  padding: 10px 15px 10px 15px;\\n  font-size: 16px;\\n  /* 输入框的样式 */\\n  /* 按钮的样式 */\\n}\\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content input:focus,\\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content textarea:focus,\\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content button:focus {\\n  outline: none;\\n}\\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content textarea {\\n  width: 100%;\\n  border: 1px solid #ccc;\\n  padding: 5px;\\n  margin-top: 10px;\\n}\\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content textarea:focus {\\n  border-color: #1e88e5;\\n}\\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content input[type=text] {\\n  border: none;\\n  border-bottom: 1px solid #ccc;\\n  font-size: 14px;\\n  height: 20px;\\n  color: #333;\\n  text-align: left;\\n}\\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content input[type=text].small {\\n  width: 30px;\\n  text-align: center;\\n}\\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content input[type=text].block {\\n  display: block;\\n  width: 100%;\\n  margin: 10px 0;\\n}\\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content input[type=text]:focus {\\n  border-bottom: 2px solid #1e88e5;\\n}\\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button {\\n  font-size: 14px;\\n  color: #1e88e5;\\n  border: none;\\n  padding: 5px 10px;\\n  background-color: #fff;\\n  cursor: pointer;\\n  border-radius: 3px;\\n}\\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button.left {\\n  float: left;\\n  margin-right: 10px;\\n}\\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button.right {\\n  float: right;\\n  margin-left: 10px;\\n}\\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button.gray {\\n  color: #999;\\n}\\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button.red {\\n  color: #c24f4a;\\n}\\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button:hover {\\n  background-color: #f1f1f1;\\n}\\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content .w-e-button-container:after {\\n  content: \\\"\\\";\\n  display: table;\\n  clear: both;\\n}\\n.w-e-menu .w-e-panel-container .w-e-emoticon-container .w-e-item {\\n  cursor: pointer;\\n  font-size: 18px;\\n  padding: 0 3px;\\n  display: inline-block;\\n}\\n.w-e-menu .w-e-panel-container .w-e-up-img-container {\\n  text-align: center;\\n}\\n.w-e-menu .w-e-panel-container .w-e-up-img-container .w-e-up-btn {\\n  display: inline-block;\\n  color: #999;\\n  cursor: pointer;\\n  font-size: 60px;\\n  line-height: 1;\\n}\\n.w-e-menu .w-e-panel-container .w-e-up-img-container .w-e-up-btn:hover {\\n  color: #333;\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/postcss-loader/src/index.js!../../../node_modules/less-loader/dist/cjs.js!./droplist.less\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".w-e-toolbar .w-e-droplist {\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n  background-color: #fff;\\n  border: 1px solid #f1f1f1;\\n  border-right-color: #ccc;\\n  border-bottom-color: #ccc;\\n}\\n.w-e-toolbar .w-e-droplist .w-e-dp-title {\\n  text-align: center;\\n  color: #999;\\n  line-height: 2;\\n  border-bottom: 1px solid #f1f1f1;\\n  font-size: 13px;\\n}\\n.w-e-toolbar .w-e-droplist ul.w-e-list {\\n  list-style: none;\\n  line-height: 1;\\n}\\n.w-e-toolbar .w-e-droplist ul.w-e-list li.w-e-item {\\n  color: #333;\\n  padding: 5px 0;\\n}\\n.w-e-toolbar .w-e-droplist ul.w-e-list li.w-e-item:hover {\\n  background-color: #f1f1f1;\\n}\\n.w-e-toolbar .w-e-droplist ul.w-e-block {\\n  list-style: none;\\n  text-align: left;\\n  padding: 5px;\\n}\\n.w-e-toolbar .w-e-droplist ul.w-e-block li.w-e-item {\\n  display: inline-block;\\n  padding: 3px 5px;\\n}\\n.w-e-toolbar .w-e-droplist ul.w-e-block li.w-e-item:hover {\\n  background-color: #f1f1f1;\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/**\n * @description polyfill 【注意，js 语法的兼容，都通过 babel transform runtime 支持】\n * @author wangfupeng\n */\n\nif (!Element.prototype.matches) {\n    Element.prototype.matches = function (s) {\n        let matches: NodeListOf<Element> = this.ownerDocument.querySelectorAll(s)\n        let i: number = matches.length\n        for (i; i >= 0; i--) {\n            if (matches.item(i) === this) break\n        }\n        return i > -1\n    }\n}\n\n// 有的第三方库需要原生 Promise ，而 IE11 又没有原生 Promise ，就报错\nif (!window.Promise) {\n    window.Promise = Promise\n}\n","module.exports = require(\"core-js-pure/stable/promise\");","var parent = require('../../es/promise');\n\nmodule.exports = parent;\n","require('../../modules/es.aggregate-error');\nrequire('../../modules/es.object.to-string');\nrequire('../../modules/es.promise');\nrequire('../../modules/es.promise.all-settled');\nrequire('../../modules/es.promise.any');\nrequire('../../modules/es.promise.finally');\nrequire('../../modules/es.string.iterator');\nrequire('../../modules/web.dom-collections.iterator');\nvar path = require('../../internals/path');\n\nmodule.exports = path.Promise;\n","'use strict';\nvar $ = require('../internals/export');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\nvar create = require('../internals/object-create');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar iterate = require('../internals/iterate');\n\nvar $AggregateError = function AggregateError(errors, message) {\n  var that = this;\n  if (!(that instanceof $AggregateError)) return new $AggregateError(errors, message);\n  if (setPrototypeOf) {\n    that = setPrototypeOf(new Error(undefined), getPrototypeOf(that));\n  }\n  if (message !== undefined) createNonEnumerableProperty(that, 'message', String(message));\n  var errorsArray = [];\n  iterate(errors, errorsArray.push, { that: errorsArray });\n  createNonEnumerableProperty(that, 'errors', errorsArray);\n  return that;\n};\n\n$AggregateError.prototype = create(Error.prototype, {\n  constructor: createPropertyDescriptor(5, $AggregateError),\n  message: createPropertyDescriptor(5, ''),\n  name: createPropertyDescriptor(5, 'AggregateError')\n});\n\n$({ global: true }, {\n  AggregateError: $AggregateError\n});\n","var fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  function F() { /* empty */ }\n  F.prototype.constructor = null;\n  return Object.getPrototypeOf(new F()) !== F.prototype;\n});\n","var isObject = require('../internals/is-object');\n\nmodule.exports = function (it) {\n  if (!isObject(it) && it !== null) {\n    throw TypeError(\"Can't set \" + String(it) + ' as a prototype');\n  } return it;\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\nvar Iterators = require('../internals/iterators');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar ArrayPrototype = Array.prototype;\n\n// check on default Array iterator\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayPrototype[ITERATOR] === it);\n};\n","var classof = require('../internals/classof');\nvar Iterators = require('../internals/iterators');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\n\nmodule.exports = function (it) {\n  if (it != undefined) return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n","var anObject = require('../internals/an-object');\n\nmodule.exports = function (iterator) {\n  var returnMethod = iterator['return'];\n  if (returnMethod !== undefined) {\n    return anObject(returnMethod.call(iterator)).value;\n  }\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar IS_PURE = require('../internals/is-pure');\nvar global = require('../internals/global');\nvar getBuiltIn = require('../internals/get-built-in');\nvar NativePromise = require('../internals/native-promise-constructor');\nvar redefine = require('../internals/redefine');\nvar redefineAll = require('../internals/redefine-all');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar setSpecies = require('../internals/set-species');\nvar isObject = require('../internals/is-object');\nvar aFunction = require('../internals/a-function');\nvar anInstance = require('../internals/an-instance');\nvar inspectSource = require('../internals/inspect-source');\nvar iterate = require('../internals/iterate');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\nvar speciesConstructor = require('../internals/species-constructor');\nvar task = require('../internals/task').set;\nvar microtask = require('../internals/microtask');\nvar promiseResolve = require('../internals/promise-resolve');\nvar hostReportErrors = require('../internals/host-report-errors');\nvar newPromiseCapabilityModule = require('../internals/new-promise-capability');\nvar perform = require('../internals/perform');\nvar InternalStateModule = require('../internals/internal-state');\nvar isForced = require('../internals/is-forced');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IS_NODE = require('../internals/engine-is-node');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar SPECIES = wellKnownSymbol('species');\nvar PROMISE = 'Promise';\nvar getInternalState = InternalStateModule.get;\nvar setInternalState = InternalStateModule.set;\nvar getInternalPromiseState = InternalStateModule.getterFor(PROMISE);\nvar PromiseConstructor = NativePromise;\nvar TypeError = global.TypeError;\nvar document = global.document;\nvar process = global.process;\nvar $fetch = getBuiltIn('fetch');\nvar newPromiseCapability = newPromiseCapabilityModule.f;\nvar newGenericPromiseCapability = newPromiseCapability;\nvar DISPATCH_EVENT = !!(document && document.createEvent && global.dispatchEvent);\nvar NATIVE_REJECTION_EVENT = typeof PromiseRejectionEvent == 'function';\nvar UNHANDLED_REJECTION = 'unhandledrejection';\nvar REJECTION_HANDLED = 'rejectionhandled';\nvar PENDING = 0;\nvar FULFILLED = 1;\nvar REJECTED = 2;\nvar HANDLED = 1;\nvar UNHANDLED = 2;\nvar Internal, OwnPromiseCapability, PromiseWrapper, nativeThen;\n\nvar FORCED = isForced(PROMISE, function () {\n  var GLOBAL_CORE_JS_PROMISE = inspectSource(PromiseConstructor) !== String(PromiseConstructor);\n  if (!GLOBAL_CORE_JS_PROMISE) {\n    // V8 6.6 (Node 10 and Chrome 66) have a bug with resolving custom thenables\n    // https://bugs.chromium.org/p/chromium/issues/detail?id=830565\n    // We can't detect it synchronously, so just check versions\n    if (V8_VERSION === 66) return true;\n    // Unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n    if (!IS_NODE && !NATIVE_REJECTION_EVENT) return true;\n  }\n  // We need Promise#finally in the pure version for preventing prototype pollution\n  if (IS_PURE && !PromiseConstructor.prototype['finally']) return true;\n  // We can't use @@species feature detection in V8 since it causes\n  // deoptimization and performance degradation\n  // https://github.com/zloirock/core-js/issues/679\n  if (V8_VERSION >= 51 && /native code/.test(PromiseConstructor)) return false;\n  // Detect correctness of subclassing with @@species support\n  var promise = PromiseConstructor.resolve(1);\n  var FakePromise = function (exec) {\n    exec(function () { /* empty */ }, function () { /* empty */ });\n  };\n  var constructor = promise.constructor = {};\n  constructor[SPECIES] = FakePromise;\n  return !(promise.then(function () { /* empty */ }) instanceof FakePromise);\n});\n\nvar INCORRECT_ITERATION = FORCED || !checkCorrectnessOfIteration(function (iterable) {\n  PromiseConstructor.all(iterable)['catch'](function () { /* empty */ });\n});\n\n// helpers\nvar isThenable = function (it) {\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\n\nvar notify = function (state, isReject) {\n  if (state.notified) return;\n  state.notified = true;\n  var chain = state.reactions;\n  microtask(function () {\n    var value = state.value;\n    var ok = state.state == FULFILLED;\n    var index = 0;\n    // variable length - can't use forEach\n    while (chain.length > index) {\n      var reaction = chain[index++];\n      var handler = ok ? reaction.ok : reaction.fail;\n      var resolve = reaction.resolve;\n      var reject = reaction.reject;\n      var domain = reaction.domain;\n      var result, then, exited;\n      try {\n        if (handler) {\n          if (!ok) {\n            if (state.rejection === UNHANDLED) onHandleUnhandled(state);\n            state.rejection = HANDLED;\n          }\n          if (handler === true) result = value;\n          else {\n            if (domain) domain.enter();\n            result = handler(value); // can throw\n            if (domain) {\n              domain.exit();\n              exited = true;\n            }\n          }\n          if (result === reaction.promise) {\n            reject(TypeError('Promise-chain cycle'));\n          } else if (then = isThenable(result)) {\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch (error) {\n        if (domain && !exited) domain.exit();\n        reject(error);\n      }\n    }\n    state.reactions = [];\n    state.notified = false;\n    if (isReject && !state.rejection) onUnhandled(state);\n  });\n};\n\nvar dispatchEvent = function (name, promise, reason) {\n  var event, handler;\n  if (DISPATCH_EVENT) {\n    event = document.createEvent('Event');\n    event.promise = promise;\n    event.reason = reason;\n    event.initEvent(name, false, true);\n    global.dispatchEvent(event);\n  } else event = { promise: promise, reason: reason };\n  if (!NATIVE_REJECTION_EVENT && (handler = global['on' + name])) handler(event);\n  else if (name === UNHANDLED_REJECTION) hostReportErrors('Unhandled promise rejection', reason);\n};\n\nvar onUnhandled = function (state) {\n  task.call(global, function () {\n    var promise = state.facade;\n    var value = state.value;\n    var IS_UNHANDLED = isUnhandled(state);\n    var result;\n    if (IS_UNHANDLED) {\n      result = perform(function () {\n        if (IS_NODE) {\n          process.emit('unhandledRejection', value, promise);\n        } else dispatchEvent(UNHANDLED_REJECTION, promise, value);\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      state.rejection = IS_NODE || isUnhandled(state) ? UNHANDLED : HANDLED;\n      if (result.error) throw result.value;\n    }\n  });\n};\n\nvar isUnhandled = function (state) {\n  return state.rejection !== HANDLED && !state.parent;\n};\n\nvar onHandleUnhandled = function (state) {\n  task.call(global, function () {\n    var promise = state.facade;\n    if (IS_NODE) {\n      process.emit('rejectionHandled', promise);\n    } else dispatchEvent(REJECTION_HANDLED, promise, state.value);\n  });\n};\n\nvar bind = function (fn, state, unwrap) {\n  return function (value) {\n    fn(state, value, unwrap);\n  };\n};\n\nvar internalReject = function (state, value, unwrap) {\n  if (state.done) return;\n  state.done = true;\n  if (unwrap) state = unwrap;\n  state.value = value;\n  state.state = REJECTED;\n  notify(state, true);\n};\n\nvar internalResolve = function (state, value, unwrap) {\n  if (state.done) return;\n  state.done = true;\n  if (unwrap) state = unwrap;\n  try {\n    if (state.facade === value) throw TypeError(\"Promise can't be resolved itself\");\n    var then = isThenable(value);\n    if (then) {\n      microtask(function () {\n        var wrapper = { done: false };\n        try {\n          then.call(value,\n            bind(internalResolve, wrapper, state),\n            bind(internalReject, wrapper, state)\n          );\n        } catch (error) {\n          internalReject(wrapper, error, state);\n        }\n      });\n    } else {\n      state.value = value;\n      state.state = FULFILLED;\n      notify(state, false);\n    }\n  } catch (error) {\n    internalReject({ done: false }, error, state);\n  }\n};\n\n// constructor polyfill\nif (FORCED) {\n  // 25.4.3.1 Promise(executor)\n  PromiseConstructor = function Promise(executor) {\n    anInstance(this, PromiseConstructor, PROMISE);\n    aFunction(executor);\n    Internal.call(this);\n    var state = getInternalState(this);\n    try {\n      executor(bind(internalResolve, state), bind(internalReject, state));\n    } catch (error) {\n      internalReject(state, error);\n    }\n  };\n  // eslint-disable-next-line no-unused-vars\n  Internal = function Promise(executor) {\n    setInternalState(this, {\n      type: PROMISE,\n      done: false,\n      notified: false,\n      parent: false,\n      reactions: [],\n      rejection: false,\n      state: PENDING,\n      value: undefined\n    });\n  };\n  Internal.prototype = redefineAll(PromiseConstructor.prototype, {\n    // `Promise.prototype.then` method\n    // https://tc39.github.io/ecma262/#sec-promise.prototype.then\n    then: function then(onFulfilled, onRejected) {\n      var state = getInternalPromiseState(this);\n      var reaction = newPromiseCapability(speciesConstructor(this, PromiseConstructor));\n      reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail = typeof onRejected == 'function' && onRejected;\n      reaction.domain = IS_NODE ? process.domain : undefined;\n      state.parent = true;\n      state.reactions.push(reaction);\n      if (state.state != PENDING) notify(state, false);\n      return reaction.promise;\n    },\n    // `Promise.prototype.catch` method\n    // https://tc39.github.io/ecma262/#sec-promise.prototype.catch\n    'catch': function (onRejected) {\n      return this.then(undefined, onRejected);\n    }\n  });\n  OwnPromiseCapability = function () {\n    var promise = new Internal();\n    var state = getInternalState(promise);\n    this.promise = promise;\n    this.resolve = bind(internalResolve, state);\n    this.reject = bind(internalReject, state);\n  };\n  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {\n    return C === PromiseConstructor || C === PromiseWrapper\n      ? new OwnPromiseCapability(C)\n      : newGenericPromiseCapability(C);\n  };\n\n  if (!IS_PURE && typeof NativePromise == 'function') {\n    nativeThen = NativePromise.prototype.then;\n\n    // wrap native Promise#then for native async functions\n    redefine(NativePromise.prototype, 'then', function then(onFulfilled, onRejected) {\n      var that = this;\n      return new PromiseConstructor(function (resolve, reject) {\n        nativeThen.call(that, resolve, reject);\n      }).then(onFulfilled, onRejected);\n    // https://github.com/zloirock/core-js/issues/640\n    }, { unsafe: true });\n\n    // wrap fetch result\n    if (typeof $fetch == 'function') $({ global: true, enumerable: true, forced: true }, {\n      // eslint-disable-next-line no-unused-vars\n      fetch: function fetch(input /* , init */) {\n        return promiseResolve(PromiseConstructor, $fetch.apply(global, arguments));\n      }\n    });\n  }\n}\n\n$({ global: true, wrap: true, forced: FORCED }, {\n  Promise: PromiseConstructor\n});\n\nsetToStringTag(PromiseConstructor, PROMISE, false, true);\nsetSpecies(PROMISE);\n\nPromiseWrapper = getBuiltIn(PROMISE);\n\n// statics\n$({ target: PROMISE, stat: true, forced: FORCED }, {\n  // `Promise.reject` method\n  // https://tc39.github.io/ecma262/#sec-promise.reject\n  reject: function reject(r) {\n    var capability = newPromiseCapability(this);\n    capability.reject.call(undefined, r);\n    return capability.promise;\n  }\n});\n\n$({ target: PROMISE, stat: true, forced: IS_PURE || FORCED }, {\n  // `Promise.resolve` method\n  // https://tc39.github.io/ecma262/#sec-promise.resolve\n  resolve: function resolve(x) {\n    return promiseResolve(IS_PURE && this === PromiseWrapper ? PromiseConstructor : this, x);\n  }\n});\n\n$({ target: PROMISE, stat: true, forced: INCORRECT_ITERATION }, {\n  // `Promise.all` method\n  // https://tc39.github.io/ecma262/#sec-promise.all\n  all: function all(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var $promiseResolve = aFunction(C.resolve);\n      var values = [];\n      var counter = 0;\n      var remaining = 1;\n      iterate(iterable, function (promise) {\n        var index = counter++;\n        var alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        $promiseResolve.call(C, promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if (result.error) reject(result.value);\n    return capability.promise;\n  },\n  // `Promise.race` method\n  // https://tc39.github.io/ecma262/#sec-promise.race\n  race: function race(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var reject = capability.reject;\n    var result = perform(function () {\n      var $promiseResolve = aFunction(C.resolve);\n      iterate(iterable, function (promise) {\n        $promiseResolve.call(C, promise).then(capability.resolve, reject);\n      });\n    });\n    if (result.error) reject(result.value);\n    return capability.promise;\n  }\n});\n","'use strict';\nvar TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar classof = require('../internals/classof');\n\n// `Object.prototype.toString` method implementation\n// https://tc39.github.io/ecma262/#sec-object.prototype.tostring\nmodule.exports = TO_STRING_TAG_SUPPORT ? {}.toString : function toString() {\n  return '[object ' + classof(this) + ']';\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var called = 0;\n  var iteratorWithReturn = {\n    next: function () {\n      return { done: !!called++ };\n    },\n    'return': function () {\n      SAFE_CLOSING = true;\n    }\n  };\n  iteratorWithReturn[ITERATOR] = function () {\n    return this;\n  };\n  // eslint-disable-next-line no-throw-literal\n  Array.from(iteratorWithReturn, function () { throw 2; });\n} catch (error) { /* empty */ }\n\nmodule.exports = function (exec, SKIP_CLOSING) {\n  if (!SKIP_CLOSING && !SAFE_CLOSING) return false;\n  var ITERATION_SUPPORT = false;\n  try {\n    var object = {};\n    object[ITERATOR] = function () {\n      return {\n        next: function () {\n          return { done: ITERATION_SUPPORT = true };\n        }\n      };\n    };\n    exec(object);\n  } catch (error) { /* empty */ }\n  return ITERATION_SUPPORT;\n};\n","var global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar macrotask = require('../internals/task').set;\nvar IS_IOS = require('../internals/engine-is-ios');\nvar IS_NODE = require('../internals/engine-is-node');\n\nvar MutationObserver = global.MutationObserver || global.WebKitMutationObserver;\nvar document = global.document;\nvar process = global.process;\nvar Promise = global.Promise;\n// Node.js 11 shows ExperimentalWarning on getting `queueMicrotask`\nvar queueMicrotaskDescriptor = getOwnPropertyDescriptor(global, 'queueMicrotask');\nvar queueMicrotask = queueMicrotaskDescriptor && queueMicrotaskDescriptor.value;\n\nvar flush, head, last, notify, toggle, node, promise, then;\n\n// modern engines have queueMicrotask method\nif (!queueMicrotask) {\n  flush = function () {\n    var parent, fn;\n    if (IS_NODE && (parent = process.domain)) parent.exit();\n    while (head) {\n      fn = head.fn;\n      head = head.next;\n      try {\n        fn();\n      } catch (error) {\n        if (head) notify();\n        else last = undefined;\n        throw error;\n      }\n    } last = undefined;\n    if (parent) parent.enter();\n  };\n\n  // browsers with MutationObserver, except iOS - https://github.com/zloirock/core-js/issues/339\n  if (!IS_IOS && !IS_NODE && MutationObserver && document) {\n    toggle = true;\n    node = document.createTextNode('');\n    new MutationObserver(flush).observe(node, { characterData: true });\n    notify = function () {\n      node.data = toggle = !toggle;\n    };\n  // environments with maybe non-completely correct, but existent Promise\n  } else if (Promise && Promise.resolve) {\n    // Promise.resolve without an argument throws an error in LG WebOS 2\n    promise = Promise.resolve(undefined);\n    then = promise.then;\n    notify = function () {\n      then.call(promise, flush);\n    };\n  // Node.js without promises\n  } else if (IS_NODE) {\n    notify = function () {\n      process.nextTick(flush);\n    };\n  // for other environments - macrotask based on:\n  // - setImmediate\n  // - MessageChannel\n  // - window.postMessag\n  // - onreadystatechange\n  // - setTimeout\n  } else {\n    notify = function () {\n      // strange IE + webpack dev server bug - use .call(global)\n      macrotask.call(global, flush);\n    };\n  }\n}\n\nmodule.exports = queueMicrotask || function (fn) {\n  var task = { fn: fn, next: undefined };\n  if (last) last.next = task;\n  if (!head) {\n    head = task;\n    notify();\n  } last = task;\n};\n","var global = require('../internals/global');\n\nmodule.exports = function (a, b) {\n  var console = global.console;\n  if (console && console.error) {\n    arguments.length === 1 ? console.error(a) : console.error(a, b);\n  }\n};\n","var global = require('../internals/global');\nvar inspectSource = require('../internals/inspect-source');\n\nvar WeakMap = global.WeakMap;\n\nmodule.exports = typeof WeakMap === 'function' && /native code/.test(inspectSource(WeakMap));\n","'use strict';\nvar $ = require('../internals/export');\nvar aFunction = require('../internals/a-function');\nvar newPromiseCapabilityModule = require('../internals/new-promise-capability');\nvar perform = require('../internals/perform');\nvar iterate = require('../internals/iterate');\n\n// `Promise.allSettled` method\n// https://github.com/tc39/proposal-promise-allSettled\n$({ target: 'Promise', stat: true }, {\n  allSettled: function allSettled(iterable) {\n    var C = this;\n    var capability = newPromiseCapabilityModule.f(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var promiseResolve = aFunction(C.resolve);\n      var values = [];\n      var counter = 0;\n      var remaining = 1;\n      iterate(iterable, function (promise) {\n        var index = counter++;\n        var alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        promiseResolve.call(C, promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[index] = { status: 'fulfilled', value: value };\n          --remaining || resolve(values);\n        }, function (error) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[index] = { status: 'rejected', reason: error };\n          --remaining || resolve(values);\n        });\n      });\n      --remaining || resolve(values);\n    });\n    if (result.error) reject(result.value);\n    return capability.promise;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar aFunction = require('../internals/a-function');\nvar getBuiltIn = require('../internals/get-built-in');\nvar newPromiseCapabilityModule = require('../internals/new-promise-capability');\nvar perform = require('../internals/perform');\nvar iterate = require('../internals/iterate');\n\nvar PROMISE_ANY_ERROR = 'No one promise resolved';\n\n// `Promise.any` method\n// https://github.com/tc39/proposal-promise-any\n$({ target: 'Promise', stat: true }, {\n  any: function any(iterable) {\n    var C = this;\n    var capability = newPromiseCapabilityModule.f(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var promiseResolve = aFunction(C.resolve);\n      var errors = [];\n      var counter = 0;\n      var remaining = 1;\n      var alreadyResolved = false;\n      iterate(iterable, function (promise) {\n        var index = counter++;\n        var alreadyRejected = false;\n        errors.push(undefined);\n        remaining++;\n        promiseResolve.call(C, promise).then(function (value) {\n          if (alreadyRejected || alreadyResolved) return;\n          alreadyResolved = true;\n          resolve(value);\n        }, function (error) {\n          if (alreadyRejected || alreadyResolved) return;\n          alreadyRejected = true;\n          errors[index] = error;\n          --remaining || reject(new (getBuiltIn('AggregateError'))(errors, PROMISE_ANY_ERROR));\n        });\n      });\n      --remaining || reject(new (getBuiltIn('AggregateError'))(errors, PROMISE_ANY_ERROR));\n    });\n    if (result.error) reject(result.value);\n    return capability.promise;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar IS_PURE = require('../internals/is-pure');\nvar NativePromise = require('../internals/native-promise-constructor');\nvar fails = require('../internals/fails');\nvar getBuiltIn = require('../internals/get-built-in');\nvar speciesConstructor = require('../internals/species-constructor');\nvar promiseResolve = require('../internals/promise-resolve');\nvar redefine = require('../internals/redefine');\n\n// Safari bug https://bugs.webkit.org/show_bug.cgi?id=200829\nvar NON_GENERIC = !!NativePromise && fails(function () {\n  NativePromise.prototype['finally'].call({ then: function () { /* empty */ } }, function () { /* empty */ });\n});\n\n// `Promise.prototype.finally` method\n// https://tc39.github.io/ecma262/#sec-promise.prototype.finally\n$({ target: 'Promise', proto: true, real: true, forced: NON_GENERIC }, {\n  'finally': function (onFinally) {\n    var C = speciesConstructor(this, getBuiltIn('Promise'));\n    var isFunction = typeof onFinally == 'function';\n    return this.then(\n      isFunction ? function (x) {\n        return promiseResolve(C, onFinally()).then(function () { return x; });\n      } : onFinally,\n      isFunction ? function (e) {\n        return promiseResolve(C, onFinally()).then(function () { throw e; });\n      } : onFinally\n    );\n  }\n});\n\n// patch native Promise.prototype for native async functions\nif (!IS_PURE && typeof NativePromise == 'function' && !NativePromise.prototype['finally']) {\n  redefine(NativePromise.prototype, 'finally', getBuiltIn('Promise').prototype['finally']);\n}\n","var toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `String.prototype.{ codePointAt, at }` methods implementation\nvar createMethod = function (CONVERT_TO_STRING) {\n  return function ($this, pos) {\n    var S = String(requireObjectCoercible($this));\n    var position = toInteger(pos);\n    var size = S.length;\n    var first, second;\n    if (position < 0 || position >= size) return CONVERT_TO_STRING ? '' : undefined;\n    first = S.charCodeAt(position);\n    return first < 0xD800 || first > 0xDBFF || position + 1 === size\n      || (second = S.charCodeAt(position + 1)) < 0xDC00 || second > 0xDFFF\n        ? CONVERT_TO_STRING ? S.charAt(position) : first\n        : CONVERT_TO_STRING ? S.slice(position, position + 2) : (first - 0xD800 << 10) + (second - 0xDC00) + 0x10000;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.codePointAt` method\n  // https://tc39.github.io/ecma262/#sec-string.prototype.codepointat\n  codeAt: createMethod(false),\n  // `String.prototype.at` method\n  // https://github.com/mathiasbynens/String.prototype.at\n  charAt: createMethod(true)\n};\n","'use strict';\nvar IteratorPrototype = require('../internals/iterators-core').IteratorPrototype;\nvar create = require('../internals/object-create');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar Iterators = require('../internals/iterators');\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (IteratorConstructor, NAME, next) {\n  var TO_STRING_TAG = NAME + ' Iterator';\n  IteratorConstructor.prototype = create(IteratorPrototype, { next: createPropertyDescriptor(1, next) });\n  setToStringTag(IteratorConstructor, TO_STRING_TAG, false, true);\n  Iterators[TO_STRING_TAG] = returnThis;\n  return IteratorConstructor;\n};\n","'use strict';\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar Iterators = require('../internals/iterators');\nvar InternalStateModule = require('../internals/internal-state');\nvar defineIterator = require('../internals/define-iterator');\n\nvar ARRAY_ITERATOR = 'Array Iterator';\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(ARRAY_ITERATOR);\n\n// `Array.prototype.entries` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.entries\n// `Array.prototype.keys` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.keys\n// `Array.prototype.values` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.values\n// `Array.prototype[@@iterator]` method\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@iterator\n// `CreateArrayIterator` internal method\n// https://tc39.github.io/ecma262/#sec-createarrayiterator\nmodule.exports = defineIterator(Array, 'Array', function (iterated, kind) {\n  setInternalState(this, {\n    type: ARRAY_ITERATOR,\n    target: toIndexedObject(iterated), // target\n    index: 0,                          // next index\n    kind: kind                         // kind\n  });\n// `%ArrayIteratorPrototype%.next` method\n// https://tc39.github.io/ecma262/#sec-%arrayiteratorprototype%.next\n}, function () {\n  var state = getInternalState(this);\n  var target = state.target;\n  var kind = state.kind;\n  var index = state.index++;\n  if (!target || index >= target.length) {\n    state.target = undefined;\n    return { value: undefined, done: true };\n  }\n  if (kind == 'keys') return { value: index, done: false };\n  if (kind == 'values') return { value: target[index], done: false };\n  return { value: [index, target[index]], done: false };\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values%\n// https://tc39.github.io/ecma262/#sec-createunmappedargumentsobject\n// https://tc39.github.io/ecma262/#sec-createmappedargumentsobject\nIterators.Arguments = Iterators.Array;\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n","// iterable DOM collections\n// flag - `iterable` interface - 'entries', 'keys', 'values', 'forEach' methods\nmodule.exports = {\n  CSSRuleList: 0,\n  CSSStyleDeclaration: 0,\n  CSSValueList: 0,\n  ClientRectList: 0,\n  DOMRectList: 0,\n  DOMStringList: 0,\n  DOMTokenList: 1,\n  DataTransferItemList: 0,\n  FileList: 0,\n  HTMLAllCollection: 0,\n  HTMLCollection: 0,\n  HTMLFormElement: 0,\n  HTMLSelectElement: 0,\n  MediaList: 0,\n  MimeTypeArray: 0,\n  NamedNodeMap: 0,\n  NodeList: 1,\n  PaintRequestList: 0,\n  Plugin: 0,\n  PluginArray: 0,\n  SVGLengthList: 0,\n  SVGNumberList: 0,\n  SVGPathSegList: 0,\n  SVGPointList: 0,\n  SVGStringList: 0,\n  SVGTransformList: 0,\n  SourceBufferList: 0,\n  StyleSheetList: 0,\n  TextTrackCueList: 0,\n  TextTrackList: 0,\n  TouchList: 0\n};\n","/**\n * @description 编辑器 class\n * @author wangfupeng\n */\n\nimport $, { DomElement, DomElementSelector } from '../utils/dom-core'\nimport { deepClone } from '../utils/util'\nimport defaultConfig, { ConfigType } from '../config'\nimport SelectionAndRangeAPI from './selection'\nimport CommandAPI from './command'\nimport Text from '../text/index'\nimport Menus from '../menus/index'\nimport initDom from './init-fns/init-dom'\nimport initSelection from './init-fns/init-selection'\nimport bindEvent from './init-fns/bind-event'\nimport i18nextInit from './init-fns/i18next-init'\nimport initFullScreen, { setUnFullScreen, setFullScreen } from './init-fns/set-full-screen'\nimport scrollToHead from './init-fns/scroll-to-head'\nimport ZIndex from './z-index'\nimport Change from './change/index'\nimport History from './history/index'\nimport disableInit from './disable'\n\n// 创建菜单的 class\nimport BtnMenu from '../menus/menu-constructors/BtnMenu'\nimport DropList from '../menus/menu-constructors/DropList'\nimport DropListMenu from '../menus/menu-constructors/DropListMenu'\nimport Panel from '../menus/menu-constructors/Panel'\nimport PanelMenu from '../menus/menu-constructors/PanelMenu'\nimport Tooltip from '../menus/menu-constructors/Tooltip'\n\nlet EDITOR_ID = 1\n\nclass Editor {\n    // 暴露 $\n    static $ = $\n\n    static BtnMenu = BtnMenu\n    static DropList = DropList\n    static DropListMenu = DropListMenu\n    static Panel = Panel\n    static PanelMenu = PanelMenu\n    static Tooltip = Tooltip\n\n    public id: string\n    public toolbarSelector: DomElementSelector\n    public textSelector?: DomElementSelector\n    public config: ConfigType\n    public $toolbarElem: DomElement\n    public $textContainerElem: DomElement\n    public $textElem: DomElement\n    public toolbarElemId: string\n    public textElemId: string\n    public isFocus: boolean\n    public isComposing: boolean\n    public isCompatibleMode: boolean\n    public selection: SelectionAndRangeAPI\n    public cmd: CommandAPI\n    public txt: Text\n    public menus: Menus\n    public i18next: any\n    public highlight: any\n    public zIndex: ZIndex\n    public change: Change\n    public history: History\n\n    // 实例销毁前需要执行的钩子集合\n    private beforeDestroyHooks: Function[] = []\n\n    /** 禁用api */\n    public disable: Function\n\n    /** 启用api */\n    public enable: Function\n\n    /**\n     * 构造函数\n     * @param toolbarSelector 工具栏 DOM selector\n     * @param textSelector 文本区域 DOM selector\n     */\n    constructor(toolbarSelector: DomElementSelector, textSelector?: DomElementSelector) {\n        // id，用以区分单个页面不同的编辑器对象\n        this.id = `wangEditor-${EDITOR_ID++}`\n\n        this.toolbarSelector = toolbarSelector\n        this.textSelector = textSelector\n\n        if (toolbarSelector == null) {\n            throw new Error('错误：初始化编辑器时候未传入任何参数，请查阅文档')\n        }\n\n        // 属性的默认值，后面可能会再修改\n        // 默认配置 - 当一个页面有多个编辑器的时候，因为 JS 的特性(引用类型)会导致多个编辑器的 config 引用是同一个，所以需要 深度克隆 断掉引用\n        this.config = deepClone(defaultConfig)\n        this.$toolbarElem = $('<div></div>')\n        this.$textContainerElem = $('<div></div>')\n        this.$textElem = $('<div></div>')\n        this.toolbarElemId = ''\n        this.textElemId = ''\n        this.isFocus = false\n        this.isComposing = false\n        this.isCompatibleMode = false\n\n        this.selection = new SelectionAndRangeAPI(this)\n        this.cmd = new CommandAPI(this)\n        this.txt = new Text(this)\n        this.menus = new Menus(this)\n        this.zIndex = new ZIndex()\n        this.change = new Change(this)\n        this.history = new History(this)\n\n        const { disable, enable } = disableInit(this)\n        this.disable = disable\n        this.enable = enable\n    }\n\n    /**\n     * 初始化选区\n     * @param newLine 新建一行\n     */\n    public initSelection(newLine?: boolean): void {\n        initSelection(this, newLine)\n    }\n\n    /**\n     * 创建编辑器实例\n     */\n    public create(): void {\n        // 初始化 ZIndex\n        this.zIndex.init(this)\n\n        // 确定当前的历史记录模式\n        this.isCompatibleMode = this.config.compatibleMode()\n\n        // 标准模式下，重置延迟时间\n        if (!this.isCompatibleMode) {\n            this.config.onchangeTimeout = 30\n        }\n\n        // 国际化 因为要在创建菜单前使用 所以要最先 初始化\n        i18nextInit(this)\n\n        // 初始化 DOM\n        initDom(this)\n\n        // 初始化 text\n        this.txt.init()\n\n        // 初始化菜单\n        this.menus.init()\n\n        // 初始化全屏功能\n        initFullScreen(this)\n\n        // 初始化选区，将光标定位到内容尾部\n        this.initSelection(true)\n\n        // 绑定事件\n        bindEvent(this)\n\n        // 绑定监听的目标节点\n        this.change.observe()\n\n        this.history.observe()\n    }\n\n    /**\n     * 提供给用户添加销毁前的钩子函数\n     * @param fn 钩子函数\n     */\n    public beforeDestroy(fn: Function): Editor {\n        this.beforeDestroyHooks.push(fn)\n        return this\n    }\n\n    /**\n     * 销毁当前编辑器实例\n     */\n    public destroy(): void {\n        // 调用钩子函数\n        this.beforeDestroyHooks.forEach(fn => fn.call(this))\n\n        // 销毁 DOM 节点\n        this.$toolbarElem.remove()\n        this.$textContainerElem.remove()\n    }\n\n    /**\n     * 将编辑器设置为全屏\n     */\n    public fullScreen(): void {\n        setFullScreen(this)\n    }\n\n    /**\n     * 将编辑器退出全屏\n     */\n    public unFullScreen(): void {\n        setUnFullScreen(this)\n    }\n\n    /**\n     * 滚动到指定标题锚点\n     * @param id 标题锚点id\n     */\n    public scrollToHead(id: string): void {\n        scrollToHead(this, id)\n    }\n}\n\nexport default Editor\n","require('../../modules/web.dom-collections.iterator');\nvar forEach = require('../array/virtual/for-each');\nvar classof = require('../../internals/classof');\nvar ArrayPrototype = Array.prototype;\n\nvar DOMIterables = {\n  DOMTokenList: true,\n  NodeList: true\n};\n\nmodule.exports = function (it) {\n  var own = it.forEach;\n  return it === ArrayPrototype || (it instanceof Array && own === ArrayPrototype.forEach)\n    // eslint-disable-next-line no-prototype-builtins\n    || DOMIterables.hasOwnProperty(classof(it)) ? forEach : own;\n};\n","var parent = require('../../../es/array/virtual/for-each');\n\nmodule.exports = parent;\n","require('../../../modules/es.array.for-each');\nvar entryVirtual = require('../../../internals/entry-virtual');\n\nmodule.exports = entryVirtual('Array').forEach;\n","'use strict';\nvar $ = require('../internals/export');\nvar forEach = require('../internals/array-for-each');\n\n// `Array.prototype.forEach` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.foreach\n$({ target: 'Array', proto: true, forced: [].forEach != forEach }, {\n  forEach: forEach\n});\n","'use strict';\nvar $forEach = require('../internals/array-iteration').forEach;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar STRICT_METHOD = arrayMethodIsStrict('forEach');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('forEach');\n\n// `Array.prototype.forEach` method implementation\n// https://tc39.github.io/ecma262/#sec-array.prototype.foreach\nmodule.exports = (!STRICT_METHOD || !USES_TO_LENGTH) ? function forEach(callbackfn /* , thisArg */) {\n  return $forEach(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n} : [].forEach;\n","var parent = require('../../es/instance/bind');\n\nmodule.exports = parent;\n","var bind = require('../function/virtual/bind');\n\nvar FunctionPrototype = Function.prototype;\n\nmodule.exports = function (it) {\n  var own = it.bind;\n  return it === FunctionPrototype || (it instanceof Function && own === FunctionPrototype.bind) ? bind : own;\n};\n","require('../../../modules/es.function.bind');\nvar entryVirtual = require('../../../internals/entry-virtual');\n\nmodule.exports = entryVirtual('Function').bind;\n","var $ = require('../internals/export');\nvar bind = require('../internals/function-bind');\n\n// `Function.prototype.bind` method\n// https://tc39.github.io/ecma262/#sec-function.prototype.bind\n$({ target: 'Function', proto: true }, {\n  bind: bind\n});\n","'use strict';\nvar aFunction = require('../internals/a-function');\nvar isObject = require('../internals/is-object');\n\nvar slice = [].slice;\nvar factories = {};\n\nvar construct = function (C, argsLength, args) {\n  if (!(argsLength in factories)) {\n    for (var list = [], i = 0; i < argsLength; i++) list[i] = 'a[' + i + ']';\n    // eslint-disable-next-line no-new-func\n    factories[argsLength] = Function('C,a', 'return new C(' + list.join(',') + ')');\n  } return factories[argsLength](C, args);\n};\n\n// `Function.prototype.bind` method implementation\n// https://tc39.github.io/ecma262/#sec-function.prototype.bind\nmodule.exports = Function.bind || function bind(that /* , ...args */) {\n  var fn = aFunction(this);\n  var partArgs = slice.call(arguments, 1);\n  var boundFunction = function bound(/* args... */) {\n    var args = partArgs.concat(slice.call(arguments));\n    return this instanceof boundFunction ? construct(fn, args.length, args) : fn.apply(that, args);\n  };\n  if (isObject(fn.prototype)) boundFunction.prototype = fn.prototype;\n  return boundFunction;\n};\n","var parent = require('../../es/instance/includes');\n\nmodule.exports = parent;\n","var arrayIncludes = require('../array/virtual/includes');\nvar stringIncludes = require('../string/virtual/includes');\n\nvar ArrayPrototype = Array.prototype;\nvar StringPrototype = String.prototype;\n\nmodule.exports = function (it) {\n  var own = it.includes;\n  if (it === ArrayPrototype || (it instanceof Array && own === ArrayPrototype.includes)) return arrayIncludes;\n  if (typeof it === 'string' || it === StringPrototype || (it instanceof String && own === StringPrototype.includes)) {\n    return stringIncludes;\n  } return own;\n};\n","require('../../../modules/es.array.includes');\nvar entryVirtual = require('../../../internals/entry-virtual');\n\nmodule.exports = entryVirtual('Array').includes;\n","'use strict';\nvar $ = require('../internals/export');\nvar $includes = require('../internals/array-includes').includes;\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar USES_TO_LENGTH = arrayMethodUsesToLength('indexOf', { ACCESSORS: true, 1: 0 });\n\n// `Array.prototype.includes` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.includes\n$({ target: 'Array', proto: true, forced: !USES_TO_LENGTH }, {\n  includes: function includes(el /* , fromIndex = 0 */) {\n    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('includes');\n","require('../../../modules/es.string.includes');\nvar entryVirtual = require('../../../internals/entry-virtual');\n\nmodule.exports = entryVirtual('String').includes;\n","'use strict';\nvar $ = require('../internals/export');\nvar notARegExp = require('../internals/not-a-regexp');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar correctIsRegExpLogic = require('../internals/correct-is-regexp-logic');\n\n// `String.prototype.includes` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.includes\n$({ target: 'String', proto: true, forced: !correctIsRegExpLogic('includes') }, {\n  includes: function includes(searchString /* , position = 0 */) {\n    return !!~String(requireObjectCoercible(this))\n      .indexOf(notARegExp(searchString), arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var isRegExp = require('../internals/is-regexp');\n\nmodule.exports = function (it) {\n  if (isRegExp(it)) {\n    throw TypeError(\"The method doesn't accept regular expressions\");\n  } return it;\n};\n","var isObject = require('../internals/is-object');\nvar classof = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\n// `IsRegExp` abstract operation\n// https://tc39.github.io/ecma262/#sec-isregexp\nmodule.exports = function (it) {\n  var isRegExp;\n  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : classof(it) == 'RegExp');\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\nmodule.exports = function (METHOD_NAME) {\n  var regexp = /./;\n  try {\n    '/./'[METHOD_NAME](regexp);\n  } catch (error1) {\n    try {\n      regexp[MATCH] = false;\n      return '/./'[METHOD_NAME](regexp);\n    } catch (error2) { /* empty */ }\n  } return false;\n};\n","var parent = require('../../es/instance/filter');\n\nmodule.exports = parent;\n","var filter = require('../array/virtual/filter');\n\nvar ArrayPrototype = Array.prototype;\n\nmodule.exports = function (it) {\n  var own = it.filter;\n  return it === ArrayPrototype || (it instanceof Array && own === ArrayPrototype.filter) ? filter : own;\n};\n","require('../../../modules/es.array.filter');\nvar entryVirtual = require('../../../internals/entry-virtual');\n\nmodule.exports = entryVirtual('Array').filter;\n","'use strict';\nvar $ = require('../internals/export');\nvar $filter = require('../internals/array-iteration').filter;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('filter');\n// Edge 14- issue\nvar USES_TO_LENGTH = arrayMethodUsesToLength('filter');\n\n// `Array.prototype.filter` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.filter\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  filter: function filter(callbackfn /* , thisArg */) {\n    return $filter(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var parent = require('../../es/instance/splice');\n\nmodule.exports = parent;\n","var splice = require('../array/virtual/splice');\n\nvar ArrayPrototype = Array.prototype;\n\nmodule.exports = function (it) {\n  var own = it.splice;\n  return it === ArrayPrototype || (it instanceof Array && own === ArrayPrototype.splice) ? splice : own;\n};\n","require('../../../modules/es.array.splice');\nvar entryVirtual = require('../../../internals/entry-virtual');\n\nmodule.exports = entryVirtual('Array').splice;\n","'use strict';\nvar $ = require('../internals/export');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toInteger = require('../internals/to-integer');\nvar toLength = require('../internals/to-length');\nvar toObject = require('../internals/to-object');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar createProperty = require('../internals/create-property');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('splice');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('splice', { ACCESSORS: true, 0: 0, 1: 2 });\n\nvar max = Math.max;\nvar min = Math.min;\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_LENGTH_EXCEEDED = 'Maximum allowed length exceeded';\n\n// `Array.prototype.splice` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.splice\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  splice: function splice(start, deleteCount /* , ...items */) {\n    var O = toObject(this);\n    var len = toLength(O.length);\n    var actualStart = toAbsoluteIndex(start, len);\n    var argumentsLength = arguments.length;\n    var insertCount, actualDeleteCount, A, k, from, to;\n    if (argumentsLength === 0) {\n      insertCount = actualDeleteCount = 0;\n    } else if (argumentsLength === 1) {\n      insertCount = 0;\n      actualDeleteCount = len - actualStart;\n    } else {\n      insertCount = argumentsLength - 2;\n      actualDeleteCount = min(max(toInteger(deleteCount), 0), len - actualStart);\n    }\n    if (len + insertCount - actualDeleteCount > MAX_SAFE_INTEGER) {\n      throw TypeError(MAXIMUM_ALLOWED_LENGTH_EXCEEDED);\n    }\n    A = arraySpeciesCreate(O, actualDeleteCount);\n    for (k = 0; k < actualDeleteCount; k++) {\n      from = actualStart + k;\n      if (from in O) createProperty(A, k, O[from]);\n    }\n    A.length = actualDeleteCount;\n    if (insertCount < actualDeleteCount) {\n      for (k = actualStart; k < len - actualDeleteCount; k++) {\n        from = k + actualDeleteCount;\n        to = k + insertCount;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n      for (k = len; k > len - actualDeleteCount + insertCount; k--) delete O[k - 1];\n    } else if (insertCount > actualDeleteCount) {\n      for (k = len - actualDeleteCount; k > actualStart; k--) {\n        from = k + actualDeleteCount - 1;\n        to = k + insertCount - 1;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n    }\n    for (k = 0; k < insertCount; k++) {\n      O[k + actualStart] = arguments[k + 2];\n    }\n    O.length = len - actualDeleteCount + insertCount;\n    return A;\n  }\n});\n","var parent = require('../../es/instance/index-of');\n\nmodule.exports = parent;\n","var indexOf = require('../array/virtual/index-of');\n\nvar ArrayPrototype = Array.prototype;\n\nmodule.exports = function (it) {\n  var own = it.indexOf;\n  return it === ArrayPrototype || (it instanceof Array && own === ArrayPrototype.indexOf) ? indexOf : own;\n};\n","require('../../../modules/es.array.index-of');\nvar entryVirtual = require('../../../internals/entry-virtual');\n\nmodule.exports = entryVirtual('Array').indexOf;\n","'use strict';\nvar $ = require('../internals/export');\nvar $indexOf = require('../internals/array-includes').indexOf;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar nativeIndexOf = [].indexOf;\n\nvar NEGATIVE_ZERO = !!nativeIndexOf && 1 / [1].indexOf(1, -0) < 0;\nvar STRICT_METHOD = arrayMethodIsStrict('indexOf');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('indexOf', { ACCESSORS: true, 1: 0 });\n\n// `Array.prototype.indexOf` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.indexof\n$({ target: 'Array', proto: true, forced: NEGATIVE_ZERO || !STRICT_METHOD || !USES_TO_LENGTH }, {\n  indexOf: function indexOf(searchElement /* , fromIndex = 0 */) {\n    return NEGATIVE_ZERO\n      // convert -0 to +0\n      ? nativeIndexOf.apply(this, arguments) || 0\n      : $indexOf(this, searchElement, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var parent = require('../../es/map');\n\nmodule.exports = parent;\n","require('../../modules/es.map');\nrequire('../../modules/es.object.to-string');\nrequire('../../modules/es.string.iterator');\nrequire('../../modules/web.dom-collections.iterator');\nvar path = require('../../internals/path');\n\nmodule.exports = path.Map;\n","'use strict';\nvar collection = require('../internals/collection');\nvar collectionStrong = require('../internals/collection-strong');\n\n// `Map` constructor\n// https://tc39.github.io/ecma262/#sec-map-objects\nmodule.exports = collection('Map', function (init) {\n  return function Map() { return init(this, arguments.length ? arguments[0] : undefined); };\n}, collectionStrong);\n","var fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  return Object.isExtensible(Object.preventExtensions({}));\n});\n","var parent = require('../../es/instance/trim');\n\nmodule.exports = parent;\n","var trim = require('../string/virtual/trim');\n\nvar StringPrototype = String.prototype;\n\nmodule.exports = function (it) {\n  var own = it.trim;\n  return typeof it === 'string' || it === StringPrototype\n    || (it instanceof String && own === StringPrototype.trim) ? trim : own;\n};\n","require('../../../modules/es.string.trim');\nvar entryVirtual = require('../../../internals/entry-virtual');\n\nmodule.exports = entryVirtual('String').trim;\n","'use strict';\nvar $ = require('../internals/export');\nvar $trim = require('../internals/string-trim').trim;\nvar forcedStringTrimMethod = require('../internals/string-trim-forced');\n\n// `String.prototype.trim` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.trim\n$({ target: 'String', proto: true, forced: forcedStringTrimMethod('trim') }, {\n  trim: function trim() {\n    return $trim(this);\n  }\n});\n","var fails = require('../internals/fails');\nvar whitespaces = require('../internals/whitespaces');\n\nvar non = '\\u200B\\u0085\\u180E';\n\n// check that a method works with the correct list\n// of whitespaces and has a correct name\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    return !!whitespaces[METHOD_NAME]() || non[METHOD_NAME]() != non || whitespaces[METHOD_NAME].name !== METHOD_NAME;\n  });\n};\n","var parent = require('../../es/instance/map');\n\nmodule.exports = parent;\n","var map = require('../array/virtual/map');\n\nvar ArrayPrototype = Array.prototype;\n\nmodule.exports = function (it) {\n  var own = it.map;\n  return it === ArrayPrototype || (it instanceof Array && own === ArrayPrototype.map) ? map : own;\n};\n","require('../../../modules/es.array.map');\nvar entryVirtual = require('../../../internals/entry-virtual');\n\nmodule.exports = entryVirtual('Array').map;\n","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n// FF49- issue\nvar USES_TO_LENGTH = arrayMethodUsesToLength('map');\n\n// `Array.prototype.map` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var parent = require('../../es/array/is-array');\n\nmodule.exports = parent;\n","require('../../modules/es.array.is-array');\nvar path = require('../../internals/path');\n\nmodule.exports = path.Array.isArray;\n","var $ = require('../internals/export');\nvar isArray = require('../internals/is-array');\n\n// `Array.isArray` method\n// https://tc39.github.io/ecma262/#sec-array.isarray\n$({ target: 'Array', stat: true }, {\n  isArray: isArray\n});\n","module.exports = require(\"core-js-pure/features/symbol/iterator\");","var parent = require('../../es/symbol/iterator');\n\nmodule.exports = parent;\n","require('../../modules/es.symbol.iterator');\nrequire('../../modules/es.string.iterator');\nrequire('../../modules/web.dom-collections.iterator');\nvar WrappedWellKnownSymbolModule = require('../../internals/well-known-symbol-wrapped');\n\nmodule.exports = WrappedWellKnownSymbolModule.f('iterator');\n","module.exports = require(\"core-js-pure/features/symbol\");","var parent = require('../../es/symbol');\nrequire('../../modules/esnext.symbol.async-dispose');\nrequire('../../modules/esnext.symbol.dispose');\nrequire('../../modules/esnext.symbol.observable');\nrequire('../../modules/esnext.symbol.pattern-match');\n// TODO: Remove from `core-js@4`\nrequire('../../modules/esnext.symbol.replace-all');\n\nmodule.exports = parent;\n","require('../../modules/es.array.concat');\nrequire('../../modules/es.object.to-string');\nrequire('../../modules/es.symbol');\nrequire('../../modules/es.symbol.async-iterator');\nrequire('../../modules/es.symbol.description');\nrequire('../../modules/es.symbol.has-instance');\nrequire('../../modules/es.symbol.is-concat-spreadable');\nrequire('../../modules/es.symbol.iterator');\nrequire('../../modules/es.symbol.match');\nrequire('../../modules/es.symbol.match-all');\nrequire('../../modules/es.symbol.replace');\nrequire('../../modules/es.symbol.search');\nrequire('../../modules/es.symbol.species');\nrequire('../../modules/es.symbol.split');\nrequire('../../modules/es.symbol.to-primitive');\nrequire('../../modules/es.symbol.to-string-tag');\nrequire('../../modules/es.symbol.unscopables');\nrequire('../../modules/es.json.to-string-tag');\nrequire('../../modules/es.math.to-string-tag');\nrequire('../../modules/es.reflect.to-string-tag');\nvar path = require('../../internals/path');\n\nmodule.exports = path.Symbol;\n","'use strict';\nvar $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar IS_CONCAT_SPREADABLE = wellKnownSymbol('isConcatSpreadable');\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_INDEX_EXCEEDED = 'Maximum allowed index exceeded';\n\n// We can't use this feature detection in V8 since it causes\n// deoptimization and serious performance degradation\n// https://github.com/zloirock/core-js/issues/679\nvar IS_CONCAT_SPREADABLE_SUPPORT = V8_VERSION >= 51 || !fails(function () {\n  var array = [];\n  array[IS_CONCAT_SPREADABLE] = false;\n  return array.concat()[0] !== array;\n});\n\nvar SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('concat');\n\nvar isConcatSpreadable = function (O) {\n  if (!isObject(O)) return false;\n  var spreadable = O[IS_CONCAT_SPREADABLE];\n  return spreadable !== undefined ? !!spreadable : isArray(O);\n};\n\nvar FORCED = !IS_CONCAT_SPREADABLE_SUPPORT || !SPECIES_SUPPORT;\n\n// `Array.prototype.concat` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.concat\n// with adding support of @@isConcatSpreadable and @@species\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  concat: function concat(arg) { // eslint-disable-line no-unused-vars\n    var O = toObject(this);\n    var A = arraySpeciesCreate(O, 0);\n    var n = 0;\n    var i, k, length, len, E;\n    for (i = -1, length = arguments.length; i < length; i++) {\n      E = i === -1 ? O : arguments[i];\n      if (isConcatSpreadable(E)) {\n        len = toLength(E.length);\n        if (n + len > MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        for (k = 0; k < len; k++, n++) if (k in E) createProperty(A, n, E[k]);\n      } else {\n        if (n >= MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        createProperty(A, n++, E);\n      }\n    }\n    A.length = n;\n    return A;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar getBuiltIn = require('../internals/get-built-in');\nvar IS_PURE = require('../internals/is-pure');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\nvar fails = require('../internals/fails');\nvar has = require('../internals/has');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar anObject = require('../internals/an-object');\nvar toObject = require('../internals/to-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPrimitive = require('../internals/to-primitive');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar nativeObjectCreate = require('../internals/object-create');\nvar objectKeys = require('../internals/object-keys');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertyNamesExternal = require('../internals/object-get-own-property-names-external');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar shared = require('../internals/shared');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar uid = require('../internals/uid');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar wrappedWellKnownSymbolModule = require('../internals/well-known-symbol-wrapped');\nvar defineWellKnownSymbol = require('../internals/define-well-known-symbol');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar InternalStateModule = require('../internals/internal-state');\nvar $forEach = require('../internals/array-iteration').forEach;\n\nvar HIDDEN = sharedKey('hidden');\nvar SYMBOL = 'Symbol';\nvar PROTOTYPE = 'prototype';\nvar TO_PRIMITIVE = wellKnownSymbol('toPrimitive');\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(SYMBOL);\nvar ObjectPrototype = Object[PROTOTYPE];\nvar $Symbol = global.Symbol;\nvar $stringify = getBuiltIn('JSON', 'stringify');\nvar nativeGetOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\nvar nativeDefineProperty = definePropertyModule.f;\nvar nativeGetOwnPropertyNames = getOwnPropertyNamesExternal.f;\nvar nativePropertyIsEnumerable = propertyIsEnumerableModule.f;\nvar AllSymbols = shared('symbols');\nvar ObjectPrototypeSymbols = shared('op-symbols');\nvar StringToSymbolRegistry = shared('string-to-symbol-registry');\nvar SymbolToStringRegistry = shared('symbol-to-string-registry');\nvar WellKnownSymbolsStore = shared('wks');\nvar QObject = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar USE_SETTER = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDescriptor = DESCRIPTORS && fails(function () {\n  return nativeObjectCreate(nativeDefineProperty({}, 'a', {\n    get: function () { return nativeDefineProperty(this, 'a', { value: 7 }).a; }\n  })).a != 7;\n}) ? function (O, P, Attributes) {\n  var ObjectPrototypeDescriptor = nativeGetOwnPropertyDescriptor(ObjectPrototype, P);\n  if (ObjectPrototypeDescriptor) delete ObjectPrototype[P];\n  nativeDefineProperty(O, P, Attributes);\n  if (ObjectPrototypeDescriptor && O !== ObjectPrototype) {\n    nativeDefineProperty(ObjectPrototype, P, ObjectPrototypeDescriptor);\n  }\n} : nativeDefineProperty;\n\nvar wrap = function (tag, description) {\n  var symbol = AllSymbols[tag] = nativeObjectCreate($Symbol[PROTOTYPE]);\n  setInternalState(symbol, {\n    type: SYMBOL,\n    tag: tag,\n    description: description\n  });\n  if (!DESCRIPTORS) symbol.description = description;\n  return symbol;\n};\n\nvar isSymbol = USE_SYMBOL_AS_UID ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  return Object(it) instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(O, P, Attributes) {\n  if (O === ObjectPrototype) $defineProperty(ObjectPrototypeSymbols, P, Attributes);\n  anObject(O);\n  var key = toPrimitive(P, true);\n  anObject(Attributes);\n  if (has(AllSymbols, key)) {\n    if (!Attributes.enumerable) {\n      if (!has(O, HIDDEN)) nativeDefineProperty(O, HIDDEN, createPropertyDescriptor(1, {}));\n      O[HIDDEN][key] = true;\n    } else {\n      if (has(O, HIDDEN) && O[HIDDEN][key]) O[HIDDEN][key] = false;\n      Attributes = nativeObjectCreate(Attributes, { enumerable: createPropertyDescriptor(0, false) });\n    } return setSymbolDescriptor(O, key, Attributes);\n  } return nativeDefineProperty(O, key, Attributes);\n};\n\nvar $defineProperties = function defineProperties(O, Properties) {\n  anObject(O);\n  var properties = toIndexedObject(Properties);\n  var keys = objectKeys(properties).concat($getOwnPropertySymbols(properties));\n  $forEach(keys, function (key) {\n    if (!DESCRIPTORS || $propertyIsEnumerable.call(properties, key)) $defineProperty(O, key, properties[key]);\n  });\n  return O;\n};\n\nvar $create = function create(O, Properties) {\n  return Properties === undefined ? nativeObjectCreate(O) : $defineProperties(nativeObjectCreate(O), Properties);\n};\n\nvar $propertyIsEnumerable = function propertyIsEnumerable(V) {\n  var P = toPrimitive(V, true);\n  var enumerable = nativePropertyIsEnumerable.call(this, P);\n  if (this === ObjectPrototype && has(AllSymbols, P) && !has(ObjectPrototypeSymbols, P)) return false;\n  return enumerable || !has(this, P) || !has(AllSymbols, P) || has(this, HIDDEN) && this[HIDDEN][P] ? enumerable : true;\n};\n\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(O, P) {\n  var it = toIndexedObject(O);\n  var key = toPrimitive(P, true);\n  if (it === ObjectPrototype && has(AllSymbols, key) && !has(ObjectPrototypeSymbols, key)) return;\n  var descriptor = nativeGetOwnPropertyDescriptor(it, key);\n  if (descriptor && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) {\n    descriptor.enumerable = true;\n  }\n  return descriptor;\n};\n\nvar $getOwnPropertyNames = function getOwnPropertyNames(O) {\n  var names = nativeGetOwnPropertyNames(toIndexedObject(O));\n  var result = [];\n  $forEach(names, function (key) {\n    if (!has(AllSymbols, key) && !has(hiddenKeys, key)) result.push(key);\n  });\n  return result;\n};\n\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(O) {\n  var IS_OBJECT_PROTOTYPE = O === ObjectPrototype;\n  var names = nativeGetOwnPropertyNames(IS_OBJECT_PROTOTYPE ? ObjectPrototypeSymbols : toIndexedObject(O));\n  var result = [];\n  $forEach(names, function (key) {\n    if (has(AllSymbols, key) && (!IS_OBJECT_PROTOTYPE || has(ObjectPrototype, key))) {\n      result.push(AllSymbols[key]);\n    }\n  });\n  return result;\n};\n\n// `Symbol` constructor\n// https://tc39.github.io/ecma262/#sec-symbol-constructor\nif (!NATIVE_SYMBOL) {\n  $Symbol = function Symbol() {\n    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor');\n    var description = !arguments.length || arguments[0] === undefined ? undefined : String(arguments[0]);\n    var tag = uid(description);\n    var setter = function (value) {\n      if (this === ObjectPrototype) setter.call(ObjectPrototypeSymbols, value);\n      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n      setSymbolDescriptor(this, tag, createPropertyDescriptor(1, value));\n    };\n    if (DESCRIPTORS && USE_SETTER) setSymbolDescriptor(ObjectPrototype, tag, { configurable: true, set: setter });\n    return wrap(tag, description);\n  };\n\n  redefine($Symbol[PROTOTYPE], 'toString', function toString() {\n    return getInternalState(this).tag;\n  });\n\n  redefine($Symbol, 'withoutSetter', function (description) {\n    return wrap(uid(description), description);\n  });\n\n  propertyIsEnumerableModule.f = $propertyIsEnumerable;\n  definePropertyModule.f = $defineProperty;\n  getOwnPropertyDescriptorModule.f = $getOwnPropertyDescriptor;\n  getOwnPropertyNamesModule.f = getOwnPropertyNamesExternal.f = $getOwnPropertyNames;\n  getOwnPropertySymbolsModule.f = $getOwnPropertySymbols;\n\n  wrappedWellKnownSymbolModule.f = function (name) {\n    return wrap(wellKnownSymbol(name), name);\n  };\n\n  if (DESCRIPTORS) {\n    // https://github.com/tc39/proposal-Symbol-description\n    nativeDefineProperty($Symbol[PROTOTYPE], 'description', {\n      configurable: true,\n      get: function description() {\n        return getInternalState(this).description;\n      }\n    });\n    if (!IS_PURE) {\n      redefine(ObjectPrototype, 'propertyIsEnumerable', $propertyIsEnumerable, { unsafe: true });\n    }\n  }\n}\n\n$({ global: true, wrap: true, forced: !NATIVE_SYMBOL, sham: !NATIVE_SYMBOL }, {\n  Symbol: $Symbol\n});\n\n$forEach(objectKeys(WellKnownSymbolsStore), function (name) {\n  defineWellKnownSymbol(name);\n});\n\n$({ target: SYMBOL, stat: true, forced: !NATIVE_SYMBOL }, {\n  // `Symbol.for` method\n  // https://tc39.github.io/ecma262/#sec-symbol.for\n  'for': function (key) {\n    var string = String(key);\n    if (has(StringToSymbolRegistry, string)) return StringToSymbolRegistry[string];\n    var symbol = $Symbol(string);\n    StringToSymbolRegistry[string] = symbol;\n    SymbolToStringRegistry[symbol] = string;\n    return symbol;\n  },\n  // `Symbol.keyFor` method\n  // https://tc39.github.io/ecma262/#sec-symbol.keyfor\n  keyFor: function keyFor(sym) {\n    if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol');\n    if (has(SymbolToStringRegistry, sym)) return SymbolToStringRegistry[sym];\n  },\n  useSetter: function () { USE_SETTER = true; },\n  useSimple: function () { USE_SETTER = false; }\n});\n\n$({ target: 'Object', stat: true, forced: !NATIVE_SYMBOL, sham: !DESCRIPTORS }, {\n  // `Object.create` method\n  // https://tc39.github.io/ecma262/#sec-object.create\n  create: $create,\n  // `Object.defineProperty` method\n  // https://tc39.github.io/ecma262/#sec-object.defineproperty\n  defineProperty: $defineProperty,\n  // `Object.defineProperties` method\n  // https://tc39.github.io/ecma262/#sec-object.defineproperties\n  defineProperties: $defineProperties,\n  // `Object.getOwnPropertyDescriptor` method\n  // https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptors\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor\n});\n\n$({ target: 'Object', stat: true, forced: !NATIVE_SYMBOL }, {\n  // `Object.getOwnPropertyNames` method\n  // https://tc39.github.io/ecma262/#sec-object.getownpropertynames\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // `Object.getOwnPropertySymbols` method\n  // https://tc39.github.io/ecma262/#sec-object.getownpropertysymbols\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// Chrome 38 and 39 `Object.getOwnPropertySymbols` fails on primitives\n// https://bugs.chromium.org/p/v8/issues/detail?id=3443\n$({ target: 'Object', stat: true, forced: fails(function () { getOwnPropertySymbolsModule.f(1); }) }, {\n  getOwnPropertySymbols: function getOwnPropertySymbols(it) {\n    return getOwnPropertySymbolsModule.f(toObject(it));\n  }\n});\n\n// `JSON.stringify` method behavior with symbols\n// https://tc39.github.io/ecma262/#sec-json.stringify\nif ($stringify) {\n  var FORCED_JSON_STRINGIFY = !NATIVE_SYMBOL || fails(function () {\n    var symbol = $Symbol();\n    // MS Edge converts symbol values to JSON as {}\n    return $stringify([symbol]) != '[null]'\n      // WebKit converts symbol values to JSON as null\n      || $stringify({ a: symbol }) != '{}'\n      // V8 throws on boxed symbols\n      || $stringify(Object(symbol)) != '{}';\n  });\n\n  $({ target: 'JSON', stat: true, forced: FORCED_JSON_STRINGIFY }, {\n    // eslint-disable-next-line no-unused-vars\n    stringify: function stringify(it, replacer, space) {\n      var args = [it];\n      var index = 1;\n      var $replacer;\n      while (arguments.length > index) args.push(arguments[index++]);\n      $replacer = replacer;\n      if (!isObject(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n      if (!isArray(replacer)) replacer = function (key, value) {\n        if (typeof $replacer == 'function') value = $replacer.call(this, key, value);\n        if (!isSymbol(value)) return value;\n      };\n      args[1] = replacer;\n      return $stringify.apply(null, args);\n    }\n  });\n}\n\n// `Symbol.prototype[@@toPrimitive]` method\n// https://tc39.github.io/ecma262/#sec-symbol.prototype-@@toprimitive\nif (!$Symbol[PROTOTYPE][TO_PRIMITIVE]) {\n  createNonEnumerableProperty($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n}\n// `Symbol.prototype[@@toStringTag]` property\n// https://tc39.github.io/ecma262/#sec-symbol.prototype-@@tostringtag\nsetToStringTag($Symbol, SYMBOL);\n\nhiddenKeys[HIDDEN] = true;\n","var toIndexedObject = require('../internals/to-indexed-object');\nvar nativeGetOwnPropertyNames = require('../internals/object-get-own-property-names').f;\n\nvar toString = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return nativeGetOwnPropertyNames(it);\n  } catch (error) {\n    return windowNames.slice();\n  }\n};\n\n// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nmodule.exports.f = function getOwnPropertyNames(it) {\n  return windowNames && toString.call(it) == '[object Window]'\n    ? getWindowNames(it)\n    : nativeGetOwnPropertyNames(toIndexedObject(it));\n};\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.asyncIterator` well-known symbol\n// https://tc39.github.io/ecma262/#sec-symbol.asynciterator\ndefineWellKnownSymbol('asyncIterator');\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.hasInstance` well-known symbol\n// https://tc39.github.io/ecma262/#sec-symbol.hasinstance\ndefineWellKnownSymbol('hasInstance');\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.isConcatSpreadable` well-known symbol\n// https://tc39.github.io/ecma262/#sec-symbol.isconcatspreadable\ndefineWellKnownSymbol('isConcatSpreadable');\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.match` well-known symbol\n// https://tc39.github.io/ecma262/#sec-symbol.match\ndefineWellKnownSymbol('match');\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.matchAll` well-known symbol\ndefineWellKnownSymbol('matchAll');\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.replace` well-known symbol\n// https://tc39.github.io/ecma262/#sec-symbol.replace\ndefineWellKnownSymbol('replace');\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.search` well-known symbol\n// https://tc39.github.io/ecma262/#sec-symbol.search\ndefineWellKnownSymbol('search');\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.species` well-known symbol\n// https://tc39.github.io/ecma262/#sec-symbol.species\ndefineWellKnownSymbol('species');\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.split` well-known symbol\n// https://tc39.github.io/ecma262/#sec-symbol.split\ndefineWellKnownSymbol('split');\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.toPrimitive` well-known symbol\n// https://tc39.github.io/ecma262/#sec-symbol.toprimitive\ndefineWellKnownSymbol('toPrimitive');\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.toStringTag` well-known symbol\n// https://tc39.github.io/ecma262/#sec-symbol.tostringtag\ndefineWellKnownSymbol('toStringTag');\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.unscopables` well-known symbol\n// https://tc39.github.io/ecma262/#sec-symbol.unscopables\ndefineWellKnownSymbol('unscopables');\n","var global = require('../internals/global');\nvar setToStringTag = require('../internals/set-to-string-tag');\n\n// JSON[@@toStringTag] property\n// https://tc39.github.io/ecma262/#sec-json-@@tostringtag\nsetToStringTag(global.JSON, 'JSON', true);\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.asyncDispose` well-known symbol\n// https://github.com/tc39/proposal-using-statement\ndefineWellKnownSymbol('asyncDispose');\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.dispose` well-known symbol\n// https://github.com/tc39/proposal-using-statement\ndefineWellKnownSymbol('dispose');\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.observable` well-known symbol\n// https://github.com/tc39/proposal-observable\ndefineWellKnownSymbol('observable');\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.patternMatch` well-known symbol\n// https://github.com/tc39/proposal-pattern-matching\ndefineWellKnownSymbol('patternMatch');\n","// TODO: remove from `core-js@4`\nvar defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\ndefineWellKnownSymbol('replaceAll');\n","require('../modules/web.timers');\nvar path = require('../internals/path');\n\nmodule.exports = path.setTimeout;\n","var $ = require('../internals/export');\nvar global = require('../internals/global');\nvar userAgent = require('../internals/engine-user-agent');\n\nvar slice = [].slice;\nvar MSIE = /MSIE .\\./.test(userAgent); // <- dirty ie9- check\n\nvar wrap = function (scheduler) {\n  return function (handler, timeout /* , ...arguments */) {\n    var boundArgs = arguments.length > 2;\n    var args = boundArgs ? slice.call(arguments, 2) : undefined;\n    return scheduler(boundArgs ? function () {\n      // eslint-disable-next-line no-new-func\n      (typeof handler == 'function' ? handler : Function(handler)).apply(this, args);\n    } : handler, timeout);\n  };\n};\n\n// ie9- setTimeout & setInterval additional parameters fix\n// https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#timers\n$({ global: true, bind: true, forced: MSIE }, {\n  // `setTimeout` method\n  // https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#dom-settimeout\n  setTimeout: wrap(global.setTimeout),\n  // `setInterval` method\n  // https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#dom-setinterval\n  setInterval: wrap(global.setInterval)\n});\n","var parent = require('../../es/instance/slice');\n\nmodule.exports = parent;\n","var slice = require('../array/virtual/slice');\n\nvar ArrayPrototype = Array.prototype;\n\nmodule.exports = function (it) {\n  var own = it.slice;\n  return it === ArrayPrototype || (it instanceof Array && own === ArrayPrototype.slice) ? slice : own;\n};\n","require('../../../modules/es.array.slice');\nvar entryVirtual = require('../../../internals/entry-virtual');\n\nmodule.exports = entryVirtual('Array').slice;\n","'use strict';\nvar $ = require('../internals/export');\nvar isObject = require('../internals/is-object');\nvar isArray = require('../internals/is-array');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toLength = require('../internals/to-length');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar createProperty = require('../internals/create-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('slice');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('slice', { ACCESSORS: true, 0: 0, 1: 2 });\n\nvar SPECIES = wellKnownSymbol('species');\nvar nativeSlice = [].slice;\nvar max = Math.max;\n\n// `Array.prototype.slice` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.slice\n// fallback for not array-like ES3 strings and DOM objects\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  slice: function slice(start, end) {\n    var O = toIndexedObject(this);\n    var length = toLength(O.length);\n    var k = toAbsoluteIndex(start, length);\n    var fin = toAbsoluteIndex(end === undefined ? length : end, length);\n    // inline `ArraySpeciesCreate` for usage native `Array#slice` where it's possible\n    var Constructor, result, n;\n    if (isArray(O)) {\n      Constructor = O.constructor;\n      // cross-realm fallback\n      if (typeof Constructor == 'function' && (Constructor === Array || isArray(Constructor.prototype))) {\n        Constructor = undefined;\n      } else if (isObject(Constructor)) {\n        Constructor = Constructor[SPECIES];\n        if (Constructor === null) Constructor = undefined;\n      }\n      if (Constructor === Array || Constructor === undefined) {\n        return nativeSlice.call(O, k, fin);\n      }\n    }\n    result = new (Constructor === undefined ? Array : Constructor)(max(fin - k, 0));\n    for (n = 0; k < fin; k++, n++) if (k in O) createProperty(result, n, O[k]);\n    result.length = n;\n    return result;\n  }\n});\n","module.exports = require(\"core-js-pure/stable/parse-int\");","var parent = require('../es/parse-int');\n\nmodule.exports = parent;\n","require('../modules/es.parse-int');\nvar path = require('../internals/path');\n\nmodule.exports = path.parseInt;\n","var $ = require('../internals/export');\nvar parseIntImplementation = require('../internals/number-parse-int');\n\n// `parseInt` method\n// https://tc39.github.io/ecma262/#sec-parseint-string-radix\n$({ global: true, forced: parseInt != parseIntImplementation }, {\n  parseInt: parseIntImplementation\n});\n","var global = require('../internals/global');\nvar trim = require('../internals/string-trim').trim;\nvar whitespaces = require('../internals/whitespaces');\n\nvar $parseInt = global.parseInt;\nvar hex = /^[+-]?0[Xx]/;\nvar FORCED = $parseInt(whitespaces + '08') !== 8 || $parseInt(whitespaces + '0x16') !== 22;\n\n// `parseInt` method\n// https://tc39.github.io/ecma262/#sec-parseint-string-radix\nmodule.exports = FORCED ? function parseInt(string, radix) {\n  var S = trim(String(string));\n  return $parseInt(S, (radix >>> 0) || (hex.test(S) ? 16 : 10));\n} : $parseInt;\n","/**\n * @description 编辑器配置\n * @author wangfupeng\n */\n\nimport menusConfig, { EmotionsType, FontSizeConfType, IndentationType } from './menus'\nimport eventsConfig from './events'\nimport styleConfig from './style'\nimport pasteConfig from './paste'\nimport cmdConfig from './cmd'\nimport imageConfig, { UploadImageHooksType } from './image'\nimport textConfig from './text'\nimport langConfig from './lang'\nimport historyConfig from './history'\nimport videoConfig, { UploadVideoHooksType } from './video'\n\n// 字典类型\nexport type DicType = {\n    [key: string]: string\n}\n\n// 定义配置项的类型规范\nexport type ConfigType = {\n    height: number\n    languageType: string[]\n    languageTab: string\n    menus: string[]\n    fontNames: string[]\n    lineHeights: string[]\n    indentation: IndentationType\n    fontSizes: FontSizeConfType\n    colors: string[]\n    emotions: EmotionsType[]\n    zIndex: number\n    onchange: Function\n    onfocus: Function\n    onblur: Function\n    onchangeTimeout: number\n    pasteFilterStyle: boolean\n    pasteIgnoreImg: boolean\n    pasteTextHandle: Function\n    styleWithCSS: boolean\n    linkImgCallback: Function\n\n    placeholder: string\n    zIndexFullScreen: number\n    showFullScreen: boolean\n    showLinkImg: boolean\n    uploadImgAccept: string[]\n    uploadImgServer: string\n    uploadImgShowBase64: boolean\n    uploadImgMaxSize: number\n    uploadImgMaxLength: number\n    uploadFileName: string\n    uploadImgParams: DicType\n    uploadImgParamsWithUrl: boolean\n    uploadImgHeaders: DicType\n    uploadImgHooks: UploadImageHooksType\n    uploadImgTimeout: number\n    withCredentials: boolean\n    customUploadImg: Function | null\n    customAlert: Function\n\n    onCatalogChange: Function | null\n\n    lang: string\n    languages: typeof langConfig\n\n    linkCheck: Function\n    linkImgCheck: Function\n    compatibleMode: () => boolean\n    historyMaxSize: number\n\n    focus: boolean\n\n    onlineVideoCheck: Function\n    onlineVideoCallback: Function\n\n    uploadVideoShowBase64: boolean\n    uploadVideoServer: string\n    customUploadVideo: Function | null\n    showLinkVideo: boolean\n    uploadVideoAccept: string[]\n    uploadVideoMaxSize: number\n    uploadVideoMaxLength: number\n    uploadVideoName: string\n    uploadVideoParams: DicType\n    uploadVideoHeaders: DicType\n    uploadVideoHooks: UploadVideoHooksType\n    uploadVideoTimeout: number\n}\n\nexport type Resource = {\n    [language: string]: ResourceLanguage\n}\n\nexport type ResourceLanguage = {\n    [namespace: string]: ResourceKey\n}\n\nexport type ResourceKey =\n    | string\n    | {\n          [key: string]: any\n      }\n\n// 合并所有的配置信息\nconst defaultConfig = Object.assign(\n    {},\n    menusConfig,\n    eventsConfig,\n    styleConfig,\n    cmdConfig,\n    pasteConfig,\n    imageConfig,\n    textConfig,\n    langConfig,\n    historyConfig,\n    videoConfig,\n    //链接校验的配置函数\n    {\n        linkCheck: function (text: string, link: string): string | boolean {\n            return true\n        },\n    },\n    //网络图片校验的配置函数\n    {\n        linkImgCheck: function (src: string): string | boolean {\n            return true\n        },\n    }\n)\n\nexport default defaultConfig\n","module.exports = require(\"core-js-pure/stable/object/assign\");","var parent = require('../../es/object/assign');\n\nmodule.exports = parent;\n","require('../../modules/es.object.assign');\nvar path = require('../../internals/path');\n\nmodule.exports = path.Object.assign;\n","var $ = require('../internals/export');\nvar assign = require('../internals/object-assign');\n\n// `Object.assign` method\n// https://tc39.github.io/ecma262/#sec-object.assign\n$({ target: 'Object', stat: true, forced: Object.assign !== assign }, {\n  assign: assign\n});\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar objectKeys = require('../internals/object-keys');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar toObject = require('../internals/to-object');\nvar IndexedObject = require('../internals/indexed-object');\n\nvar nativeAssign = Object.assign;\nvar defineProperty = Object.defineProperty;\n\n// `Object.assign` method\n// https://tc39.github.io/ecma262/#sec-object.assign\nmodule.exports = !nativeAssign || fails(function () {\n  // should have correct order of operations (Edge bug)\n  if (DESCRIPTORS && nativeAssign({ b: 1 }, nativeAssign(defineProperty({}, 'a', {\n    enumerable: true,\n    get: function () {\n      defineProperty(this, 'b', {\n        value: 3,\n        enumerable: false\n      });\n    }\n  }), { b: 2 })).b !== 1) return true;\n  // should work with symbols and should have deterministic property order (V8 bug)\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line no-undef\n  var symbol = Symbol();\n  var alphabet = 'abcdefghijklmnopqrst';\n  A[symbol] = 7;\n  alphabet.split('').forEach(function (chr) { B[chr] = chr; });\n  return nativeAssign({}, A)[symbol] != 7 || objectKeys(nativeAssign({}, B)).join('') != alphabet;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars\n  var T = toObject(target);\n  var argumentsLength = arguments.length;\n  var index = 1;\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  var propertyIsEnumerable = propertyIsEnumerableModule.f;\n  while (argumentsLength > index) {\n    var S = IndexedObject(arguments[index++]);\n    var keys = getOwnPropertySymbols ? objectKeys(S).concat(getOwnPropertySymbols(S)) : objectKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) {\n      key = keys[j++];\n      if (!DESCRIPTORS || propertyIsEnumerable.call(S, key)) T[key] = S[key];\n    }\n  } return T;\n} : nativeAssign;\n","/**\n * @description 菜单配置\n * @author wangfupeng\n */\n\nconst SINA_PATH1 = 'http://img.t.sinajs.cn/t4/appstyle/expression/ext/normal'\nconst SINA_PATH2 = 'http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal'\n\n// 表情菜单数据结构类型\nexport type EmotionsContentType = {\n    alt: string\n    src: string\n}\nexport type EmotionsType = {\n    title: string\n    type: string\n    content: Array<EmotionsContentType | string>\n}\n\n// font-size 类型\nexport type FontSizeConfType = {\n    [key: string]: {\n        name: string\n        value: string\n    }\n}\n\n// indent\nexport interface IndentationOptions {\n    value: number\n    unit: string\n}\nexport type IndentationType = string | IndentationOptions\n\n/*表情菜单数据结构类型END*/\nexport default {\n    menus: [\n        'head',\n        'bold',\n        'fontSize',\n        // 'customFontSize',\n        'fontName',\n        'italic',\n        'underline',\n        'strikeThrough',\n        'indent',\n        'lineHeight',\n        'foreColor',\n        'backColor',\n        'link',\n        'list',\n        'justify',\n        'quote',\n        'emoticon',\n        'image',\n        'video',\n        'table',\n        'code',\n        'splitLine',\n        'undo',\n        'redo',\n    ],\n\n    fontNames: [\n        '黑体',\n        '仿宋',\n        '楷体',\n        '标楷体',\n        '华文仿宋',\n        '华文楷体',\n        '宋体',\n        '微软雅黑',\n        'Arial',\n        'Tahoma',\n        'Verdana',\n        'Times New Roman',\n        'Courier New',\n    ],\n\n    fontSizes: {\n        'x-small': {\n            name: '10px',\n            value: '1',\n        },\n        small: {\n            name: '13px',\n            value: '2',\n        },\n        normal: {\n            name: '16px',\n            value: '3',\n        },\n        large: {\n            name: '18px',\n            value: '4',\n        },\n        'x-large': {\n            name: '24px',\n            value: '5',\n        },\n        'xx-large': {\n            name: '32px',\n            value: '6',\n        },\n        'xxx-large': {\n            name: '48px',\n            value: '7',\n        },\n    },\n\n    // customFontSize: [ // 该菜单暂时不用 - 王福朋 20200924\n    //     { value: '9px', text: '9' },\n    //     { value: '10px', text: '10' },\n    //     { value: '12px', text: '12' },\n    //     { value: '14px', text: '14' },\n    //     { value: '16px', text: '16' },\n    //     { value: '20px', text: '20' },\n    //     { value: '42px', text: '42' },\n    //     { value: '72px', text: '72' },\n    // ],\n\n    colors: [\n        '#000000',\n        '#eeece0',\n        '#1c487f',\n        '#4d80bf',\n        '#c24f4a',\n        '#8baa4a',\n        '#7b5ba1',\n        '#46acc8',\n        '#f9963b',\n        '#ffffff',\n    ],\n\n    //插入代码语言配置\n    languageType: [\n        'Bash',\n        'C',\n        'C#',\n        'C++',\n        'CSS',\n        'Java',\n        'JavaScript',\n        'JSON',\n        'TypeScript',\n        'Plain text',\n        'Html',\n        'XML',\n        'SQL',\n        'Go',\n        'Kotlin',\n        'Lua',\n        'Markdown',\n        'PHP',\n        'Python',\n        'Shell Session',\n        'Ruby',\n    ],\n\n    languageTab: '　　　　',\n    /**\n     * 表情配置菜单\n     * 如果为emoji表情直接作为元素插入\n     * emoticon:Array<EmotionsType>\n     */\n    emotions: [\n        {\n            // tab 的标题\n            title: '默认',\n            // type -> 'emoji' / 'image'\n            type: 'image',\n            // content -> 数组\n            content: [\n                {\n                    alt: '[坏笑]',\n                    src: `${SINA_PATH1}/50/pcmoren_huaixiao_org.png`,\n                },\n                {\n                    alt: '[舔屏]',\n                    src: `${SINA_PATH1}/40/pcmoren_tian_org.png`,\n                },\n                {\n                    alt: '[污]',\n                    src: `${SINA_PATH1}/3c/pcmoren_wu_org.png`,\n                },\n            ],\n        },\n        {\n            // tab 的标题\n            title: '新浪',\n            // type -> 'emoji' / 'image'\n            type: 'image',\n            // content -> 数组\n            content: [\n                {\n                    src: `${SINA_PATH2}/7a/shenshou_thumb.gif`,\n                    alt: '[草泥马]',\n                },\n                {\n                    src: `${SINA_PATH2}/60/horse2_thumb.gif`,\n                    alt: '[神马]',\n                },\n                {\n                    src: `${SINA_PATH2}/bc/fuyun_thumb.gif`,\n                    alt: '[浮云]',\n                },\n            ],\n        },\n        {\n            // tab 的标题\n            title: 'emoji',\n            // type -> 'emoji' / 'image'\n            type: 'emoji',\n            // content -> 数组\n            content: '😀 😃 😄 😁 😆 😅 😂 😊 😇 🙂 🙃 😉 😓 😪 😴 🙄 🤔 😬 🤐'.split(/\\s/),\n        },\n        {\n            // tab 的标题\n            title: '手势',\n            // type -> 'emoji' / 'image'\n            type: 'emoji',\n            // content -> 数组\n            content: [\n                '🙌',\n                '👏',\n                '👋',\n                '👍',\n                '👎',\n                '👊',\n                '✊',\n                '️👌',\n                '✋',\n                '👐',\n                '💪',\n                '🙏',\n                '️👆',\n                '👇',\n                '👈',\n                '👉',\n                '🖕',\n                '🖐',\n                '🤘',\n            ],\n        },\n    ],\n\n    lineHeights: ['1', '1.15', '1.6', '2', '2.5', '3'],\n\n    undoLimit: 20,\n\n    indentation: '2em',\n}\n","/**\n * @description 事件配置\n * @author wangfupeng\n */\n\nimport { EMPTY_FN } from '../utils/const'\n\nexport type TCatalog = {\n    tag: string\n    id: string\n    text: string\n}\n\n/**\n * 提示信息\n * @param alertInfo alert info\n * @param alertType 错误提示类型\n * @param debugInfo debug info\n */\nfunction customAlert(alertInfo: string, alertType: string, debugInfo?: string): void {\n    window.alert(alertInfo)\n    if (debugInfo) {\n        console.error('wangEditor: ' + debugInfo)\n    }\n}\n\nexport default {\n    onchangeTimeout: 200,\n\n    onchange: EMPTY_FN,\n    onfocus: EMPTY_FN,\n    onblur: EMPTY_FN,\n\n    onCatalogChange: null,\n    customAlert,\n}\n","/**\n * @description 粘贴，配置文件\n * @author wangfupeng\n */\n\nexport default {\n    // 粘贴过滤样式，默认开启\n    pasteFilterStyle: true,\n\n    // 粘贴内容时，忽略图片。默认关闭\n    pasteIgnoreImg: false,\n\n    // 对粘贴的文字进行自定义处理，返回处理后的结果。编辑器会将处理后的结果粘贴到编辑区域中。\n    // IE 暂时不支持\n    pasteTextHandle: function (content: string): string {\n        // content 即粘贴过来的内容（html 或 纯文本），可进行自定义处理然后返回\n        return content\n    },\n}\n","/**\n * @description 命令配置项\n * @author wangfupeng\n */\n\nexport default {\n    styleWithCSS: false, // 默认 false\n}\n","/**\n * @description 图片相关的配置\n * @author wangfupeng\n */\n\nimport Editor from '../editor/index'\nimport { EMPTY_FN } from '../utils/const'\nimport { ResType } from '../menus/img/upload-img'\n\nexport type UploadImageHooksType = {\n    before?: (\n        xhr: XMLHttpRequest,\n        editor: Editor,\n        files: File[]\n    ) => { prevent: boolean; msg: string } | void\n    success?: (xhr: XMLHttpRequest, editor: Editor, result: ResType) => void\n    fail?: (xhr: XMLHttpRequest, editor: Editor, err: ResType | string) => void\n    error?: (xhr: XMLHttpRequest, editor: Editor) => void\n    timeout?: (xhr: XMLHttpRequest, editor: Editor) => void\n    customInsert?: (\n        inserImg: (this: Editor, src: string) => void,\n        result: ResType,\n        editor: Editor\n    ) => void\n}\n\nexport default {\n    // 显示“插入网络图片”\n    showLinkImg: true,\n\n    // 插入图片成功之后的回调函数\n    linkImgCallback: EMPTY_FN,\n\n    // accept\n    uploadImgAccept: ['jpg', 'jpeg', 'png', 'gif', 'bmp'],\n\n    // 服务端地址\n    uploadImgServer: '',\n\n    // 使用 base64 存储图片\n    uploadImgShowBase64: false,\n\n    // 上传图片的最大体积，默认 5M\n    uploadImgMaxSize: 5 * 1024 * 1024,\n\n    // 一次最多上传多少个图片\n    uploadImgMaxLength: 100,\n\n    // 自定义上传图片的名称\n    uploadFileName: '',\n\n    // 上传图片自定义参数\n    uploadImgParams: {},\n\n    // 自定义参数拼接到 url 中\n    uploadImgParamsWithUrl: false,\n\n    // 上传图片自定义 header\n    uploadImgHeaders: {},\n\n    // 钩子函数\n    uploadImgHooks: {},\n\n    // 上传图片超时时间 ms\n    uploadImgTimeout: 10 * 1000,\n\n    // 跨域带 cookie\n    withCredentials: false,\n\n    // 自定义上传\n    customUploadImg: null,\n}\n","/**\n * @description 默认常量配置\n * @author xiaokyo\n */\n\nexport default {\n    focus: true,\n    height: 300,\n    placeholder: '请输入正文',\n    zIndexFullScreen: 10002,\n    showFullScreen: true,\n}\n","export default {\n    lang: 'zh-CN',\n    languages: {\n        'zh-CN': {\n            wangEditor: {\n                重置: '重置',\n                插入: '插入',\n                默认: '默认',\n                创建: '创建',\n                修改: '修改',\n                如: '如',\n                请输入正文: '请输入正文',\n                menus: {\n                    dropListMenu: {\n                        设置标题: '设置标题',\n                        背景颜色: '背景颜色',\n                        文字颜色: '文字颜色',\n                        设置字号: '设置字号',\n                        设置字体: '设置字体',\n                        设置缩进: '设置缩进',\n                        对齐方式: '对齐方式',\n                        设置行高: '设置行高',\n                        序列: '序列',\n                        head: {\n                            正文: '正文',\n                        },\n                        indent: {\n                            增加缩进: '增加缩进',\n                            减少缩进: '减少缩进',\n                        },\n                        justify: {\n                            靠左: '靠左',\n                            居中: '居中',\n                            靠右: '靠右',\n                            两端: '两端',\n                        },\n                        list: {\n                            无序列表: '无序列表',\n                            有序列表: '有序列表',\n                        },\n                    },\n                    panelMenus: {\n                        emoticon: {\n                            默认: '默认',\n                            新浪: '新浪',\n                            emoji: 'emoji',\n                            手势: '手势',\n                        },\n                        image: {\n                            图片链接: '图片链接',\n                            上传图片: '上传图片',\n                            网络图片: '网络图片',\n                        },\n                        link: {\n                            链接: '链接',\n                            链接文字: '链接文字',\n                            取消链接: '取消链接',\n                            查看链接: '查看链接',\n                        },\n                        video: {\n                            插入视频: '插入视频',\n                        },\n                        table: {\n                            行: '行',\n                            列: '列',\n                            的: '的',\n                            表格: '表格',\n                            添加行: '添加行',\n                            删除行: '删除行',\n                            添加列: '添加列',\n                            删除列: '删除列',\n                            设置表头: '设置表头',\n                            取消表头: '取消表头',\n                            插入表格: '插入表格',\n                            删除表格: '删除表格',\n                        },\n                        code: {\n                            删除代码: '删除代码',\n                            修改代码: '修改代码',\n                            插入代码: '插入代码',\n                        },\n                    },\n                },\n                validate: {\n                    张图片: '张图片',\n                    大于: '大于',\n                    图片链接: '图片链接',\n                    不是图片: '不是图片',\n                    返回结果: '返回结果',\n                    上传图片超时: '上传图片超时',\n                    上传图片错误: '上传图片错误',\n                    上传图片失败: '上传图片失败',\n                    插入图片错误: '插入图片错误',\n                    一次最多上传: '一次最多上传',\n                    下载链接失败: '下载链接失败',\n                    图片验证未通过: '图片验证未通过',\n                    服务器返回状态: '服务器返回状态',\n                    上传图片返回结果错误: '上传图片返回结果错误',\n                    请替换为支持的图片类型: '请替换为支持的图片类型',\n                    您插入的网络图片无法识别: '您插入的网络图片无法识别',\n                    您刚才插入的图片链接未通过编辑器校验: '您刚才插入的图片链接未通过编辑器校验',\n                },\n            },\n        },\n        en: {\n            wangEditor: {\n                重置: 'reset',\n                插入: 'insert',\n                默认: 'default',\n                创建: 'create',\n                修改: 'edit',\n                如: 'like',\n                请输入正文: 'please enter the text',\n                menus: {\n                    dropListMenu: {\n                        设置标题: 'title',\n                        背景颜色: 'background',\n                        文字颜色: 'font color',\n                        设置字号: 'font size',\n                        设置字体: 'font family',\n                        设置缩进: 'indent',\n                        对齐方式: 'align',\n                        设置行高: 'line heihgt',\n                        序列: 'list',\n                        head: {\n                            正文: 'text',\n                        },\n                        indent: {\n                            增加缩进: 'indent',\n                            减少缩进: 'outdent',\n                        },\n                        justify: {\n                            靠左: 'left',\n                            居中: 'center',\n                            靠右: 'right',\n                            两端: 'justify',\n                        },\n                        list: {\n                            无序列表: 'unordered',\n                            有序列表: 'ordered',\n                        },\n                    },\n                    panelMenus: {\n                        emoticon: {\n                            默认: 'default',\n                            新浪: 'sina',\n                            emoji: 'emoji',\n                            手势: 'gesture',\n                        },\n                        image: {\n                            图片链接: 'image link',\n                            上传图片: 'upload image',\n                            网络图片: 'network image',\n                        },\n                        link: {\n                            链接: 'link',\n                            链接文字: 'link text',\n                            取消链接: 'unlink',\n                            查看链接: 'view links',\n                        },\n                        video: {\n                            插入视频: 'insert video',\n                        },\n                        table: {\n                            行: 'rows',\n                            列: 'columns',\n                            的: ' ',\n                            表格: 'table',\n                            添加行: 'insert row',\n                            删除行: 'delete row',\n                            添加列: 'insert column',\n                            删除列: 'delete column',\n                            设置表头: 'set header',\n                            取消表头: 'cancel header',\n                            插入表格: 'insert table',\n                            删除表格: 'delete table',\n                        },\n                        code: {\n                            删除代码: 'delete code',\n                            修改代码: 'edit code',\n                            插入代码: 'insert code',\n                        },\n                    },\n                },\n                validate: {\n                    张图片: 'images',\n                    大于: 'greater than',\n                    图片链接: 'image link',\n                    不是图片: 'is not image',\n                    返回结果: 'return results',\n                    上传图片超时: 'upload image timeout',\n                    上传图片错误: 'upload image error',\n                    上传图片失败: 'upload image failed',\n                    插入图片错误: 'insert image error',\n                    一次最多上传: 'once most at upload',\n                    下载链接失败: 'download link failed',\n                    图片验证未通过: 'image validate failed',\n                    服务器返回状态: 'server return status',\n                    上传图片返回结果错误: 'upload image return results error',\n                    请替换为支持的图片类型: 'please replace with a supported image type',\n                    您插入的网络图片无法识别: 'the network picture you inserted is not recognized',\n                    您刚才插入的图片链接未通过编辑器校验:\n                        'the image link you just inserted did not pass the editor verification',\n                },\n            },\n        },\n    },\n}\n","/**\n * @description 历史记录 - 数据缓存的模式\n * @author fangzhicong\n */\n\nimport { UA } from '../utils/util'\n\n/**\n * 是否为兼容模式。返回 true 表示当前使用兼容（内容备份）模式，否则使用标准（差异备份）模式\n */\nfunction compatibleMode() {\n    if (UA.isIE() || UA.isOldEdge) {\n        return true\n    }\n    return false\n}\n\nexport default {\n    compatibleMode,\n    historyMaxSize: 30,\n}\n","/**\n * @description 视频相关的配置\n * @author hutianhao\n */\n\nimport { EMPTY_FN } from '../utils/const'\nimport Editor from '@/editor'\nimport { ResType } from '@/menus/img/upload-img'\n\nexport type UploadVideoHooksType = {\n    before?: (\n        xhr: XMLHttpRequest,\n        editor: Editor,\n        files: File[]\n    ) => { prevent: boolean; msg: string } | void\n    success?: (xhr: XMLHttpRequest, editor: Editor, result: ResType) => void\n    fail?: (xhr: XMLHttpRequest, editor: Editor, err: ResType | string) => void\n    error?: (xhr: XMLHttpRequest, editor: Editor) => void\n    timeout?: (xhr: XMLHttpRequest, editor: Editor) => void\n    customInsert?: (\n        inserVideo: (this: Editor, src: string) => void,\n        result: ResType,\n        editor: Editor\n    ) => void\n}\n\nexport default {\n    // 显示“插入网络视频”\n    showLinkVideo: true,\n\n    // accept\n    uploadVideoAccept: ['audio/mp4', 'video/mp4'],\n\n    // 服务端地址\n    uploadVideoServer: '',\n\n    // 使用 base64 存储视频\n    uploadVideoShowBase64: false,\n\n    // 上传视频的最大体积，默认 50M\n    uploadVideoMaxSize: 50 * 1024 * 1024,\n\n    // 一次最多上传多少个视频\n    uploadVideoMaxLength: 1,\n\n    // 自定义上传视频的名称\n    uploadVideoName: '',\n\n    // 上传视频自定义参数\n    uploadVideoParams: {},\n\n    // 上传视频自定义 header\n    uploadVideoHeaders: {},\n\n    // 钩子函数\n    uploadVideoHooks: {},\n\n    // 上传图片超时时间 ms\n    uploadVideoTimeout: 60 * 1000,\n\n    // 自定义上传\n    customUploadVideo: null,\n\n    // 插入网络视频前的回调函数\n    onlineVideoCheck: (video: string): string | boolean => {\n        return true\n    },\n\n    // 插入网络视频成功之后的回调函数\n    onlineVideoCallback: EMPTY_FN,\n}\n","/**\n * @description selection range API\n * @author wangfupeng\n */\nimport $, { DomElement } from '../utils/dom-core'\nimport { UA } from '../utils/util'\nimport Editor from './index'\nimport SelectionRangeTopNodes from './selection-range-top-nodes/index'\n\nclass SelectionAndRange {\n    public editor: Editor\n    private _currentRange: Range | null | undefined = null\n\n    constructor(editor: Editor) {\n        this.editor = editor\n    }\n\n    /**\n     * 获取当前 range\n     */\n    public getRange(): Range | null | undefined {\n        return this._currentRange\n    }\n\n    /**\n     * 保存选区范围\n     * @param _range 选区范围\n     */\n    public saveRange(_range?: Range): void {\n        if (_range) {\n            // 保存已有选区\n            this._currentRange = _range\n            return\n        }\n\n        // 获取当前的选区\n        const selection = window.getSelection() as Selection\n        if (selection.rangeCount === 0) {\n            return\n        }\n        const range = selection.getRangeAt(0)\n\n        // 获取选区范围的 DOM 元素\n        const $containerElem = this.getSelectionContainerElem(range)\n        if (!$containerElem) {\n            // 当 选区范围内没有 DOM元素 则抛出\n            return\n        }\n        if (\n            $containerElem.attr('contenteditable') === 'false' ||\n            $containerElem.parentUntil('[contenteditable=false]')\n        ) {\n            // 这里大体意义上就是个保险\n            // 确保 编辑区域 的 contenteditable属性 的值为 true\n            return\n        }\n\n        const editor = this.editor\n        const $textElem = editor.$textElem\n        if ($textElem.isContain($containerElem)) {\n            if ($textElem.elems[0] === $containerElem.elems[0]) {\n                if ($textElem.html().trim() === '<p><br></p>') {\n                    const $children = $textElem.children()\n                    const $last = $children?.last()\n                    editor.selection.createRangeByElem($last as DomElement, true, true)\n                    editor.selection.restoreSelection()\n                }\n            }\n            // 是编辑内容之内的\n            this._currentRange = range\n        }\n    }\n\n    /**\n     * 折叠选区范围\n     * @param toStart true 开始位置，false 结束位置\n     */\n    public collapseRange(toStart: boolean = false): void {\n        const range = this._currentRange\n        if (range) {\n            range.collapse(toStart)\n        }\n    }\n\n    /**\n     * 获取选区范围内的文字\n     */\n    public getSelectionText(): string {\n        const range = this._currentRange\n        if (range) {\n            return range.toString()\n        } else {\n            return ''\n        }\n    }\n\n    /**\n     * 获取选区范围的 DOM 元素\n     * @param range 选区范围\n     */\n    public getSelectionContainerElem(range?: Range): DomElement | undefined {\n        let r: Range | null | undefined\n        r = range || this._currentRange\n        let elem: Node\n        if (r) {\n            elem = r.commonAncestorContainer\n            return $(elem.nodeType === 1 ? elem : elem.parentNode)\n        }\n    }\n\n    /**\n     * 选区范围开始的 DOM 元素\n     * @param range 选区范围\n     */\n    public getSelectionStartElem(range?: Range): DomElement | undefined {\n        let r: Range | null | undefined\n        r = range || this._currentRange\n        let elem: Node\n        if (r) {\n            elem = r.startContainer\n            return $(elem.nodeType === 1 ? elem : elem.parentNode)\n        }\n    }\n\n    /**\n     * 选区范围结束的 DOM 元素\n     * @param range 选区范围\n     */\n    public getSelectionEndElem(range?: Range): DomElement | undefined {\n        let r: Range | null | undefined\n        r = range || this._currentRange\n        let elem: Node\n        if (r) {\n            elem = r.endContainer\n            return $(elem.nodeType === 1 ? elem : elem.parentNode)\n        }\n    }\n\n    /**\n     * 选区是否为空（没有选择文字）\n     */\n    public isSelectionEmpty(): boolean {\n        const range = this._currentRange\n        if (range && range.startContainer) {\n            if (range.startContainer === range.endContainer) {\n                if (range.startOffset === range.endOffset) {\n                    return true\n                }\n            }\n        }\n        return false\n    }\n\n    /**\n     * 恢复选区范围\n     */\n    public restoreSelection(): void {\n        const selection = window.getSelection()\n        const r = this._currentRange\n        if (selection && r) {\n            selection.removeAllRanges()\n            selection.addRange(r)\n        }\n    }\n\n    /**\n     * 创建一个空白（即 &#8203 字符）选区\n     */\n    public createEmptyRange(): void {\n        const editor = this.editor\n        const range = this.getRange()\n        let $elem: DomElement\n\n        if (!range) {\n            // 当前无 range\n            return\n        }\n        if (!this.isSelectionEmpty()) {\n            // 当前选区必须没有内容才可以，有内容就直接 return\n            return\n        }\n\n        try {\n            // 目前只支持 webkit 内核\n            if (UA.isWebkit()) {\n                // 插入 &#8203\n                editor.cmd.do('insertHTML', '&#8203;')\n                // 修改 offset 位置\n                range.setEnd(range.endContainer, range.endOffset + 1)\n                // 存储\n                this.saveRange(range)\n            } else {\n                $elem = $('<strong>&#8203;</strong>')\n                editor.cmd.do('insertElem', $elem)\n                this.createRangeByElem($elem, true)\n            }\n        } catch (ex) {\n            // 部分情况下会报错，兼容一下\n        }\n    }\n\n    /**\n     * 根据 DOM 元素设置选区\n     * @param $elem DOM 元素\n     * @param toStart true 开始位置，false 结束位置\n     * @param isContent 是否选中 $elem 的内容\n     */\n    public createRangeByElem($elem: DomElement, toStart?: boolean, isContent?: boolean): void {\n        if (!$elem.length) {\n            return\n        }\n\n        const elem = $elem.elems[0]\n        const range = document.createRange()\n\n        if (isContent) {\n            range.selectNodeContents(elem)\n        } else {\n            // 如果用户没有传入 isContent 参数，那就默认为 false\n            range.selectNode(elem)\n        }\n\n        if (toStart != null) {\n            // 传入了 toStart 参数，折叠选区。如果没传入 toStart 参数，则忽略这一步\n            range.collapse(toStart)\n        }\n\n        // 存储 range\n        this.saveRange(range)\n    }\n\n    /**\n     * 获取 当前 选取范围的 顶级(段落) 元素\n     * @param $editor\n     */\n    public getSelectionRangeTopNodes(editor: Editor): DomElement[] {\n        const item = new SelectionRangeTopNodes(editor)\n        item.init()\n        return item.getSelectionNodes()\n    }\n\n    /**\n     * 移动光标位置\n     * @param {Node} node 元素节点\n     * @param {Boolean} toStart 为true光标在开始位置 为false在结束位置 默认在结束位置\n     */\n    public moveCursor(node: Node, toStart: boolean = false) {\n        const range = this.getRange()\n        const pos = toStart ? 0 : node.childNodes.length\n\n        if (!range) {\n            return\n        }\n        if (node) {\n            range.setStart(node, pos)\n            range.setEnd(node, pos)\n            this.restoreSelection()\n        }\n    }\n}\n\nexport default SelectionAndRange\n","/**\n * @description 选取范围所有顶级(段落)节点\n * @author tonghan\n */\n\nimport $, { DomElement } from '../../utils/dom-core'\nimport Editor from '../index'\n\n// 构造函数\nclass SelectionRangeTopNodes {\n    // 定义属性\n    editor: Editor\n    $nodeList: DomElement[]\n    $startElem: DomElement | undefined\n    $endElem: DomElement | undefined\n\n    /**\n     * 构造函数\n     * @param editor\n     */\n    constructor(editor: Editor) {\n        // 初始化属性\n        this.editor = editor\n        this.$nodeList = []\n        this.$startElem = $(editor.selection.getSelectionStartElem()).getNodeTop(this.editor)\n        this.$endElem = $(editor.selection.getSelectionEndElem()).getNodeTop(this.editor)\n    }\n\n    /**\n     * 初始化\n     */\n    public init(): void {\n        this.recordSelectionNodes($(this.$startElem))\n    }\n\n    /**\n     * 添加 节点 到nodeList\n     * @param $node 节点\n     */\n    private addNodeList($node: DomElement | HTMLElement): void {\n        this.$nodeList.push($($node))\n    }\n\n    /**\n     * 是否是 选区结束 节点\n     * @param $node 节点\n     */\n    private isEndElem($node: DomElement): boolean | undefined {\n        return this.$endElem?.equal($node)\n    }\n\n    /**\n     * 获取当前节点的下一个兄弟节点\n     * @param $node 节点\n     */\n    private getNextSibling($node: DomElement): DomElement {\n        return $($node.elems[0].nextSibling)\n    }\n\n    /**\n     * 记录节点 - 从选区开始节点开始 一直到匹配到选区结束节点为止\n     * @param $node 节点\n     */\n    private recordSelectionNodes($node: DomElement): void {\n        const $elem = $node.getNodeTop(this.editor)\n        if ($elem.length > 0) {\n            this.addNodeList($elem)\n            if (!this.isEndElem($elem)) {\n                this.recordSelectionNodes(this.getNextSibling($elem))\n            }\n        }\n    }\n\n    /**\n     * 获取 选中节点列表\n     */\n    public getSelectionNodes(): DomElement[] {\n        return this.$nodeList\n    }\n}\n\n/**\n * 导出\n */\nexport default SelectionRangeTopNodes\n","/**\n * @description 封装 document.execCommand\n * @author wangfupeng\n */\n\nimport $, { DomElement } from '../utils/dom-core'\nimport Editor from './index'\n\nclass Command {\n    public editor: Editor\n\n    constructor(editor: Editor) {\n        this.editor = editor\n    }\n\n    /**\n     * 执行富文本操作的命令\n     * @param name name\n     * @param value value\n     */\n    public do(name: string, value?: string | DomElement): void {\n        const editor = this.editor\n\n        if (editor.config.styleWithCSS) {\n            document.execCommand('styleWithCSS', false, 'true')\n        }\n\n        const selection = editor.selection\n\n        // 如果无选区，忽略\n        if (!selection.getRange()) {\n            return\n        }\n\n        // 恢复选取\n        selection.restoreSelection()\n\n        // 执行\n        switch (name) {\n            case 'insertHTML':\n                this.insertHTML(value as string)\n                break\n            case 'insertElem':\n                this.insertElem(value as DomElement)\n                break\n            default:\n                // 默认 command\n                this.execCommand(name, value as string)\n                break\n        }\n\n        // 修改菜单状态\n        editor.menus.changeActive()\n\n        // 最后，恢复选取保证光标在原来的位置闪烁\n        selection.saveRange()\n        selection.restoreSelection()\n    }\n\n    /**\n     * 插入 html\n     * @param html html 字符串\n     */\n    private insertHTML(html: string): void {\n        const editor = this.editor\n        const range = editor.selection.getRange()\n        if (range == null) return\n\n        if (this.queryCommandSupported('insertHTML')) {\n            // W3C\n            this.execCommand('insertHTML', html)\n        } else if (range.insertNode) {\n            // IE\n            range.deleteContents()\n            range.insertNode($(html).elems[0])\n            editor.selection.collapseRange()\n        }\n        // else if (range.pasteHTML) {\n        //     // IE <= 10\n        //     range.pasteHTML(html)\n        // }\n    }\n\n    /**\n     * 插入 DOM 元素\n     * @param $elem DOM 元素\n     */\n    private insertElem($elem: DomElement): void {\n        const editor = this.editor\n        const range = editor.selection.getRange()\n        if (range == null) return\n\n        if (range.insertNode) {\n            range.deleteContents()\n            range.insertNode($elem.elems[0])\n        }\n    }\n\n    /**\n     * 执行 document.execCommand\n     * @param name name\n     * @param value value\n     */\n    private execCommand(name: string, value: string): void {\n        document.execCommand(name, false, value)\n    }\n\n    /**\n     * 执行 document.queryCommandValue\n     * @param name name\n     */\n    public queryCommandValue(name: string): string {\n        return document.queryCommandValue(name)\n    }\n\n    /**\n     * 执行 document.queryCommandState\n     * @param name name\n     */\n    public queryCommandState(name: string): boolean {\n        return document.queryCommandState(name)\n    }\n\n    /**\n     * 执行 document.queryCommandSupported\n     * @param name name\n     */\n    public queryCommandSupported(name: string): boolean {\n        return document.queryCommandSupported(name)\n    }\n}\n\nexport default Command\n","/**\n * @description 编辑区域，入口文件\n * @author wangfupeng\n */\n\nimport $, { DomElement } from '../utils/dom-core'\nimport Editor from '../editor/index'\nimport initEventHooks from './event-hooks/index'\nimport { UA, throttle } from '../utils/util'\nimport getChildrenJSON, { NodeListType } from './getChildrenJSON'\nimport getHtmlByNodeList from './getHtmlByNodeList'\n\n/** 按键函数 */\ntype KeyBoardHandler = (event: KeyboardEvent) => unknown\n/** 普通事件回调 */\ntype EventHandler = (event: Event) => unknown\n// 各个事件钩子函数\ntype TextEventHooks = {\n    changeEvents: (() => void)[] // 内容修改时\n    dropEvents: ((event: DragEvent) => unknown)[]\n    clickEvents: EventHandler[]\n    keyupEvents: KeyBoardHandler[]\n    /** tab 键（keyCode === ）Up 时 */\n    tabUpEvents: KeyBoardHandler[]\n    /** tab 键（keyCode === 9）Down 时 */\n    tabDownEvents: KeyBoardHandler[]\n    /** enter 键（keyCode === 13）up 时 */\n    enterUpEvents: KeyBoardHandler[]\n    /** enter 键（keyCode === 13）down 时 */\n    enterDownEvents: KeyBoardHandler[]\n    /** 删除键（keyCode === 8）up 时 */\n    deleteUpEvents: KeyBoardHandler[]\n    /** 删除键（keyCode === 8）down 时 */\n    deleteDownEvents: KeyBoardHandler[]\n    /** 粘贴事件 */\n    pasteEvents: ((e: ClipboardEvent) => void)[]\n    /** 点击链接事件 */\n    linkClickEvents: ((e: DomElement) => void)[]\n    /** 点击代码事件 */\n    codeClickEvents: ((e: DomElement) => void)[]\n    /** 编辑区域滑动事件 */\n    textScrollEvents: EventHandler[]\n    /** 菜单栏被点击 */\n    toolbarClickEvents: EventHandler[]\n    /** 图片被点击事件 */\n    imgClickEvents: ((e: DomElement) => void)[]\n    /** 图片拖拽MouseDown */\n    imgDragBarMouseDownEvents: (() => void)[]\n    /** 表格点击 */\n    tableClickEvents: ((e: DomElement) => void)[]\n    /** 每个菜单被点击时，按理说这个不属于 txt 的，先暂时在这放着吧 */\n    menuClickEvents: (() => void)[]\n    /** droplist 菜单悬浮事件。暂时放这里 */\n    dropListMenuHoverEvents: (() => void)[]\n    /** 点击分割线时 */\n    splitLineEvents: ((e: DomElement) => void)[]\n}\n\nclass Text {\n    public editor: Editor\n    public eventHooks: TextEventHooks // Text 各个事件的钩子函数，如 keyup 时要执行哪些函数\n\n    constructor(editor: Editor) {\n        this.editor = editor\n\n        this.eventHooks = {\n            changeEvents: [],\n            dropEvents: [],\n            clickEvents: [],\n            keyupEvents: [],\n            tabUpEvents: [],\n            tabDownEvents: [],\n            enterUpEvents: [],\n            enterDownEvents: [],\n            deleteUpEvents: [],\n            deleteDownEvents: [],\n            pasteEvents: [],\n            linkClickEvents: [],\n            codeClickEvents: [],\n            textScrollEvents: [],\n            toolbarClickEvents: [],\n            imgClickEvents: [],\n            imgDragBarMouseDownEvents: [],\n            tableClickEvents: [],\n            menuClickEvents: [],\n            dropListMenuHoverEvents: [],\n            splitLineEvents: [],\n        }\n    }\n\n    /**\n     * 初始化\n     */\n    public init(): void {\n        // 实时保存选取范围\n        this._saveRange()\n\n        // 绑定事件\n        this._bindEventHooks()\n\n        // 初始化 text 事件钩子函数\n        initEventHooks(this)\n    }\n\n    /**\n     * 切换placeholder\n     */\n    public togglePlaceholder(): void {\n        const html = this.html()\n        const $placeholder = this.editor.$textContainerElem.find('.placeholder')\n        $placeholder.hide()\n        if (!html || html === ' ') $placeholder.show()\n    }\n\n    /**\n     * 清空内容\n     */\n    public clear(): void {\n        this.html('<p><br></p>')\n    }\n\n    /**\n     * 设置/获取 html\n     * @param val html 字符串\n     */\n    public html(val?: string): void | string {\n        const editor = this.editor\n        const $textElem = editor.$textElem\n\n        // 没有 val ，则是获取 html\n        if (val == null) {\n            let html = $textElem.html()\n            // 未选中任何内容的时候点击“加粗”或者“斜体”等按钮，就得需要一个空的占位符 &#8203 ，这里替换掉\n            html = html.replace(/\\u200b/gm, '')\n            html = html.replace(/<p><\\/p>/gim, '') // 去掉空行\n            html = html.replace(/<p><br\\/?><\\/p>$/gim, '') // 去掉最后的 <p><br><p>\n\n            /**\n             * 这里的代码为了处理火狐多余的空行标签,但是强制删除空行标签会带来其他问题\n             * html()方法返回的的值,\"<p><br></p>\"中pr会被删除,只留下<p>,点不进去,从而产生垃圾数据\n             * 目前在末位有多个空行的情况下执行撤销重做操作,会产生一种不记录末尾空行的错觉\n             * 暂时注释, 等待进一步的兼容处理\n             */\n            // html = html.replace(/><br>(?!<)/gi, '>') // 过滤 <p><br>内容</p> 中的br\n            // html = html.replace(/(?!>)<br></gi, '<') // 过滤 <p>内容<br></p> 中的br\n\n            /**\n             * pre标签格式化\n             * html()方法理论上应当输出纯净的代码文本,但是对于是否解析html标签还没有良好的判断\n             * 如果去除hljs的标签,在解析状态下回显,会造成显示错误并且无法再通过hljs方法渲染\n             * 暂且其弃用\n             */\n            // html = formatCodeHtml(editor, html)\n\n            return html\n        }\n\n        // 有 val ，则是设置 html\n        val = val.trim()\n        if (val === '') {\n            val = `<p><br></p>`\n        }\n        if (val.indexOf('<') !== 0) {\n            // 内容用 p 标签包裹\n            val = `<p>${val}</p>`\n        }\n\n        $textElem.html(val)\n\n        // 初始化选区，将光标定位到内容尾部\n        editor.initSelection()\n    }\n\n    /**\n     * 将json设置成html至编辑器\n     * @param nodeList json格式\n     */\n    public setJSON(nodeList: NodeListType): void {\n        const html = getHtmlByNodeList(nodeList).children()\n        const editor = this.editor\n        const $textElem = editor.$textElem\n        // 没有获取到元素的情况\n        if (!html) return\n        // 替换文本节点下全部子节点\n        $textElem.replaceChildAll(html)\n    }\n\n    /**\n     * 获取 json 格式的数据\n     */\n    public getJSON(): NodeListType {\n        const editor = this.editor\n        const $textElem = editor.$textElem\n        return getChildrenJSON($textElem)\n    }\n\n    /**\n     * 设置 字符串内容\n     * @param val text 字符串\n     */\n    public text(val: string): void\n    /**\n     * 获取 字符串内容\n     */\n    public text(): string\n    public text(val?: string): void | string {\n        const editor = this.editor\n        const $textElem = editor.$textElem\n\n        // 没有 val ，是获取 text\n        if (val == null) {\n            let text = $textElem.text()\n            // 未选中任何内容的时候点击“加粗”或者“斜体”等按钮，就得需要一个空的占位符 &#8203 ，这里替换掉\n            text = text.replace(/\\u200b/gm, '')\n            return text\n        }\n\n        // 有 val ，则是设置 text\n        $textElem.text(`<p>${val}</p>`)\n\n        // 初始化选区，将光标定位到内容尾部\n        editor.initSelection()\n    }\n\n    /**\n     * 追加 html 内容\n     * @param html html 字符串\n     */\n    public append(html: string): void {\n        const editor = this.editor\n        const $textElem = editor.$textElem\n        if (html.indexOf('<') !== 0) {\n            // 普通字符串，用 <p> 包裹\n            html = `<p>${html}</p>`\n        }\n        $textElem.append($(html))\n\n        // 初始化选区，将光标定位到内容尾部\n        editor.initSelection()\n    }\n\n    /**\n     * 每一步操作，都实时保存选区范围\n     */\n    private _saveRange(): void {\n        const editor = this.editor\n        const $textElem = editor.$textElem\n\n        // 保存当前的选区\n        function saveRange() {\n            // 随时保存选区\n            editor.selection.saveRange()\n            // 更新按钮 active 状态\n            editor.menus.changeActive()\n        }\n\n        // 按键后保存\n        $textElem.on('keyup', saveRange)\n        $textElem.on('mousedown', () => {\n            // mousedown 状态下，鼠标滑动到编辑区域外面，也需要保存选区\n            $textElem.on('mouseleave', saveRange)\n        })\n\n        $textElem.on('mouseup', () => {\n            const selection = editor.selection\n            const range = selection.getRange()\n\n            if (range == null) return\n\n            const { startOffset, endOffset } = range\n            let endContainer: Node | undefined = range?.endContainer\n            // 修复当selection结束时，点击编辑器内部，保存选区异常的情况\n            if (startOffset !== endOffset && endContainer != null) {\n                range?.setStart(endContainer, endOffset)\n            }\n\n            saveRange()\n\n            // 在编辑器区域之内完成点击，取消鼠标滑动到编辑区外面的事件\n            $textElem.off('mouseleave', saveRange)\n        })\n    }\n\n    /**\n     * 绑定事件，事件会触发钩子函数\n     */\n    private _bindEventHooks(): void {\n        const editor = this.editor\n        const $textElem = editor.$textElem\n        const eventHooks = this.eventHooks\n\n        // click hooks\n        $textElem.on('click', (e: Event) => {\n            const clickEvents = eventHooks.clickEvents\n            clickEvents.forEach(fn => fn(e))\n        })\n\n        // enter 键 up 时的 hooks\n        $textElem.on('keyup', (e: KeyboardEvent) => {\n            if (e.keyCode !== 13) return\n            const enterUpEvents = eventHooks.enterUpEvents\n            enterUpEvents.forEach(fn => fn(e))\n        })\n\n        // 键盘 up 时的 hooks\n        $textElem.on('keyup', (e: KeyboardEvent) => {\n            const keyupEvents = eventHooks.keyupEvents\n            keyupEvents.forEach(fn => fn(e))\n        })\n\n        // delete 键 up 时 hooks\n        $textElem.on('keyup', (e: KeyboardEvent) => {\n            if (e.keyCode !== 8) return\n            const deleteUpEvents = eventHooks.deleteUpEvents\n            deleteUpEvents.forEach(fn => fn(e))\n        })\n\n        // delete 键 down 时 hooks\n        $textElem.on('keydown', (e: KeyboardEvent) => {\n            if (e.keyCode !== 8) return\n            const deleteDownEvents = eventHooks.deleteDownEvents\n            deleteDownEvents.forEach(fn => fn(e))\n        })\n\n        // 粘贴\n        $textElem.on('paste', (e: ClipboardEvent) => {\n            if (UA.isIE()) return // IE 不支持\n\n            // 阻止默认行为，使用 execCommand 的粘贴命令\n            e.preventDefault()\n\n            const pasteEvents = eventHooks.pasteEvents\n            pasteEvents.forEach(fn => fn(e))\n        })\n\n        // 撤销/恢复 快捷键\n        $textElem.on('keydown', (e: KeyboardEvent) => {\n            if (\n                // 编辑器处于聚焦状态下（多编辑器实例） || 当前处于兼容模式（兼容模式撤销/恢复后不聚焦，所以直接过，但会造成多编辑器同时撤销/恢复）\n                (editor.isFocus || editor.isCompatibleMode) &&\n                (e.ctrlKey || e.metaKey) &&\n                e.keyCode === 90\n            ) {\n                // 取消默认行为\n                e.preventDefault()\n                // 执行事件\n                if (e.shiftKey) {\n                    // 恢复\n                    editor.history.restore()\n                } else {\n                    // 撤销\n                    editor.history.revoke()\n                }\n            }\n        })\n\n        // tab up\n        $textElem.on('keyup', (e: KeyboardEvent) => {\n            if (e.keyCode !== 9) return\n            e.preventDefault()\n            const tabUpEvents = eventHooks.tabUpEvents\n            tabUpEvents.forEach(fn => fn(e))\n        })\n\n        // tab down\n        $textElem.on('keydown', (e: KeyboardEvent) => {\n            if (e.keyCode !== 9) return\n            e.preventDefault()\n            const tabDownEvents = eventHooks.tabDownEvents\n            tabDownEvents.forEach(fn => fn(e))\n        })\n\n        // 文本编辑区域 滚动时触发\n        $textElem.on(\n            'scroll',\n            // 使用节流\n            throttle((e: Event) => {\n                const textScrollEvents = eventHooks.textScrollEvents\n                textScrollEvents.forEach(fn => fn(e))\n            }, 100)\n        )\n\n        // 拖拽相关的事件\n        function preventDefault(e: Event) {\n            // 禁用 document 拖拽事件\n            e.preventDefault()\n        }\n\n        $(document)\n            .on('dragleave', preventDefault)\n            .on('drop', preventDefault)\n            .on('dragenter', preventDefault)\n            .on('dragover', preventDefault)\n        // 全局事件在编辑器实例销毁的时候进行解绑\n        editor.beforeDestroy(function () {\n            $(document)\n                .off('dragleave', preventDefault)\n                .off('drop', preventDefault)\n                .off('dragenter', preventDefault)\n                .off('dragover', preventDefault)\n        })\n\n        $textElem.on('drop', (e: DragEvent) => {\n            e.preventDefault()\n            const events = eventHooks.dropEvents\n            events.forEach(fn => fn(e))\n        })\n\n        // link click\n        $textElem.on('click', (e: Event) => {\n            // 存储链接元素\n            let $link: DomElement | null = null\n\n            const target = e.target as HTMLElement\n            const $target = $(target)\n            if ($target.getNodeName() === 'A') {\n                // 当前点击的就是一个链接\n                $link = $target\n            } else {\n                // 否则，向父节点中寻找链接\n                const $parent = $target.parentUntil('a')\n                if ($parent != null) {\n                    // 找到了\n                    $link = $parent\n                }\n            }\n\n            if (!$link) return // 没有点击链接，则返回\n\n            const linkClickEvents = eventHooks.linkClickEvents\n            linkClickEvents.forEach(fn => fn($link as DomElement))\n        })\n\n        // img click\n        $textElem.on('click', (e: Event) => {\n            // 存储图片元素\n            let $img: DomElement | null = null\n\n            const target = e.target as HTMLElement\n            const $target = $(target)\n\n            //处理图片点击 判断是否是表情 根据 不存在class或者className!==eleImg、没有alt属性\n            if (\n                $target.getNodeName() === 'IMG' &&\n                (!$target.elems[0].getAttribute('class') ||\n                    $target.elems[0].getAttribute('class') !== 'eleImg') &&\n                !$target.elems[0].getAttribute('alt')\n            ) {\n                // 当前点击的就是img\n                e.stopPropagation()\n                $img = $target\n            }\n            if (!$img) return // 没有点击图片，则返回\n\n            const imgClickEvents = eventHooks.imgClickEvents\n            imgClickEvents.forEach(fn => fn($img as DomElement))\n        })\n\n        // code click\n        $textElem.on('click', (e: Event) => {\n            // 存储代码元素\n            let $code: DomElement | null = null\n\n            const target = e.target as HTMLElement\n            const $target = $(target)\n            if ($target.getNodeName() === 'PRE') {\n                // 当前点击的就是一个链接\n                $code = $target\n            } else {\n                // 否则，向父节点中寻找链接\n                const $parent = $target.parentUntil('pre')\n                if ($parent !== null) {\n                    // 找到了\n                    $code = $parent\n                }\n            }\n\n            if (!$code) return\n\n            const codeClickEvents = eventHooks.codeClickEvents\n            codeClickEvents.forEach(fn => fn($code as DomElement))\n        })\n\n        // splitLine click\n        $textElem.on('click', (e: Event) => {\n            // 存储分割线元素\n            let $splitLine: DomElement | null = null\n\n            const target = e.target as HTMLElement\n            const $target = $(target)\n            // 判断当前点击元素\n            if ($target.getNodeName() === 'HR') {\n                $splitLine = $target\n            } else {\n                $target == null\n            }\n\n            if (!$splitLine) return // 没有点击分割线，则返回\n            // 设置、恢复选区\n            editor.selection.createRangeByElem($splitLine)\n            editor.selection.restoreSelection()\n            const splitLineClickEvents = eventHooks.splitLineEvents\n            splitLineClickEvents.forEach(fn => fn($splitLine as DomElement))\n        })\n\n        // 菜单栏被点击\n        editor.$toolbarElem.on('click', (e: Event) => {\n            const toolbarClickEvents = eventHooks.toolbarClickEvents\n            toolbarClickEvents.forEach(fn => fn(e))\n        })\n\n        //mousedown事件\n        editor.$textContainerElem.on('mousedown', (e: MouseEvent) => {\n            const target = e.target as HTMLElement\n            const $target = $(target)\n            if ($target.hasClass('w-e-img-drag-rb')) {\n                // 点击的元素，是图片拖拽调整大小的 bar\n                const imgDragBarMouseDownEvents = eventHooks.imgDragBarMouseDownEvents\n                imgDragBarMouseDownEvents.forEach(fn => fn())\n            }\n        })\n\n        //table click\n        $textElem.on('click', (e: Event) => {\n            // 存储元素\n            let $dom: DomElement | null = null\n\n            const target = e.target as HTMLElement\n\n            //获取最祖父元素\n            $dom = $(target).parentUntilEditor('TABLE', editor, target)\n\n            // 没有table范围内，则返回\n            if (!$dom) return\n\n            const tableClickEvents = eventHooks.tableClickEvents\n            tableClickEvents.forEach(fn => fn($dom as DomElement))\n        })\n\n        // enter 键 down\n        $textElem.on('keydown', (e: KeyboardEvent) => {\n            if (e.keyCode !== 13) return\n            const enterDownEvents = eventHooks.enterDownEvents\n            enterDownEvents.forEach(fn => fn(e))\n        })\n    }\n}\n\nexport default Text\n","var parent = require('../../es/instance/find');\n\nmodule.exports = parent;\n","var find = require('../array/virtual/find');\n\nvar ArrayPrototype = Array.prototype;\n\nmodule.exports = function (it) {\n  var own = it.find;\n  return it === ArrayPrototype || (it instanceof Array && own === ArrayPrototype.find) ? find : own;\n};\n","require('../../../modules/es.array.find');\nvar entryVirtual = require('../../../internals/entry-virtual');\n\nmodule.exports = entryVirtual('Array').find;\n","'use strict';\nvar $ = require('../internals/export');\nvar $find = require('../internals/array-iteration').find;\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar FIND = 'find';\nvar SKIPS_HOLES = true;\n\nvar USES_TO_LENGTH = arrayMethodUsesToLength(FIND);\n\n// Shouldn't skip holes\nif (FIND in []) Array(1)[FIND](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.find` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.find\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES || !USES_TO_LENGTH }, {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND);\n","/**\n * @description Text 事件钩子函数。Text 公共的，不是某个菜单独有的\n * @wangfupeng\n */\n\nimport Text from '../index'\nimport enterToCreateP from './enter-to-create-p'\nimport deleteToKeepP from './del-to-keep-p'\nimport tabToSpan from './tab-to-space'\nimport pasteTextHtml from './paste-text-html'\nimport imgClickActive from './img-click-active'\n\n/**\n * 初始化 text 事件钩子函数\n * @param text text 实例\n */\nfunction initTextHooks(text: Text): void {\n    const editor = text.editor\n    const eventHooks = text.eventHooks\n\n    // 回车时，保证生成的是 <p> 标签\n    enterToCreateP(editor, eventHooks.enterUpEvents, eventHooks.enterDownEvents)\n\n    // 删除时，保留 <p><br></p>\n    deleteToKeepP(editor, eventHooks.deleteUpEvents, eventHooks.deleteDownEvents)\n\n    // tab 转换为空格\n    tabToSpan(editor, eventHooks.tabDownEvents)\n\n    // 粘贴 text html\n    pasteTextHtml(editor, eventHooks.pasteEvents)\n\n    // img click active\n    imgClickActive(editor, eventHooks.imgClickEvents)\n}\n\nexport default initTextHooks\n","/**\n * @description 回车时，保证生成的是 <p> 标签\n * @author wangfupeng\n */\n\nimport Editor from '../../editor/index'\nimport $, { DomElement } from '../../utils/dom-core'\n\n/**\n * 回车时，保证生成的是 <p> 标签\n * @param editor 编辑器实例\n * @param enterUpEvents enter 键 up 时的 hooks\n * @param enterDownEvents enter 键 down 时的 hooks\n */\nfunction enterToCreateP(editor: Editor, enterUpEvents: Function[], enterDownEvents: Function[]) {\n    function insertEmptyP($selectionElem: DomElement) {\n        const $p = $('<p><br></p>')\n        $p.insertBefore($selectionElem)\n        editor.selection.createRangeByElem($p, true)\n        editor.selection.restoreSelection()\n        $selectionElem.remove()\n    }\n\n    // enter up 时\n    function fn() {\n        const $textElem = editor.$textElem\n        const $selectionElem = editor.selection.getSelectionContainerElem() as DomElement\n        const $parentElem = $selectionElem.parent()\n\n        if ($parentElem.html() === '<code><br></code>') {\n            // 回车之前光标所在一个 <p><code>.....</code></p> ，忽然回车生成一个空的 <p><code><br></code></p>\n            // 而且继续回车跳不出去，因此只能特殊处理\n            insertEmptyP($selectionElem)\n            return\n        }\n\n        if (!$parentElem.equal($textElem)) {\n            // 不是顶级标签\n            return\n        }\n\n        const nodeName = $selectionElem.getNodeName()\n        if (nodeName === 'P') {\n            // 当前的标签是 P ，不用做处理\n            return\n        }\n\n        if ($selectionElem.text()) {\n            // 有内容，不做处理\n            return\n        }\n\n        // 插入 <p> ，并将选取定位到 <p>，删除当前标签\n        insertEmptyP($selectionElem)\n    }\n    enterUpEvents.push(fn)\n\n    // enter down 时\n    function createPWhenEnterText(e: Event) {\n        // selection中的range缓存还有问题,更新不及时,此处手动更新range,处理enter的bug\n        editor.selection.saveRange(getSelection()?.getRangeAt(0))\n        const $selectElem = editor.selection.getSelectionContainerElem() as DomElement\n        if ($selectElem.id === editor.textElemId) {\n            // 回车时，默认创建了 text 标签（没有 p 标签包裹），父元素直接就是 $textElem\n            // 例如，光标放在 table 最后侧，回车时，默认就是这个情况\n            e.preventDefault()\n            editor.cmd.do('insertHTML', '<p><br></p>')\n        }\n    }\n    enterDownEvents.push(createPWhenEnterText)\n}\n\nexport default enterToCreateP\n","/**\n * @description 删除时保留 <p><br></p>\n * @author wangfupeng\n */\n\nimport Editor from '../../editor/index'\nimport $ from '../../utils/dom-core'\n\n/**\n * 删除时保留 <p><br></p>\n * @param editor 编辑器实例\n * @param deleteUpEvents delete 键 up 时的 hooks\n * @param deleteDownEvents delete 建 down 时的 hooks\n */\nfunction deleteToKeepP(editor: Editor, deleteUpEvents: Function[], deleteDownEvents: Function[]) {\n    function upFn() {\n        const $textElem = editor.$textElem\n        const txtHtml = $textElem.html().toLowerCase().trim()\n\n        // firefox 时用 txtHtml === '<br>' 判断，其他用 !txtHtml 判断\n        if (!txtHtml || txtHtml === '<br>') {\n            // 内容空了\n            const $p = $('<p><br/></p>')\n            $textElem.html(' ') // 一定要先清空，否则在 firefox 下有问题\n            $textElem.append($p)\n            editor.selection.createRangeByElem($p, false, true)\n            editor.selection.restoreSelection()\n            // 设置折叠后的光标位置，在firebox等浏览器下\n            // 光标设置在end位置会自动换行\n            editor.selection.moveCursor($p.getNode(), true)\n        }\n    }\n    deleteUpEvents.push(upFn)\n\n    function downFn(e: Event) {\n        const $textElem = editor.$textElem\n        const txtHtml = $textElem.html().toLowerCase().trim()\n        if (txtHtml === '<p><br></p>') {\n            // 最后剩下一个空行，就不再删除了\n            e.preventDefault()\n            return\n        }\n    }\n    deleteDownEvents.push(downFn)\n}\n\nexport default deleteToKeepP\n","/**\n * @description 编辑区域 tab 的特殊处理\n * @author wangfupeng\n */\n\nimport Editor from '../../editor/index'\n\n/**\n * 编辑区域 tab 的特殊处理，转换为空格\n * @param editor 编辑器实例\n * @param tabDownEvents tab down 事件钩子\n */\nfunction tabHandler(editor: Editor, tabDownEvents: Function[]) {\n    // 定义函数\n    function fn() {\n        if (!editor.cmd.queryCommandSupported('insertHTML')) {\n            // 必须原生支持 insertHTML 命令\n            return\n        }\n        const $selectionElem = editor.selection.getSelectionContainerElem()\n        if (!$selectionElem) {\n            return\n        }\n        const $parentElem = $selectionElem.parent()\n        const selectionNodeName = $selectionElem.getNodeName()\n        const parentNodeName = $parentElem.getNodeName()\n\n        if (\n            selectionNodeName == 'CODE' ||\n            parentNodeName === 'CODE' ||\n            parentNodeName === 'PRE' ||\n            /hljs/.test(parentNodeName)\n        ) {\n            // <pre><code> 里面\n            editor.cmd.do('insertHTML', editor.config.languageTab)\n        } else {\n            // 普通文字\n            editor.cmd.do('insertHTML', '&nbsp;&nbsp;&nbsp;&nbsp;')\n        }\n    }\n\n    // 保留函数\n    tabDownEvents.push(fn)\n}\n\nexport default tabHandler\n","/**\n * @description 粘贴 text html\n * @author wangfupeng\n */\n\nimport Editor from '../../editor/index'\nimport { getPasteText, getPasteHtml } from '../paste/paste-event'\nimport { isFunction } from '../../utils/util'\nimport { urlRegex } from '../../utils/const'\n\n/**\n * 格式化html\n * @param val 粘贴的html\n * @author liuwei\n */\nfunction formatHtml(val: string) {\n    let pasteText = val\n    // div 全部替换为 p 标签\n    pasteText = pasteText.replace(/<div>/gim, '<p>').replace(/<\\/div>/gim, '</p>')\n    // 不允许空行，放在最后\n    pasteText = pasteText.replace(/<p><\\/p>/gim, '<p><br></p>')\n    // 去除''\n    return pasteText.trim()\n}\n\n/**\n * 格式化html\n * @param val 粘贴的html\n * @author liuwei\n */\nfunction formatCode(val: string) {\n    let pasteText = val.replace(/<br>|<br\\/>/gm, '\\n').replace(/<[^>]+>/gm, '')\n\n    return pasteText\n}\n\n/**\n * 粘贴文本和 html\n * @param editor 编辑器对象\n * @param pasteEvents 粘贴事件列表\n */\nfunction pasteTextHtml(editor: Editor, pasteEvents: Function[]) {\n    function fn(e: Event) {\n        // 获取配置\n        const config = editor.config\n        const pasteFilterStyle = config.pasteFilterStyle\n        const pasteIgnoreImg = config.pasteIgnoreImg\n        const pasteTextHandle = config.pasteTextHandle\n\n        // 获取粘贴的文字\n        let pasteHtml = getPasteHtml(e as ClipboardEvent, pasteFilterStyle, pasteIgnoreImg)\n        let pasteText = getPasteText(e as ClipboardEvent)\n        pasteText = pasteText.replace(/\\n/gm, '<br>')\n\n        // 当前选区所在的 DOM 节点\n        const $selectionElem = editor.selection.getSelectionContainerElem()\n        if (!$selectionElem) {\n            return\n        }\n        const nodeName = $selectionElem?.getNodeName()\n        const $topElem = $selectionElem?.getNodeTop(editor)\n\n        // 当前节点顶级可能没有\n        let topNodeName: string = ''\n        if ($topElem.elems[0]) {\n            topNodeName = $topElem?.getNodeName()\n        }\n        // code 中只能粘贴纯文本\n        if (nodeName === 'CODE' || topNodeName === 'PRE') {\n            if (pasteTextHandle && isFunction(pasteTextHandle)) {\n                // 用户自定义过滤处理粘贴内容\n                pasteText = '' + (pasteTextHandle(pasteText) || '')\n            }\n            editor.cmd.do('insertHTML', formatCode(pasteText))\n            return\n        }\n\n        // 如果复制进来的是url链接则插入时将它转为链接\n        if (urlRegex.test(pasteText)) {\n            return editor.cmd.do(\n                'insertHTML',\n                `<a href=\"${pasteText}\" target=\"_blank\">${pasteText}</a>`\n            )\n        }\n\n        // table 中（td、th），待开发。。。\n\n        if (!pasteHtml) {\n            return\n        }\n\n        try {\n            // firefox 中，获取的 pasteHtml 可能是没有 <ul> 包裹的 <li>\n            // 因此执行 insertHTML 会报错\n            if (pasteTextHandle && isFunction(pasteTextHandle)) {\n                // 用户自定义过滤处理粘贴内容\n                pasteHtml = '' + (pasteTextHandle(pasteHtml) || '') // html\n            }\n            editor.cmd.do('insertHTML', `${formatHtml(pasteHtml)}`)\n        } catch (ex) {\n            // 此时使用 pasteText 来兼容一下\n            if (pasteTextHandle && isFunction(pasteTextHandle)) {\n                // 用户自定义过滤处理粘贴内容\n                pasteText = '' + (pasteTextHandle(pasteText) || '')\n            }\n            editor.cmd.do('insertHTML', `${formatHtml(pasteText)}`) // text\n        }\n    }\n\n    pasteEvents.push(fn)\n}\n\nexport default pasteTextHtml\n","/**\n * @description 将粘贴的 html 字符串，转换为正确、简洁的 html 代码。剔除不必要的标签和属性。\n * @author wangfupeng\n */\n\nimport { EMPTY_TAGS, IGNORE_TAGS, NECESSARY_ATTRS } from './tags'\nimport HtmlParser from '../../lib/simplehtmlparser.js'\n\ntype AttrType = {\n    name: string\n    value: string\n}\n\n/**\n * 过滤掉空 span\n * @param html html\n */\nfunction filterEmptySpan(html: string): string {\n    const regForReplace = /<span>.*?<\\/span>/gi\n    const regForMatch = /<span>(.*?)<\\/span>/\n    return html.replace(regForReplace, (s: string): string => {\n        // s 是单个 span ，如 <span>文字</span>\n        const result = s.match(regForMatch)\n        if (result == null) return ''\n        return result[1]\n    })\n}\n\n/**\n * 是否忽略标签\n * @param tag tag\n * @param ignoreImg 是否忽略 img 标签\n */\nfunction isIgnoreTag(tag: string, ignoreImg: boolean): boolean {\n    tag = tag.toLowerCase().trim()\n\n    // 忽略的标签\n    if (IGNORE_TAGS.has(tag)) {\n        return true\n    }\n\n    // 是否忽略图片\n    if (ignoreImg) {\n        if (tag === 'img') {\n            return true\n        }\n    }\n\n    return false\n}\n\n/**\n * 为 tag 生成 html 字符串，开始部分\n * @param tag tag\n * @param attrs 属性\n */\nfunction genStartHtml(tag: string, attrs: AttrType[]): string {\n    let result = ''\n\n    // tag < 符号\n    result = `<${tag}`\n\n    // 拼接属性\n    let attrStrArr: string[] = []\n    attrs.forEach((attr: AttrType) => {\n        attrStrArr.push(`${attr.name}=\"${attr.value}\"`)\n    })\n    if (attrStrArr.length > 0) {\n        result = result + ' ' + attrStrArr.join(' ')\n    }\n\n    // tag > 符号\n    const isEmpty = EMPTY_TAGS.has(tag) // 没有子节点或文本的标签，如 img\n    result = result + (isEmpty ? '/' : '') + '>'\n\n    return result\n}\n\n/**\n * 为 tag 生成 html 字符串，结尾部分\n * @param tag tag\n */\nfunction genEndHtml(tag: string) {\n    return `</${tag}>`\n}\n\n/**\n * 处理粘贴的 html\n * @param html html 字符串\n * @param filterStyle 是否过滤 style 样式\n * @param ignoreImg 是否忽略 img 标签\n */\nfunction parseHtml(html: string, filterStyle: boolean = true, ignoreImg: boolean = false): string {\n    let resultArr: string[] = [] // 存储结果，数组形式，最后再 join\n\n    // 当前正在处理的标签，以及记录和清除的方法\n    let CUR_TAG = ''\n    function markTagStart(tag: string): void {\n        tag = tag.trim()\n        if (!tag) return\n        if (EMPTY_TAGS.has(tag)) return // 内容为空的标签，如 img ，不用记录\n        CUR_TAG = tag\n    }\n    function markTagEnd(): void {\n        CUR_TAG = ''\n    }\n\n    // 能通过 'text/html' 格式获取 html\n    const htmlParser = new HtmlParser()\n    htmlParser.parse(html, {\n        startElement(tag: string, attrs: []) {\n            // 首先，标记开始\n            markTagStart(tag)\n\n            // 忽略的标签\n            if (isIgnoreTag(tag, ignoreImg)) {\n                return\n            }\n\n            // 找出该标签必须的属性（其他的属性忽略）\n            const necessaryAttrKeys = NECESSARY_ATTRS.get(tag) || []\n            const attrsForTag: AttrType[] = []\n            attrs.forEach((attr: AttrType) => {\n                // 属性名\n                const name = attr.name\n\n                // style 单独处理\n                if (name === 'style') {\n                    // 保留 style 样式\n                    if (!filterStyle) {\n                        attrsForTag.push(attr)\n                    }\n                    return\n                }\n\n                // 除了 style 之外的其他属性\n                if (necessaryAttrKeys.includes(name) === false) {\n                    // 不是必须的属性，忽略\n                    return\n                }\n                attrsForTag.push(attr)\n            })\n\n            // 拼接为 HTML 标签\n            const html = genStartHtml(tag, attrsForTag)\n            resultArr.push(html)\n        },\n        characters(str: string) {\n            if (!str) {\n                return\n            }\n\n            // 忽略的标签\n            // 如果复制拿到的内容是 `<body><html>这种形式无法成功粘贴</html></body>`\n            if (isIgnoreTag(CUR_TAG, ignoreImg) && /^</.test(str)) {\n                return\n            }\n\n            resultArr.push(str)\n        },\n        endElement(tag: string) {\n            // 忽略的标签\n            if (isIgnoreTag(tag, ignoreImg)) {\n                return\n            }\n\n            // 拼接为 HTML 标签\n            const html = genEndHtml(tag)\n            resultArr.push(html)\n\n            // 最后，标记结束\n            markTagEnd()\n        },\n        comment(str: string) {\n            /* 注释，不做处理 */\n        },\n    })\n\n    let result = resultArr.join('') // 转换为字符串\n\n    // 过滤掉空 span 标签\n    result = filterEmptySpan(result)\n\n    return result\n}\n\nexport default parseHtml\n","/**\n * @description 粘贴相关的 tags\n * @author wangfupeng\n */\n\n// 忽略的标签\nexport const IGNORE_TAGS = new Set([\n    'doctype',\n    '!doctype',\n    'html',\n    'head',\n    'meta',\n    'body',\n    'script',\n    'style',\n    'link',\n    'frame',\n    'iframe',\n    'title',\n    'svg', // 暂时忽略，有需要再修改\n    'center',\n])\n\n// 指定标签必要的属性\nexport const NECESSARY_ATTRS = new Map([\n    ['img', ['src', 'alt']],\n    ['a', ['href', 'target']],\n    ['td', ['colspan', 'rowspan']],\n    ['th', ['colspan', 'rowspan']],\n])\n\n// 没有子节点或文本的标签\nexport const EMPTY_TAGS = new Set([\n    'area',\n    'base',\n    'basefont',\n    'br',\n    'col',\n    'hr',\n    'img',\n    'input',\n    'isindex',\n    'embed',\n])\n\n// 编辑区域顶级节点\nexport const TOP_LEVEL_TAGS = new Set([\n    'h1',\n    'h2',\n    'h3',\n    'h4',\n    'h5',\n    'p',\n    'ul',\n    'ol',\n    'table',\n    'blockquote', // 引用\n    'pre', // 代码\n    'hr',\n    'form',\n])\n","var parent = require('../../es/set');\n\nmodule.exports = parent;\n","require('../../modules/es.set');\nrequire('../../modules/es.object.to-string');\nrequire('../../modules/es.string.iterator');\nrequire('../../modules/web.dom-collections.iterator');\nvar path = require('../../internals/path');\n\nmodule.exports = path.Set;\n","'use strict';\nvar collection = require('../internals/collection');\nvar collectionStrong = require('../internals/collection-strong');\n\n// `Set` constructor\n// https://tc39.github.io/ecma262/#sec-set-objects\nmodule.exports = collection('Set', function (init) {\n  return function Set() { return init(this, arguments.length ? arguments[0] : undefined); };\n}, collectionStrong);\n","// Copyright 2004 Erik Arvidsson. All Rights Reserved.\n//\n// This code is triple licensed using Apache Software License 2.0,\n// Mozilla Public License or GNU Public License\n//\n///////////////////////////////////////////////////////////////////////////////\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\"); you may not\n// use this file except in compliance with the License.  You may obtain a copy\n// of the License at http://www.apache.org/licenses/LICENSE-2.0\n//\n///////////////////////////////////////////////////////////////////////////////\n//\n// The contents of this file are subject to the Mozilla Public License\n// Version 1.1 (the \"License\"); you may not use this file except in\n// compliance with the License. You may obtain a copy of the License at\n// http://www.mozilla.org/MPL/\n//\n// Software distributed under the License is distributed on an \"AS IS\"\n// basis, WITHOUT WARRANTY OF ANY KIND, either express or implied. See the\n// License for the specific language governing rights and limitations\n// under the License.\n//\n// The Original Code is Simple HTML Parser.\n//\n// The Initial Developer of the Original Code is Erik Arvidsson.\n// Portions created by Erik Arvidssson are Copyright (C) 2004. All Rights\n// Reserved.\n//\n///////////////////////////////////////////////////////////////////////////////\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n///////////////////////////////////////////////////////////////////////////////\n\n/*\nvar handler ={\n\tstartElement:   function (sTagName, oAttrs) {},\n\tendElement:     function (sTagName) {},\n    characters:\t\tfunction (s) {},\n    comment:\t\tfunction (s) {}\n};\n*/\n\nfunction SimpleHtmlParser() {}\n\nSimpleHtmlParser.prototype = {\n    handler: null,\n\n    // regexps\n\n    startTagRe: /^<([^>\\s\\/]+)((\\s+[^=>\\s]+(\\s*=\\s*((\\\"[^\"]*\\\")|(\\'[^']*\\')|[^>\\s]+))?)*)\\s*\\/?\\s*>/m,\n    endTagRe: /^<\\/([^>\\s]+)[^>]*>/m,\n    attrRe: /([^=\\s]+)(\\s*=\\s*((\\\"([^\"]*)\\\")|(\\'([^']*)\\')|[^>\\s]+))?/gm,\n\n    parse: function (s, oHandler) {\n        if (oHandler) this.contentHandler = oHandler\n\n        var i = 0\n        var res, lc, lm, rc, index\n        var treatAsChars = false\n        var oThis = this\n        while (s.length > 0) {\n            // Comment\n            if (s.substring(0, 4) == '<!--') {\n                index = s.indexOf('-->')\n                if (index != -1) {\n                    this.contentHandler.comment(s.substring(4, index))\n                    s = s.substring(index + 3)\n                    treatAsChars = false\n                } else {\n                    treatAsChars = true\n                }\n            }\n\n            // end tag\n            else if (s.substring(0, 2) == '</') {\n                if (this.endTagRe.test(s)) {\n                    lc = RegExp.leftContext\n                    lm = RegExp.lastMatch\n                    rc = RegExp.rightContext\n\n                    lm.replace(this.endTagRe, function () {\n                        return oThis.parseEndTag.apply(oThis, arguments)\n                    })\n\n                    s = rc\n                    treatAsChars = false\n                } else {\n                    treatAsChars = true\n                }\n            }\n            // start tag\n            else if (s.charAt(0) == '<') {\n                if (this.startTagRe.test(s)) {\n                    lc = RegExp.leftContext\n                    lm = RegExp.lastMatch\n                    rc = RegExp.rightContext\n\n                    lm.replace(this.startTagRe, function () {\n                        return oThis.parseStartTag.apply(oThis, arguments)\n                    })\n\n                    s = rc\n                    treatAsChars = false\n                } else {\n                    treatAsChars = true\n                }\n            }\n\n            if (treatAsChars) {\n                index = s.indexOf('<')\n                if (index == -1) {\n                    this.contentHandler.characters(s)\n                    s = ''\n                } else {\n                    this.contentHandler.characters(s.substring(0, index))\n                    s = s.substring(index)\n                }\n            }\n\n            treatAsChars = true\n        }\n    },\n\n    parseStartTag: function (sTag, sTagName, sRest) {\n        var attrs = this.parseAttributes(sTagName, sRest)\n        this.contentHandler.startElement(sTagName, attrs)\n    },\n\n    parseEndTag: function (sTag, sTagName) {\n        this.contentHandler.endElement(sTagName)\n    },\n\n    parseAttributes: function (sTagName, s) {\n        var oThis = this\n        var attrs = []\n        s.replace(this.attrRe, function (a0, a1, a2, a3, a4, a5, a6) {\n            attrs.push(oThis.parseAttribute(sTagName, a0, a1, a2, a3, a4, a5, a6))\n        })\n        return attrs\n    },\n\n    parseAttribute: function (sTagName, sAttribute, sName) {\n        var value = ''\n        if (arguments[7]) value = arguments[8]\n        else if (arguments[5]) value = arguments[6]\n        else if (arguments[3]) value = arguments[4]\n\n        var empty = !value && !arguments[3]\n        return { name: sName, value: empty ? null : value }\n    },\n}\n\n// export default SimpleHtmlParser\nmodule.exports = SimpleHtmlParser\n","/**\n * @description 图片点击后选区更新到img的位置\n * @author tonghan\n */\n\nimport Editor from '../../editor/index'\nimport { DomElement } from '../../utils/dom-core'\n\n/**\n * 图片点击后选区更新到img的位置\n * @param editor 编辑器实例\n * @param imgClickEvents delete 键 up 时的 hooks\n */\nfunction imgClickActive(editor: Editor, imgClickEvents: Function[]) {\n    function clickFn($img: DomElement) {\n        editor.selection.createRangeByElem($img)\n        editor.selection.restoreSelection()\n    }\n    imgClickEvents.push(clickFn)\n}\n\nexport default imgClickActive\n","/**\n * @description 获取子元素的 JSON 格式数据\n * @author wangfupeng\n */\n\nimport { replaceHtmlSymbol } from '../utils/util'\nimport $, { DomElement } from '../utils/dom-core'\n\ntype AttrType = {\n    name: string\n    value: string\n}\nexport type NodeType = {\n    tag: string\n    attrs: AttrType[]\n    children: NodeListType\n}\nexport type NodeListType = Array<string | NodeType>\n\n/**\n * 获取子元素的 JSON 格式数据\n * @param $elem DOM 节点\n */\nfunction getChildrenJSON($elem: DomElement): NodeListType {\n    const result: NodeListType = [] // 存储结果\n\n    const $children = $elem.childNodes() || [] // 注意 childNodes() 可以获取文本节点\n    $children.forEach((curElem: HTMLElement) => {\n        let elemResult\n        const nodeType = curElem.nodeType\n\n        // 文本节点\n        if (nodeType === 3) {\n            elemResult = curElem.textContent || ''\n            elemResult = replaceHtmlSymbol(elemResult)\n        }\n\n        // 普通 DOM 节点\n        if (nodeType === 1) {\n            elemResult = {}\n            elemResult = elemResult as NodeType\n\n            // tag\n            elemResult.tag = curElem.nodeName.toLowerCase()\n            // attr\n            const attrData = []\n            const attrList = curElem.attributes || []\n            const attrListLength = attrList.length || 0\n            for (let i = 0; i < attrListLength; i++) {\n                const attr = attrList[i]\n                attrData.push({\n                    name: attr.name,\n                    value: attr.value,\n                })\n            }\n            elemResult.attrs = attrData\n            // children（递归）\n            elemResult.children = getChildrenJSON($(curElem))\n        }\n\n        if (elemResult) {\n            result.push(elemResult)\n        }\n    })\n    return result\n}\n\nexport default getChildrenJSON\n","/**\n * @description 从nodeList json格式中遍历生成dom元素\n * @author zhengwenjian\n */\n\nimport $, { DomElement } from './../utils/dom-core'\nimport { NodeListType } from './getChildrenJSON'\n\nfunction getHtmlByNodeList(\n    nodeList: NodeListType,\n    parent: Node = document.createElement('div')\n): DomElement {\n    // 设置一个父节点存储所有子节点\n    let root = parent\n\n    // 遍历节点JSON\n    nodeList.forEach(item => {\n        let elem: Text | Node | undefined\n\n        // 当为文本节点时\n        if (typeof item === 'string') {\n            elem = document.createTextNode(item)\n        }\n\n        // 当为普通节点时\n        if (typeof item === 'object') {\n            elem = document.createElement(item.tag)\n            item.attrs.forEach(attr => {\n                $(elem).attr(attr.name, attr.value)\n            })\n\n            // 有子节点时递归将子节点加入当前节点\n            if (item.children && item.children.length > 0) {\n                getHtmlByNodeList(item.children, elem.getRootNode())\n            }\n        }\n        elem && root.appendChild(elem)\n    })\n    return $(root)\n}\n\nexport default getHtmlByNodeList\n","/**\n * @description Menus 菜单栏 入口文件\n * @author wangfupeng\n */\n\nimport Editor from '../editor/index'\nimport Menu from './menu-constructors/Menu'\nimport MenuConstructorList, { MenuListType } from './menu-list'\n\n// import { MenuActive } from './menu-constructors/Menu'\n\nclass Menus {\n    public editor: Editor\n    public menuList: Menu[]\n    public constructorList: MenuListType\n\n    constructor(editor: Editor) {\n        this.editor = editor\n        this.menuList = []\n        this.constructorList = MenuConstructorList // 所有菜单构造函数的列表\n    }\n\n    /**\n     * 自定义添加菜单\n     * @param key 菜单 key ，和 editor.config.menus 对应\n     * @param Menu 菜单构造函数\n     */\n    public extend(key: string, Menu: any) {\n        if (!Menu || typeof Menu !== 'function') return\n        this.constructorList[key] = Menu\n    }\n\n    // 初始化菜单\n    public init(): void {\n        // 从用户配置的 menus 入手，看需要初始化哪些菜单\n        const config = this.editor.config\n        config.menus.forEach(menuKey => {\n            const MenuConstructor = this.constructorList[menuKey] // 暂用 any ，后面再替换\n            if (MenuConstructor == null || typeof MenuConstructor !== 'function') {\n                // 必须是 class\n                return\n            }\n            // 创建 menu 实例，并放到 menuList 中\n            const m = new MenuConstructor(this.editor)\n            m.key = menuKey\n            this.menuList.push(m)\n        })\n\n        // 渲染 DOM\n        this._addToToolbar()\n    }\n\n    // 添加到菜单栏\n    private _addToToolbar(): void {\n        const editor = this.editor\n        const $toolbarElem = editor.$toolbarElem\n\n        // 遍历添加到 DOM\n        this.menuList.forEach(menu => {\n            const $elem = menu.$elem\n            if ($elem) {\n                $toolbarElem.append($elem)\n            }\n        })\n    }\n\n    /**\n     * 获取菜单对象\n     * @param 菜单名称 小写\n     * @return Menus 菜单对象\n     */\n    public menuFind(key: string): Menu {\n        const menuList = this.menuList\n        for (let i = 0, l = menuList.length; i < l; i++) {\n            if (menuList[i].key === key) return menuList[i]\n        }\n\n        return menuList[0]\n    }\n\n    /**\n     * @description 修改菜单激活状态\n     */\n    public changeActive(): void {\n        this.menuList.forEach(menu => {\n            setTimeout((menu as any).tryChangeActive.bind(menu), 100) // 暂用 any ，后面再替换\n        })\n    }\n}\n\nexport default Menus\n","/**\n * @description 所有菜单的构造函数\n * @author wangfupeng\n */\n\nimport Bold from './bold/index'\nimport Head from './head/index'\nimport Link from './link/index'\nimport Italic from './italic/index'\nimport Underline from './underline/index'\nimport StrikeThrough from './strike-through/index'\nimport FontStyle from './font-style/index'\nimport FontSize from './font-size'\nimport Justify from './justify/index'\nimport Quote from './quote/index'\nimport BackColor from './back-color/index'\nimport FontColor from './font-color/index'\nimport Video from './video/index'\nimport Image from './img/index'\nimport Indent from './indent/index'\nimport Emoticon from './emoticon/index'\nimport List from './list/index'\nimport LineHeight from './lineHeight/index'\nimport Undo from './undo/index'\nimport Redo from './redo/index'\nimport Table from './table/index'\nimport Code from './code'\nimport SplitLine from './split-line/index'\n\nexport type MenuListType = {\n    [key: string]: any\n}\n\nexport default {\n    bold: Bold,\n    head: Head,\n    italic: Italic,\n    link: Link,\n    underline: Underline,\n    strikeThrough: StrikeThrough,\n    fontName: FontStyle,\n    fontSize: FontSize,\n    justify: Justify,\n    quote: Quote,\n    backColor: BackColor,\n    foreColor: FontColor,\n    video: Video,\n    image: Image,\n    indent: Indent,\n    emoticon: Emoticon,\n    list: List,\n    lineHeight: LineHeight,\n    undo: Undo,\n    redo: Redo,\n    table: Table,\n    code: Code,\n    splitLine: SplitLine,\n}\n","/**\n * @description 加粗\n * @author wangfupeng\n */\n\nimport BtnMenu from '../menu-constructors/BtnMenu'\nimport $ from '../../utils/dom-core'\nimport Editor from '../../editor/index'\nimport { MenuActive } from '../menu-constructors/Menu'\n\nclass Bold extends BtnMenu implements MenuActive {\n    constructor(editor: Editor) {\n        const $elem = $(\n            `<div class=\"w-e-menu\">\n                <i class=\"w-e-icon-bold\"></i>\n            </div>`\n        )\n        super($elem, editor)\n    }\n\n    /**\n     * 点击事件\n     */\n    public clickHandler(): void {\n        const editor = this.editor\n        const isSelectEmpty = editor.selection.isSelectionEmpty()\n\n        if (isSelectEmpty) {\n            // 选区范围是空的，插入并选中一个“空白”\n            editor.selection.createEmptyRange()\n        }\n\n        // 执行 bold 命令\n        editor.cmd.do('bold')\n\n        if (isSelectEmpty) {\n            // 需要将选区范围折叠起来\n            editor.selection.collapseRange()\n            editor.selection.restoreSelection()\n        }\n    }\n\n    /**\n     * 尝试修改菜单激活状态\n     */\n    public tryChangeActive(): void {\n        const editor = this.editor\n        if (editor.cmd.queryCommandState('bold')) {\n            this.active()\n        } else {\n            this.unActive()\n        }\n    }\n}\n\nexport default Bold\n","var parent = require('../../es/object/set-prototype-of');\n\nmodule.exports = parent;\n","require('../../modules/es.object.set-prototype-of');\nvar path = require('../../internals/path');\n\nmodule.exports = path.Object.setPrototypeOf;\n","var $ = require('../internals/export');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\n\n// `Object.setPrototypeOf` method\n// https://tc39.github.io/ecma262/#sec-object.setprototypeof\n$({ target: 'Object', stat: true }, {\n  setPrototypeOf: setPrototypeOf\n});\n","/**\n * @description 标题\n * @author wangfupeng\n */\n\nimport DropListMenu from '../menu-constructors/DropListMenu'\nimport $ from '../../utils/dom-core'\nimport Editor from '../../editor/index'\nimport { MenuActive } from '../menu-constructors/Menu'\nimport { getRandomCode } from '../../utils/util'\nimport { TCatalog } from '../../config/events'\n\nclass Head extends DropListMenu implements MenuActive {\n    oldCatalogs: TCatalog[] | undefined\n    constructor(editor: Editor) {\n        const $elem = $('<div class=\"w-e-menu\"><i class=\"w-e-icon-header\"></i></div>')\n        const dropListConf = {\n            width: 100,\n            title: '设置标题',\n            type: 'list', // droplist 以列表形式展示\n            list: [\n                { $elem: $('<h1>H1</h1>'), value: '<h1>' },\n                { $elem: $('<h2>H2</h2>'), value: '<h2>' },\n                { $elem: $('<h3>H3</h3>'), value: '<h3>' },\n                { $elem: $('<h4>H4</h4>'), value: '<h4>' },\n                { $elem: $('<h5>H5</h5>'), value: '<h5>' },\n                {\n                    $elem: $(`<p>${editor.i18next.t('menus.dropListMenu.head.正文')}</p>`),\n                    value: '<p>',\n                },\n            ],\n            clickHandler: (value: string) => {\n                // 注意 this 是指向当前的 Head 对象\n                this.command(value)\n            },\n        }\n        super($elem, editor, dropListConf)\n\n        const onCatalogChange = editor.config.onCatalogChange\n        // 未配置目录change监听回调时不运行下面操作\n        if (onCatalogChange) {\n            this.oldCatalogs = []\n            this.addListenerCatalog() // 监听文本框编辑时的大纲信息\n            this.getCatalogs() // 初始有值的情况获取一遍大纲信息\n        }\n    }\n\n    /**\n     * 执行命令\n     * @param value value\n     */\n    public command(value: string): void {\n        const editor = this.editor\n        const $selectionElem = editor.selection.getSelectionContainerElem()\n        if ($selectionElem && editor.$textElem.equal($selectionElem)) {\n            // 不能选中多行来设置标题，否则会出现问题\n            // 例如选中的是 <p>xxx</p><p>yyy</p> 来设置标题，设置之后会成为 <h1>xxx<br>yyy</h1> 不符合预期\n            return\n        }\n\n        editor.cmd.do('formatBlock', value)\n\n        // 标题设置成功且不是<p>正文标签就配置大纲id\n        value !== '<p>' && this.addUidForSelectionElem()\n    }\n\n    /**\n     * 为标题设置大纲\n     */\n    private addUidForSelectionElem() {\n        const editor = this.editor\n        const tag = editor.selection.getSelectionContainerElem()\n        const id = getRandomCode() // 默认五位数id\n        $(tag).attr('id', id)\n    }\n\n    /**\n     * 监听change事件来返回大纲信息\n     */\n    private addListenerCatalog() {\n        const editor = this.editor\n        editor.txt.eventHooks.changeEvents.push(() => {\n            this.getCatalogs()\n        })\n    }\n\n    /**\n     * 获取大纲数组\n     */\n    private getCatalogs() {\n        const editor = this.editor\n        const $textElem = this.editor.$textElem\n        const onCatalogChange = editor.config.onCatalogChange\n        const elems = $textElem.find('h1,h2,h3,h4,h5')\n        const catalogs: TCatalog[] = []\n        elems.forEach((elem, index) => {\n            const $elem = $(elem)\n            let id = $elem.attr('id')\n            const tag = $elem.getNodeName()\n            const text = $elem.text()\n            if (!id) {\n                id = getRandomCode()\n                $elem.attr('id', id)\n            }\n            // 标题为空的情况不生成目录\n            if (!text) return\n            catalogs.push({\n                tag,\n                id,\n                text,\n            })\n        })\n        // 旧目录和新目录对比是否相等，不相等则运行回调并保存新目录到旧目录变量，以方便下一次对比\n        if (JSON.stringify(this.oldCatalogs) !== JSON.stringify(catalogs)) {\n            this.oldCatalogs = catalogs\n            onCatalogChange && onCatalogChange(catalogs)\n        }\n    }\n\n    /**\n     * 尝试改变菜单激活（高亮）状态\n     */\n    public tryChangeActive() {\n        const editor = this.editor\n        const reg = /^h/i\n        const cmdValue = editor.cmd.queryCommandValue('formatBlock')\n        if (reg.test(cmdValue)) {\n            this.active()\n        } else {\n            this.unActive()\n        }\n    }\n}\n\nexport default Head\n","module.exports = require(\"core-js-pure/stable/json/stringify\");","var parent = require('../../es/json/stringify');\n\nmodule.exports = parent;\n","require('../../modules/es.json.stringify');\nvar core = require('../../internals/path');\n\nif (!core.JSON) core.JSON = { stringify: JSON.stringify };\n\n// eslint-disable-next-line no-unused-vars\nmodule.exports = function stringify(it, replacer, space) {\n  return core.JSON.stringify.apply(null, arguments);\n};\n","var $ = require('../internals/export');\nvar getBuiltIn = require('../internals/get-built-in');\nvar fails = require('../internals/fails');\n\nvar $stringify = getBuiltIn('JSON', 'stringify');\nvar re = /[\\uD800-\\uDFFF]/g;\nvar low = /^[\\uD800-\\uDBFF]$/;\nvar hi = /^[\\uDC00-\\uDFFF]$/;\n\nvar fix = function (match, offset, string) {\n  var prev = string.charAt(offset - 1);\n  var next = string.charAt(offset + 1);\n  if ((low.test(match) && !hi.test(next)) || (hi.test(match) && !low.test(prev))) {\n    return '\\\\u' + match.charCodeAt(0).toString(16);\n  } return match;\n};\n\nvar FORCED = fails(function () {\n  return $stringify('\\uDF06\\uD834') !== '\"\\\\udf06\\\\ud834\"'\n    || $stringify('\\uDEAD') !== '\"\\\\udead\"';\n});\n\nif ($stringify) {\n  // https://github.com/tc39/proposal-well-formed-stringify\n  $({ target: 'JSON', stat: true, forced: FORCED }, {\n    // eslint-disable-next-line no-unused-vars\n    stringify: function stringify(it, replacer, space) {\n      var result = $stringify.apply(null, arguments);\n      return typeof result == 'string' ? result.replace(re, fix) : result;\n    }\n  });\n}\n","/**\n * @description 链接 菜单\n * @author wangfupeng\n */\n\nimport PanelMenu from '../menu-constructors/PanelMenu'\nimport Editor from '../../editor/index'\nimport $ from '../../utils/dom-core'\nimport createPanelConf from './create-panel-conf'\nimport isActive from './is-active'\nimport Panel from '../menu-constructors/Panel'\nimport { MenuActive } from '../menu-constructors/Menu'\nimport bindEvent from './bind-event/index'\n\nclass Link extends PanelMenu implements MenuActive {\n    constructor(editor: Editor) {\n        const $elem = $('<div class=\"w-e-menu\"><i class=\"w-e-icon-link\"></i></div>')\n        super($elem, editor)\n\n        // 绑定事件，如点击链接时，可以查看链接\n        bindEvent(editor)\n    }\n\n    /**\n     * 菜单点击事件\n     */\n    public clickHandler(): void {\n        const editor = this.editor\n        let $linkElem\n\n        if (this.isActive) {\n            // 菜单被激活，说明选区在链接里\n            $linkElem = editor.selection.getSelectionContainerElem()\n            if (!$linkElem) {\n                return\n            }\n\n            // 弹出 panel\n            this.createPanel($linkElem.text(), $linkElem.attr('href'))\n        } else {\n            // 菜单未被激活，说明选区不在链接里\n            if (editor.selection.isSelectionEmpty()) {\n                // 选区是空的，未选中内容\n                this.createPanel('', '')\n            } else {\n                // 选中内容了\n                this.createPanel(editor.selection.getSelectionText(), '')\n            }\n        }\n    }\n\n    /**\n     * 创建 panel\n     * @param text 文本\n     * @param link 链接\n     */\n    private createPanel(text: string, link: string): void {\n        const conf = createPanelConf(this.editor, text, link)\n        const panel = new Panel(this, conf)\n        panel.create()\n    }\n\n    /**\n     * 尝试修改菜单 active 状态\n     */\n    public tryChangeActive() {\n        const editor = this.editor\n        if (isActive(editor)) {\n            this.active()\n        } else {\n            this.unActive()\n        }\n    }\n}\n\nexport default Link\n","/**\n * @description link 菜单 panel tab 配置\n * @author wangfupeng\n */\n\nimport Editor from '../../editor/index'\nimport { PanelConf } from '../menu-constructors/Panel'\nimport { getRandom } from '../../utils/util'\nimport $, { DomElement } from '../../utils/dom-core'\nimport isActive from './is-active'\n\nexport default function (editor: Editor, text: string, link: string): PanelConf {\n    // panel 中需要用到的id\n    const inputLinkId = getRandom('input-link')\n    const inputTextId = getRandom('input-text')\n    const btnOkId = getRandom('btn-ok')\n    const btnDelId = getRandom('btn-del')\n\n    // 是否显示“取消链接”\n    const delBtnDisplay = isActive(editor) ? 'inline-block' : 'none'\n\n    let $selectedLink: DomElement\n\n    /**\n     * 选中整个链接元素\n     */\n    function selectLinkElem(): void {\n        if (!isActive(editor)) return\n\n        const $linkElem = editor.selection.getSelectionContainerElem()\n        if (!$linkElem) return\n        editor.selection.createRangeByElem($linkElem)\n        editor.selection.restoreSelection()\n\n        $selectedLink = $linkElem // 赋值给函数内全局变量\n    }\n\n    /**\n     * 插入链接\n     * @param text 文字\n     * @param link 链接\n     */\n    function insertLink(text: string, link: string): void {\n        if (isActive(editor)) {\n            // 选区处于链接中，则选中整个菜单，再执行 insertHTML\n            selectLinkElem()\n            editor.cmd.do('insertHTML', `<a href=\"${link}\" target=\"_blank\">${text}</a>`)\n        } else {\n            // 选区未处于链接中，直接插入即可\n            editor.cmd.do('insertHTML', `<a href=\"${link}\" target=\"_blank\">${text}</a>`)\n        }\n    }\n\n    /**\n     * 取消链接\n     */\n    function delLink(): void {\n        if (!isActive(editor)) {\n            return\n        }\n        // 选中整个链接\n        selectLinkElem()\n        // 用文本替换链接\n        const selectionText = $selectedLink.text()\n        editor.cmd.do('insertHTML', '<span>' + selectionText + '</span>')\n    }\n\n    /**\n     * 校验链接是否合法\n     * @param link 链接\n     */\n    function checkLink(text: string, link: string): boolean {\n        //查看开发者自定义配置的返回值\n        const check = editor.config.linkCheck(text, link)\n        if (check === undefined) {\n            //用户未能通过开发者的校验，且开发者不希望编辑器提示用户\n        } else if (check === true) {\n            //用户通过了开发者的校验\n            return true\n        } else {\n            //用户未能通过开发者的校验，开发者希望我们提示这一字符串\n            editor.config.customAlert(check, 'warning')\n        }\n        return false\n    }\n\n    const conf = {\n        width: 300,\n        height: 0,\n\n        // panel 中可包含多个 tab\n        tabs: [\n            {\n                // tab 的标题\n                title: editor.i18next.t('menus.panelMenus.link.链接'),\n                // 模板\n                tpl: `<div>\n                        <input\n                            id=\"${inputTextId}\"\n                            type=\"text\"\n                            class=\"block\"\n                            value=\"${text}\"\n                            placeholder=\"${editor.i18next.t('menus.panelMenus.link.链接文字')}\"/>\n                        </td>\n                        <input\n                            id=\"${inputLinkId}\"\n                            type=\"text\"\n                            class=\"block\"\n                            value=\"${link}\"\n                            placeholder=\"${editor.i18next.t('如')} https://...\"/>\n                        </td>\n                        <div class=\"w-e-button-container\">\n                            <button type=\"button\" id=\"${btnOkId}\" class=\"right\">\n                                ${editor.i18next.t('插入')}\n                            </button>\n                            <button type=\"button\" id=\"${btnDelId}\" class=\"gray right\" style=\"display:${delBtnDisplay}\">\n                                ${editor.i18next.t('menus.panelMenus.link.取消链接')}\n                            </button>\n                        </div>\n                    </div>`,\n                // 事件绑定\n                events: [\n                    // 插入链接\n                    {\n                        selector: '#' + btnOkId,\n                        type: 'click',\n                        fn: () => {\n                            // 执行插入链接\n                            const $link = $('#' + inputLinkId)\n                            const $text = $('#' + inputTextId)\n                            let link = $link.val().trim()\n                            let text = $text.val().trim()\n\n                            // 链接为空，则不插入\n                            if (!link) return\n                            // 文本为空，则用链接代替\n                            if (!text) text = link\n                            // 校验链接是否满足用户的规则，若不满足则不插入\n                            if (!checkLink(text, link)) return\n                            insertLink(text, link)\n\n                            // 返回 true，表示该事件执行完之后，panel 要关闭。否则 panel 不会关闭\n                            return true\n                        },\n                    },\n                    // 取消链接\n                    {\n                        selector: '#' + btnDelId,\n                        type: 'click',\n                        fn: () => {\n                            // 执行取消链接\n                            delLink()\n\n                            // 返回 true，表示该事件执行完之后，panel 要关闭。否则 panel 不会关闭\n                            return true\n                        },\n                    },\n                ],\n            }, // tab end\n        ], // tabs end\n    }\n\n    return conf\n}\n","/**\n * @description 绑定链接元素的事件，入口\n * @author wangfupeng\n */\n\nimport Editor from '../../../editor/index'\nimport bindTooltipEvent from './tooltip-event'\n\n/**\n * 绑定事件\n * @param editor 编辑器实例\n */\nfunction bindEvent(editor: Editor) {\n    // tooltip 事件\n    bindTooltipEvent(editor)\n}\n\nexport default bindEvent\n","/**\n * @description tooltip 事件\n * @author wangfupeng\n */\n\nimport $, { DomElement } from '../../../utils/dom-core'\nimport Tooltip, { TooltipConfType } from '../../menu-constructors/Tooltip'\nimport Editor from '../../../editor/index'\n\n/**\n * 生成 Tooltip 的显示隐藏函数\n */\nfunction createShowHideFn(editor: Editor) {\n    let tooltip: Tooltip | null\n\n    /**\n     * 显示 tooltip\n     * @param $link 链接元素\n     */\n    function showLinkTooltip($link: DomElement) {\n        const conf: TooltipConfType = [\n            {\n                $elem: $(`<span>${editor.i18next.t('menus.panelMenus.link.查看链接')}</span>`),\n                onClick: (editor: Editor, $link: DomElement) => {\n                    const link = $link.attr('href')\n                    window.open(link, '_target')\n\n                    // 返回 true，表示执行完之后，隐藏 tooltip。否则不隐藏。\n                    return true\n                },\n            },\n            {\n                $elem: $(`<span>${editor.i18next.t('menus.panelMenus.link.取消链接')}</span>`),\n                onClick: (editor: Editor, $link: DomElement) => {\n                    // 选中链接元素\n                    editor.selection.createRangeByElem($link)\n                    editor.selection.restoreSelection()\n\n                    // 用文字，替换链接\n                    const selectionText = $link.text()\n                    editor.cmd.do('insertHTML', '<span>' + selectionText + '</span>')\n\n                    // 返回 true，表示执行完之后，隐藏 tooltip。否则不隐藏。\n                    return true\n                },\n            },\n        ]\n\n        // 创建 tooltip\n        tooltip = new Tooltip(editor, $link, conf)\n        tooltip.create()\n    }\n\n    /**\n     * 隐藏 tooltip\n     */\n    function hideLinkTooltip() {\n        // 移除 tooltip\n        if (tooltip) {\n            tooltip.remove()\n            tooltip = null\n        }\n    }\n\n    return {\n        showLinkTooltip,\n        hideLinkTooltip,\n    }\n}\n\n/**\n * 绑定 tooltip 事件\n * @param editor 编辑器实例\n */\nfunction bindTooltipEvent(editor: Editor) {\n    const { showLinkTooltip, hideLinkTooltip } = createShowHideFn(editor)\n\n    // 点击链接元素是，显示 tooltip\n    editor.txt.eventHooks.linkClickEvents.push(showLinkTooltip)\n\n    // 点击其他地方，或者滚动时，隐藏 tooltip\n    editor.txt.eventHooks.clickEvents.push(hideLinkTooltip)\n    editor.txt.eventHooks.keyupEvents.push(hideLinkTooltip)\n    editor.txt.eventHooks.toolbarClickEvents.push(hideLinkTooltip)\n    editor.txt.eventHooks.menuClickEvents.push(hideLinkTooltip)\n    editor.txt.eventHooks.textScrollEvents.push(hideLinkTooltip)\n}\n\nexport default bindTooltipEvent\n","/**\n * @description 斜体\n * @author liuwei\n */\n\nimport BtnMenu from '../menu-constructors/BtnMenu'\nimport $ from '../../utils/dom-core'\nimport Editor from '../../editor/index'\nimport { MenuActive } from '../menu-constructors/Menu'\n\nclass Italic extends BtnMenu implements MenuActive {\n    constructor(editor: Editor) {\n        const $elem = $(\n            `<div class=\"w-e-menu\">\n                <i class=\"w-e-icon-italic\"></i>\n            </div>`\n        )\n        super($elem, editor)\n    }\n\n    /**\n     * 点击事件\n     */\n    public clickHandler(): void {\n        const editor = this.editor\n        const isSelectEmpty = editor.selection.isSelectionEmpty()\n\n        if (isSelectEmpty) {\n            // 选区范围是空的，插入并选中一个“空白”\n            editor.selection.createEmptyRange()\n        }\n\n        // 执行 italic 命令\n        editor.cmd.do('italic')\n\n        if (isSelectEmpty) {\n            // 需要将选区范围折叠起来\n            editor.selection.collapseRange()\n            editor.selection.restoreSelection()\n        }\n    }\n\n    /**\n     * 尝试修改菜单激活状态\n     */\n    public tryChangeActive(): void {\n        const editor = this.editor\n        if (editor.cmd.queryCommandState('italic')) {\n            this.active()\n        } else {\n            this.unActive()\n        }\n    }\n}\n\nexport default Italic\n","/**\n * @description 下划线 underline\n * @author dyl\n *\n */\n\nimport BtnMenu from '../menu-constructors/BtnMenu'\nimport $ from '../../utils/dom-core'\nimport Editor from '../../editor/index'\nimport { MenuActive } from '../menu-constructors/Menu'\n\nclass Underline extends BtnMenu implements MenuActive {\n    constructor(editor: Editor) {\n        const $elem = $(\n            `<div class=\"w-e-menu\">\n                <i class=\"w-e-icon-underline\"></i>\n            </div>`\n        )\n        super($elem, editor)\n    }\n\n    /**\n     * 点击事件\n     */\n    public clickHandler(): void {\n        const editor = this.editor\n        const isSelectEmpty = editor.selection.isSelectionEmpty()\n\n        if (isSelectEmpty) {\n            // 选区范围是空的，插入并选中一个“空白”\n            editor.selection.createEmptyRange()\n        }\n\n        // 执行 Underline 命令\n        editor.cmd.do('underline')\n\n        if (isSelectEmpty) {\n            // 需要将选区范围折叠起来\n            editor.selection.collapseRange()\n            editor.selection.restoreSelection()\n        }\n    }\n\n    /**\n     * 尝试修改菜单激活状态\n     */\n    public tryChangeActive(): void {\n        const editor = this.editor\n        if (editor.cmd.queryCommandState('underline')) {\n            this.active()\n        } else {\n            this.unActive()\n        }\n    }\n}\n\nexport default Underline\n","/**\n * @description 删除线\n * @author lkw\n */\n\nimport BtnMenu from '../menu-constructors/BtnMenu'\nimport $ from '../../utils/dom-core'\nimport Editor from '../../editor/index'\nimport { MenuActive } from '../menu-constructors/Menu'\n\nclass StrikeThrough extends BtnMenu implements MenuActive {\n    constructor(editor: Editor) {\n        const $elem = $(\n            `<div class=\"w-e-menu\">\n                <i class=\"w-e-icon-strikethrough\"></i>\n            </div>`\n        )\n        super($elem, editor)\n    }\n\n    /**\n     * 点击事件\n     */\n    public clickHandler(): void {\n        const editor = this.editor\n        const isSelectEmpty = editor.selection.isSelectionEmpty()\n\n        if (isSelectEmpty) {\n            // 选区范围是空的，插入并选中一个“空白”\n            editor.selection.createEmptyRange()\n        }\n\n        // 执行 strikeThrough 命令\n        editor.cmd.do('strikeThrough')\n\n        if (isSelectEmpty) {\n            // 需要将选区范围折叠起来\n            editor.selection.collapseRange()\n            editor.selection.restoreSelection()\n        }\n    }\n\n    /**\n     * 尝试修改菜单激活状态\n     */\n    public tryChangeActive(): void {\n        const editor = this.editor\n        if (editor.cmd.queryCommandState('strikeThrough')) {\n            this.active()\n        } else {\n            this.unActive()\n        }\n    }\n}\n\nexport default StrikeThrough\n","/**\n * @description 字体样式 FontStyle\n * @author dyl\n *\n */\n\nimport DropListMenu from '../menu-constructors/DropListMenu'\nimport $ from '../../utils/dom-core'\nimport Editor from '../../editor/index'\nimport { MenuActive } from '../menu-constructors/Menu'\nimport FontStyleList from './FontStyleList'\n\nclass FontStyle extends DropListMenu implements MenuActive {\n    constructor(editor: Editor) {\n        const $elem = $(\n            `<div class=\"w-e-menu\">\n                <i class=\"w-e-icon-font\"></i>\n            </div>`\n        )\n        let fontStyleList = new FontStyleList(editor.config.fontNames)\n        const fontListConf = {\n            width: 100,\n            title: '设置字体',\n            type: 'list',\n            list: fontStyleList.getItemList(),\n            clickHandler: (value: string) => {\n                // this 是指向当前的 FontStyle 对象\n                this.command(value)\n            },\n        }\n        super($elem, editor, fontListConf)\n    }\n\n    /**\n     * 执行命令\n     * @param value value\n     */\n    public command(value: string): void {\n        const editor = this.editor\n        const isEmptySelection = editor.selection.isSelectionEmpty()\n\n        const $selectionElem = editor.selection.getSelectionContainerElem()?.elems[0]\n        const isFont = $selectionElem?.nodeName.toLowerCase() !== 'p'\n        const isSameValue = $selectionElem?.getAttribute('face') === value\n\n        if (isEmptySelection) {\n            if (isFont && !isSameValue) {\n                const $elems = editor.selection.getSelectionRangeTopNodes(editor)\n                editor.selection.createRangeByElem($elems[0])\n                editor.selection.moveCursor($elems[0].elems[0])\n            }\n            // 插入空白选区\n            editor.selection.createEmptyRange()\n        }\n\n        editor.cmd.do('fontName', value)\n\n        if (isEmptySelection) {\n            // 需要将选区范围折叠起来\n            editor.selection.collapseRange()\n            editor.selection.restoreSelection()\n        }\n    }\n\n    /**\n     * 尝试修改菜单激活状态\n     * ?字体是否需要有激活状态这个操作?\n     */\n    public tryChangeActive(): void {\n        // const editor = this.editor\n        // const cmdValue = editor.cmd.queryCommandValue('fontName')\n        // if (menusConfig.fontNames.indexOf(cmdValue) >= 0) {\n        //     this.active()\n        // } else {\n        //     this.unActive()\n        // }\n    }\n}\n\nexport default FontStyle\n","/**\n * @description 字体 class\n * @author dyl\n */\nimport $ from '../../utils/dom-core'\nimport { DropListItem } from '../menu-constructors/DropList'\n\n/**\n * 封装的一个字体菜单列表数据的组装对象,\n * 原因是因为在constructor函数中,直接执行此流程,会让代码量看起来较多,\n * 如果要在constructor调用外部函数,个人目前发现会有错误提示,\n * 因此,想着顺便研究实践下ts,遍创建了这样一个类\n */\nclass FontStyleList {\n    private itemList: DropListItem[]\n\n    constructor(list: string[]) {\n        this.itemList = []\n        list.forEach(fontValue => {\n            this.itemList.push({\n                $elem: $(`<p style=\"font-family:'${fontValue}'\">${fontValue}</p>`),\n                value: fontValue,\n            })\n        })\n    }\n\n    public getItemList(): DropListItem[] {\n        return this.itemList\n    }\n}\n\nexport default FontStyleList\n","/**\n * @description 字号 FontSize\n * @author lkw\n *\n */\n\nimport DropListMenu from '../menu-constructors/DropListMenu'\nimport $ from '../../utils/dom-core'\nimport Editor from '../../editor/index'\nimport { MenuActive } from '../menu-constructors/Menu'\nimport FontSizeList from './FontSizeList'\n\nclass FontSize extends DropListMenu implements MenuActive {\n    constructor(editor: Editor) {\n        const $elem = $(\n            `<div class=\"w-e-menu\">\n                <i class=\"w-e-icon-text-heigh\"></i>\n            </div>`\n        )\n        let fontStyleList = new FontSizeList(editor.config.fontSizes)\n        const fontListConf = {\n            width: 160,\n            title: '设置字号',\n            type: 'list',\n            list: fontStyleList.getItemList(),\n            clickHandler: (value: string) => {\n                // this 是指向当前的 FontSize 对象\n                this.command(value)\n            },\n        }\n        super($elem, editor, fontListConf)\n    }\n\n    /**\n     * 执行命令\n     * @param value value\n     */\n    public command(value: string): void {\n        const editor = this.editor\n        const isEmptySelection = editor.selection.isSelectionEmpty()\n\n        const $selectionElem = editor.selection.getSelectionContainerElem()?.elems[0]\n        const isFont = $selectionElem?.nodeName.toLowerCase() !== 'p'\n        const isSameSize = $selectionElem?.getAttribute('size') === value\n\n        if (isEmptySelection) {\n            if (isFont && !isSameSize) {\n                const $elems = editor.selection.getSelectionRangeTopNodes(editor)\n                editor.selection.createRangeByElem($elems[0])\n                editor.selection.moveCursor($elems[0].elems[0])\n            }\n            // 插入空白选区\n            editor.selection.createEmptyRange()\n        }\n\n        editor.cmd.do('fontSize', value)\n\n        if (isEmptySelection) {\n            // 需要将选区范围折叠起来\n            editor.selection.collapseRange()\n            editor.selection.restoreSelection()\n        }\n    }\n\n    /**\n     * 尝试修改菜单激活状态\n     * ?字号是否需要有激活状态这个操作?\n     */\n    public tryChangeActive(): void {}\n}\n\nexport default FontSize\n","/**\n * @description 字号 class\n * @author lkw\n */\nimport $ from '../../utils/dom-core'\nimport { DropListItem } from '../menu-constructors/DropList'\nimport { FontSizeConfType } from '../../config/menus'\n\n/**\n * FontSizeList 字号配置列表\n */\nclass FontSizeList {\n    private itemList: DropListItem[]\n\n    constructor(list: FontSizeConfType) {\n        this.itemList = []\n        for (let key in list) {\n            const item = list[key]\n            this.itemList.push({\n                $elem: $(`<p style=\"font-size:${key}\">${item.name}</p>`),\n                value: item.value,\n            })\n        }\n    }\n\n    public getItemList(): DropListItem[] {\n        return this.itemList\n    }\n}\n\nexport default FontSizeList\n","/**\n * @description 对齐方式\n * @author liuwei\n */\n\nimport DropListMenu from '../menu-constructors/DropListMenu'\nimport $, { DomElement } from '../../utils/dom-core'\nimport Editor from '../../editor/index'\nimport { MenuActive } from '../menu-constructors/Menu'\n\nclass Justify extends DropListMenu implements MenuActive {\n    constructor(editor: Editor) {\n        const $elem = $('<div class=\"w-e-menu\"><i class=\"w-e-icon-paragraph-left\"></i></div>')\n\n        const dropListConf = {\n            width: 100,\n            title: '对齐方式',\n            type: 'list', // droplist 以列表形式展示\n            list: [\n                {\n                    $elem: $(\n                        `<p>\n                            <i class=\"w-e-icon-paragraph-left w-e-drop-list-item\"></i>\n                            ${editor.i18next.t('menus.dropListMenu.justify.靠左')}\n                        </p>`\n                    ),\n                    value: 'justifyLeft',\n                },\n                {\n                    $elem: $(\n                        `<p>\n                            <i class=\"w-e-icon-paragraph-center w-e-drop-list-item\"></i>\n                            ${editor.i18next.t('menus.dropListMenu.justify.居中')}\n                        </p>`\n                    ),\n                    value: 'justifyCenter',\n                },\n                {\n                    $elem: $(\n                        `<p>\n                            <i class=\"w-e-icon-paragraph-right w-e-drop-list-item\"></i>\n                            ${editor.i18next.t('menus.dropListMenu.justify.靠右')}\n                        </p>`\n                    ),\n                    value: 'justifyRight',\n                },\n                {\n                    $elem: $(\n                        `<p>\n                            <i class=\"w-e-icon-paragraph-justify w-e-drop-list-item\"></i>\n                            ${editor.i18next.t('menus.dropListMenu.justify.两端')}\n                        </p>`\n                    ),\n                    value: 'justifyFull',\n                },\n            ],\n            clickHandler: (value: string) => {\n                // 执行对应的value操作\n                this.command(value)\n            },\n        }\n        super($elem, editor, dropListConf)\n    }\n    /**\n     * 执行命令\n     * @param value value\n     */\n    public command(value: string): void {\n        const editor = this.editor\n        const selection = editor.selection\n        const $selectionElem = selection.getSelectionContainerElem()\n        // 保存选区\n        selection.saveRange()\n        // 定义对齐方式的type\n        type justifyType = {\n            [key: string]: string\n        }\n        // 数据项\n        const justifyClass: justifyType = {\n            justifyLeft: 'left',\n            justifyCenter: 'center',\n            justifyRight: 'right',\n            justifyFull: 'justify',\n        }\n        // 获取顶级元素\n        const $elems = editor.selection.getSelectionRangeTopNodes(editor)\n        // 选区等于textElem时表示选择了多个段落\n        if ($selectionElem && editor.$textElem.equal($selectionElem)) {\n            // 获取在css中对应style的值\n            const justifyValue = justifyClass[value]\n            $elems.forEach((el: DomElement) => {\n                el.css('text-align', justifyValue)\n            })\n        } else {\n            // 如果单行的使用execcommand实现\n            editor.cmd.do(value, value)\n        }\n        //恢复选区\n        selection.restoreSelection()\n    }\n\n    /**\n     * 尝试改变菜单激活（高亮）状态\n     * 默认左对齐,若选择其他对其方式对active进行高亮否则unActive\n     * ?考虑优化的话 是否可以对具体选中的进行高亮\n     */\n    public tryChangeActive(): void {\n        // const editor = this.editor\n        // let isjustify = ['justifyCenter', 'justifyRight'].some(e => editor.cmd.queryCommandState(e))\n        // if (isjustify) {\n        //     this.active()\n        // } else {\n        //     this.unActive()\n        // }\n    }\n}\n\nexport default Justify\n","/**\n * @description 引用\n * @author tonghan\n */\n\nimport $, { DomElement } from '../../utils/dom-core'\nimport Editor from '../../editor/index'\nimport BtnMenu from '../menu-constructors/BtnMenu'\nimport { MenuActive } from '../menu-constructors/Menu'\nimport bindEvent from './bind-event'\nimport createQuote from './create-quote-node'\n\nclass Quote extends BtnMenu implements MenuActive {\n    constructor(editor: Editor) {\n        const $elem = $(\n            `<div class=\"w-e-menu\">\n                <i class=\"w-e-icon-quotes-left\"></i>\n            </div>`\n        )\n        super($elem, editor)\n        bindEvent(editor)\n    }\n\n    /**\n     * 点击事件\n     */\n    public clickHandler(): void {\n        const editor = this.editor\n        const isSelectEmpty = editor.selection.isSelectionEmpty()\n        const topNodeElem: DomElement[] = editor.selection.getSelectionRangeTopNodes(editor)\n        const $topNodeElem: DomElement = topNodeElem[topNodeElem.length - 1]\n        const nodeName = this.getTopNodeName()\n        // IE 中不支持 formatBlock <BLOCKQUOTE> ，要用其他方式兼容\n        // 兼容firefox无法取消blockquote的问题\n        if (nodeName === 'BLOCKQUOTE') {\n            // 撤销 quote\n            const $targetELem = $($topNodeElem.childNodes())\n            const len = $targetELem.length\n            let $middle = $topNodeElem\n            $targetELem.forEach((elem: Node) => {\n                const $elem = $(elem)\n                $elem.insertAfter($middle)\n                $middle = $elem\n            })\n            $topNodeElem.remove()\n            editor.selection.moveCursor($targetELem.elems[len - 1])\n            // 即时更新btn状态\n            this.tryChangeActive()\n        } else {\n            // 将 P 转换为 quote\n            const $quote = createQuote(topNodeElem)\n            $quote.insertAfter($topNodeElem)\n            this.delSelectNode(topNodeElem)\n            const moveNode = $quote.childNodes()?.last().getNode() as Node\n            // 兼容firefox（firefox下空行情况下选区会在br后，造成自动换行的问题）\n            moveNode.textContent\n                ? editor.selection.moveCursor(moveNode)\n                : editor.selection.moveCursor(moveNode, true)\n            // 即时更新btn状态\n            this.tryChangeActive()\n            // 防止最后一行无法跳出\n            $(`<p><br></p>`).insertAfter($quote)\n            return\n        }\n\n        if (isSelectEmpty) {\n            // 需要将选区范围折叠起来\n            editor.selection.collapseRange()\n            editor.selection.restoreSelection()\n        }\n    }\n\n    /**\n     * 尝试修改菜单激活状态\n     */\n    public tryChangeActive(): void {\n        const editor = this.editor\n        const cmdValue = editor.selection.getSelectionRangeTopNodes(editor)[0]?.getNodeName()\n        if (cmdValue === 'BLOCKQUOTE') {\n            this.active()\n        } else {\n            this.unActive()\n        }\n    }\n\n    /**\n     * 获取包裹在最外层的节点(防止内部嵌入多个样式)\n     * @param selectionElem 选中的节点\n     * @returns {string} 最终要处理的节点名称\n     */\n    private getTopNodeName(): string {\n        const editor = this.editor\n        const $topNodeElem = editor.selection.getSelectionRangeTopNodes(editor)[0]\n        const nodeName = $topNodeElem?.getNodeName()\n\n        return nodeName\n    }\n\n    /**\n     * 删除选中的元素\n     * @param selectElem 选中的元素节点数组\n     */\n    private delSelectNode(selectElem: DomElement[]) {\n        selectElem.forEach(node => {\n            node.remove()\n        })\n    }\n}\n\nexport default Quote\n","import Editor from '../../../editor/index'\nimport $, { DomElement } from '../../../utils/dom-core'\nfunction bindEvent(editor: Editor) {\n    function quoteEnter(e: Event) {\n        const $selectElem = editor.selection.getSelectionContainerElem() as DomElement\n        const $topSelectElem = editor.selection.getSelectionRangeTopNodes(editor)[0]\n        // 对quote的enter进行特殊处理\n        //最后一行为<p><br></p>时再按会出跳出blockquote\n        if ($topSelectElem?.getNodeName() === 'BLOCKQUOTE') {\n            // firefox下点击引用按钮会选中外容器<blockquote></blockquote>\n            if ($selectElem.getNodeName() === 'BLOCKQUOTE') {\n                const selectNode = $selectElem.childNodes()?.getNode() as Node\n                editor.selection.moveCursor(selectNode)\n            }\n            if ($selectElem.text() === '') {\n                e.preventDefault()\n                $selectElem.remove()\n                const $newLine = $('<p><br></p>')\n                $newLine.insertAfter($topSelectElem)\n                // 将光标移动br前面\n                editor.selection.moveCursor($newLine.getNode(), true)\n            }\n\n            // 当blockQuote中没有内容回车后移除blockquote\n            if ($topSelectElem.text() === '') {\n                $topSelectElem.remove()\n            }\n        }\n    }\n    editor.txt.eventHooks.enterDownEvents.push(quoteEnter)\n}\n\nexport default bindEvent\n","import $, { DomElement } from '../../utils/dom-core'\n\n/**\n * 创建一个blockquote元素节点\n * @param editor 编辑器实例\n */\nfunction createQuote($childElem: DomElement[]): DomElement {\n    const $targetElem = $(`<blockquote></blockquote>`)\n    $childElem.forEach(node => {\n        $targetElem.append(node.clone(true))\n    })\n    return $targetElem\n}\n\nexport default createQuote\n","/**\n * @description 背景颜色 BackColor\n * @author lkw\n *\n */\n\nimport DropListMenu from '../menu-constructors/DropListMenu'\nimport $ from '../../utils/dom-core'\nimport Editor from '../../editor/index'\nimport { MenuActive } from '../menu-constructors/Menu'\nimport { hexToRgb } from '../../utils/util'\nclass BackColor extends DropListMenu implements MenuActive {\n    constructor(editor: Editor) {\n        const $elem = $(\n            `<div class=\"w-e-menu\">\n                <i class=\"w-e-icon-paint-brush\"></i>\n            </div>`\n        )\n        const colorListConf = {\n            width: 120,\n            title: '背景颜色',\n            // droplist 内容以 block 形式展示\n            type: 'inline-block',\n            list: editor.config.colors.map(color => {\n                return {\n                    $elem: $(`<i style=\"color:${color};\" class=\"w-e-icon-paint-brush\"></i>`),\n                    value: color,\n                }\n            }),\n            clickHandler: (value: string) => {\n                // this 是指向当前的 BackColor 对象\n                this.command(value)\n            },\n        }\n        super($elem, editor, colorListConf)\n    }\n\n    /**\n     * 执行命令\n     * @param value value\n     */\n    public command(value: string): void {\n        const editor = this.editor\n        const isEmptySelection = editor.selection.isSelectionEmpty()\n        const $selectionElem = editor.selection.getSelectionContainerElem()?.elems[0]\n        const isSpan = $selectionElem?.nodeName.toLowerCase() !== 'p'\n        const bgColor = $selectionElem?.style.backgroundColor\n        const isSameColor = hexToRgb(value) === bgColor\n\n        if (isEmptySelection) {\n            if (isSpan && !isSameColor) {\n                const $elems = editor.selection.getSelectionRangeTopNodes(editor)\n                editor.selection.createRangeByElem($elems[0])\n                editor.selection.moveCursor($elems[0].elems[0])\n            }\n            // 插入空白选区\n            editor.selection.createEmptyRange()\n        }\n\n        editor.cmd.do('backColor', value)\n\n        if (isEmptySelection) {\n            // 需要将选区范围折叠起来\n            editor.selection.collapseRange()\n            editor.selection.restoreSelection()\n        }\n    }\n\n    /**\n     * 尝试修改菜单激活状态\n     */\n    public tryChangeActive(): void {}\n}\n\nexport default BackColor\n","/**\n * @description 文字颜色 FontColor\n * @author lkw\n *\n */\n\nimport DropListMenu from '../menu-constructors/DropListMenu'\nimport $ from '../../utils/dom-core'\nimport Editor from '../../editor/index'\nimport { MenuActive } from '../menu-constructors/Menu'\n\nclass FontColor extends DropListMenu implements MenuActive {\n    constructor(editor: Editor) {\n        const $elem = $(\n            `<div class=\"w-e-menu\">\n                <i class=\"w-e-icon-pencil2\"></i>\n            </div>`\n        )\n        const colorListConf = {\n            width: 120,\n            title: '文字颜色',\n            // droplist 内容以 block 形式展示\n            type: 'inline-block',\n            list: editor.config.colors.map(color => {\n                return {\n                    $elem: $(`<i style=\"color:${color};\" class=\"w-e-icon-pencil2\"></i>`),\n                    value: color,\n                }\n            }),\n            clickHandler: (value: string) => {\n                // this 是指向当前的 BackColor 对象\n                this.command(value)\n            },\n        }\n        super($elem, editor, colorListConf)\n    }\n\n    /**\n     * 执行命令\n     * @param value value\n     */\n    public command(value: string): void {\n        const editor = this.editor\n        const isEmptySelection = editor.selection.isSelectionEmpty()\n        const $selectionElem = editor.selection.getSelectionContainerElem()?.elems[0]\n        const isFont = $selectionElem?.nodeName.toLowerCase() !== 'p'\n        const isSameColor = $selectionElem?.getAttribute('color') === value\n\n        if (isEmptySelection) {\n            if (isFont && !isSameColor) {\n                const $elems = editor.selection.getSelectionRangeTopNodes(editor)\n                editor.selection.createRangeByElem($elems[0])\n                editor.selection.moveCursor($elems[0].elems[0])\n            }\n            // 插入空白选区\n            editor.selection.createEmptyRange()\n        }\n\n        editor.cmd.do('foreColor', value)\n\n        if (isEmptySelection) {\n            // 需要将选区范围折叠起来\n            editor.selection.collapseRange()\n            editor.selection.restoreSelection()\n        }\n    }\n\n    /**\n     * 尝试修改菜单激活状态\n     */\n    public tryChangeActive(): void {}\n}\n\nexport default FontColor\n","/**\n * @description 视频 菜单\n * @author tonghan\n */\n\nimport $ from '../../utils/dom-core'\nimport Panel from '../menu-constructors/Panel'\nimport Editor from '../../editor/index'\nimport PanelMenu from '../menu-constructors/PanelMenu'\nimport { MenuActive } from '../menu-constructors/Menu'\nimport createPanelConf from './create-panel-conf'\n\nclass Video extends PanelMenu implements MenuActive {\n    constructor(editor: Editor) {\n        const $elem = $(\n            `<div class=\"w-e-menu\">\n                <i class=\"w-e-icon-play\"></i>\n            </div>`\n        )\n        super($elem, editor)\n    }\n\n    /**\n     * 菜单点击事件\n     */\n    public clickHandler(): void {\n        // 弹出 panel\n        this.createPanel('')\n    }\n\n    /**\n     * 创建 panel\n     * @param link 链接\n     */\n    private createPanel(iframe: string): void {\n        const conf = createPanelConf(this.editor, iframe)\n        const panel = new Panel(this, conf)\n        panel.create()\n    }\n\n    /**\n     * 尝试修改菜单 active 状态\n     */\n    public tryChangeActive() {}\n}\n\nexport default Video\n","/**\n * @description video 菜单 panel tab 配置\n * @author tonghan\n */\n\nimport Editor from '../../editor/index'\nimport { PanelConf, PanelTabConf } from '../menu-constructors/Panel'\nimport { getRandom } from '../../utils/util'\nimport $ from '../../utils/dom-core'\n/* import { videoRegex } from '../../utils/const' */\nimport UploadVideo from './upload-video'\n\nexport default function (editor: Editor, video: string): PanelConf {\n    const config = editor.config\n    const uploadVideo = new UploadVideo(editor)\n    // panel 中需要用到的id\n    const inputIFrameId = getRandom('input-iframe')\n    const btnOkId = getRandom('btn-ok')\n    // panel 中需要用到的id\n    const upTriggerId = getRandom('up-trigger-id')\n    const upFileId = getRandom('up-file-id')\n    // const linkUrlId = getRandom('input-link-url')\n    // const linkBtnId = getRandom('btn-link')\n\n    const i18nPrefix = 'menus.panelMenus.video.'\n    const t = (text: string, prefix: string = i18nPrefix): string => {\n        return editor.i18next.t(prefix + text)\n    }\n\n    /**\n     * 校验在线视频链接\n     * @param video 在线视频链接\n     */\n    /* function checkOnlineVideo(video: string): boolean {\n        // 编辑器进行正常校验，video 合规则使指针为true，不合规为false\n        let flag = true\n        if (!videoRegex.test(video)) {\n            flag = false\n        }\n\n        // 查看开发者自定义配置的返回值\n        const check = editor.config.onlineVideoCheck(video)\n        if (check === undefined) {\n            if (flag === false) console.log(t('您刚才插入的视频链接未通过编辑器校验', 'validate.'))\n        } else if (check === true) {\n            // 用户通过了开发者的校验\n            if (flag === false) {\n                editor.config.customAlert(\n                    `${t('您插入的网络视频无法识别', 'validate.')}，${t(\n                        '请替换为正确的网络视频格式',\n                        'validate.'\n                    )}：如<iframe src=...></iframe>`,\n                    'warning'\n                )\n            } else {\n                return true\n            }\n        } else {\n            //用户未能通过开发者的校验，开发者希望我们提示这一字符串\n            editor.config.customAlert(check, 'error')\n        }\n        return false\n    } */\n\n    // tabs 配置 -----------------------------------------\n    const fileMultipleAttr = config.uploadVideoMaxLength === 1 ? '' : 'multiple=\"multiple\"'\n    const accepts: string = config.uploadVideoAccept.map((item: string) => `${item}`).join(',')\n    const tabsConf: PanelTabConf[] = [\n        // first tab\n        {\n            // 标题\n            title: t('上传视频'),\n            // 模板\n            tpl: `<div class=\"w-e-up-img-container\">\n                    <div id=\"${upTriggerId}\" class=\"w-e-up-btn\">\n                        <i class=\"w-e-icon-upload2\"></i>\n                    </div>\n                    <div style=\"display:none;\">\n                        <input id=\"${upFileId}\" type=\"file\" ${fileMultipleAttr} accept=\"${accepts}\"/>\n                    </div>\n                </div>`,\n            // 事件绑定\n            events: [\n                // 触发选择视频\n                {\n                    selector: '#' + upTriggerId,\n                    type: 'click',\n                    fn: () => {\n                        const $file = $('#' + upFileId)\n                        const fileElem = $file.elems[0]\n                        if (fileElem) {\n                            fileElem.click()\n                        } else {\n                            // 返回 true 可关闭 panel\n                            return true\n                        }\n                    },\n                },\n                // 选择视频完毕\n                {\n                    selector: '#' + upFileId,\n                    type: 'change',\n                    fn: () => {\n                        const $file = $('#' + upFileId)\n                        const fileElem = $file.elems[0]\n                        if (!fileElem) {\n                            // 返回 true 可关闭 panel\n                            return true\n                        }\n\n                        // 获取选中的 file 对象列表\n                        const fileList = (fileElem as any).files\n                        if (fileList.length) {\n                            uploadVideo.uploadVideo(fileList)\n                        }\n\n                        // 返回 true 可关闭 panel\n                        return true\n                    },\n                },\n            ],\n        }, // first tab end\n        // second tab\n        {\n            // tab 的标题\n            title: editor.i18next.t('menus.panelMenus.video.插入视频'),\n            // 模板\n            tpl: `<div>\n                    <input \n                        id=\"${inputIFrameId}\" \n                        type=\"text\" \n                        class=\"block\" \n                        placeholder=\"${editor.i18next.t('视频链接')}\"\n                    </td>\n                    <div class=\"w-e-button-container\">\n                        <button type=\"button\" id=\"${btnOkId}\" class=\"right\">\n                            ${editor.i18next.t('插入')}\n                        </button>\n                    </div>\n                </div>`,\n            // 事件绑定\n            events: [\n                // 插入视频\n                {\n                    selector: '#' + btnOkId,\n                    type: 'click',\n                    fn: () => {\n                        // 执行插入视频\n                        const $video = $('#' + inputIFrameId)\n                        let video = $video.val().trim()\n\n                        // 视频为空，则不插入\n                        if (!video) return\n                        // 对当前用户插入的内容进行判断，插入为空，或者返回false，都停止插入\n                        // let vNew = uploadVideo.initVideoDomStr(video)\n\n                        // if (!checkOnlineVideo(vNew)) return\n\n                        uploadVideo.insertVideo(video)\n                        // 返回 true，表示该事件执行完之后，panel 要关闭。否则 panel 不会关闭\n                        return true\n                    },\n                },\n            ],\n        }, // second tab end\n    ]\n    // tabs end\n\n    // 最终的配置 -----------------------------------------\n    const conf: PanelConf = {\n        width: 300,\n        height: 0,\n        tabs: [],\n    }\n\n    // 显示“上传视频”\n    if (\n        window.FileReader &&\n        (config.uploadVideoShowBase64 || config.uploadVideoServer || config.customUploadVideo)\n    ) {\n        conf.tabs.push(tabsConf[0])\n    }\n    // 显示“插入网络图片”\n    if (config.showLinkVideo) {\n        conf.tabs.push(tabsConf[1])\n    }\n\n    return conf\n}\n","/**\n * @description 上传视频\n * @author wangfupeng\n */\n\nimport Editor from '../../editor/index'\nimport { arrForEach, forEach } from '../../utils/util'\nimport post from '../../editor/upload/upload-core'\nimport Progress from '../../editor/upload/progress'\n\nexport type ResType = {\n    errno: number | string\n    data: string[]\n}\n\nclass UploadVideo {\n    private editor: Editor\n\n    constructor(editor: Editor) {\n        this.editor = editor\n    }\n\n    /**\n     * 插入链接\n     * @param iframe html标签\n     */\n    public insertVideo(src: string): void {\n        const editor = this.editor\n\n        editor.cmd.do(\n            'insertHTML',\n            '<p><br /></p>' + this.initVideoDomStr(src) + '<p><br /></p>'\n        )\n\n        // video添加后的回调\n        editor.config.onlineVideoCallback(this.initVideoDomStr(src))\n    }\n\n    public initVideoDomStr(src: string): string {\n        return `<video style=\"width:100%;max-height: 80%;\"  src=\"${src}\" controls=\"controls\"></video>`\n        // return `<iframe style=\"width:740px; min-height: 308px\" src=\"${src}\"></iframe>`\n    }\n\n    /**\n     * 上传视频\n     * @param files 文件列表\n     */\n    public uploadVideo(files: FileList | File[]): void {\n        if (!files.length) {\n            return\n        }\n\n        const editor = this.editor\n        const config = editor.config\n\n        // ------------------------------ i18next ------------------------------\n\n        const i18nPrefix = 'validate.'\n        const t = (text: string): string => {\n            return editor.i18next.t(i18nPrefix + text)\n        }\n\n        // ------------------------------ 获取配置信息 ------------------------------\n\n        // 服务端地址\n        let uploadVideoServer = config.uploadVideoServer\n        // base64 格式\n        const uploadVideoShowBase64 = config.uploadVideoShowBase64\n        // 视频最大体积\n        const maxSize = config.uploadVideoMaxSize\n        const maxSizeM = maxSize / 1024 / 1024\n        // 一次最多上传视频数量\n        const maxLength = config.uploadVideoMaxLength\n        // 自定义 fileName\n        const uploadFileName = config.uploadVideoName\n        // 自定义参数\n        const uploadVideoParams = config.uploadVideoParams\n\n        // 自定义 header\n        const uploadImgHeaders = config.uploadImgHeaders\n        // 钩子函数\n        const hooks = config.uploadVideoHooks\n        // 上传视频超时时间\n        const timeout = config.uploadVideoTimeout\n        // // 跨域带 cookie\n        const withCredentials = config.withCredentials\n        // // 自定义上传视频\n        const customUploadVideo = config.customUploadVideo\n\n        if (!customUploadVideo) {\n            // 没有 customUploadVideo 的情况下，需要如下两个配置才能继续进行视频上传\n            if (!uploadVideoServer && !uploadVideoShowBase64) {\n                return\n            }\n        }\n\n        // ------------------------------ 验证文件信息 ------------------------------\n        const resultFiles: File[] = []\n        const errInfos: string[] = []\n        arrForEach(files, file => {\n            const name = file.name\n            const size = file.size\n\n            // chrome 低版本 name === undefined\n            if (!name || !size) {\n                return\n            }\n\n            if (/\\.(mp4)$/i.test(name) === false) {\n                // 后缀名不合法，不是视频\n                errInfos.push(`【${name}】${t('不是视频')}`)\n                return\n            }\n\n            if (maxSize < size) {\n                // 上传视频过大\n                errInfos.push(`【${name}】${t('大于')} ${maxSizeM}M`)\n                return\n            }\n\n            // 验证通过的加入结果列表\n            resultFiles.push(file)\n        })\n        // 抛出验证信息\n        if (errInfos.length) {\n            config.customAlert(`${t('视频验证未通过')}: \\n` + errInfos.join('\\n'), 'warning')\n            return\n        }\n        if (resultFiles.length > maxLength) {\n            config.customAlert(t('一次最多上传') + maxLength + t('个视频'), 'warning')\n            return\n        }\n\n        // ------------------------------ 自定义上传 ------------------------------\n        if (customUploadVideo && typeof customUploadVideo === 'function') {\n            customUploadVideo(resultFiles, this.insertVideo.bind(this))\n\n            // 阻止以下代码执行，重要！！！\n            return\n        }\n\n        // ------------------------------ 上传视频 ------------------------------\n\n        // 添加视频数据\n        const formData = new FormData()\n        resultFiles.forEach((file: File, index: number) => {\n            let name = uploadFileName || file.name\n            if (resultFiles.length > 1) {\n                // 多个文件时，filename 不能重复\n                name = name + (index + 1)\n            }\n            formData.append(name, file)\n        })\n        if (uploadVideoServer) {\n            // 添加自定义参数\n            const uploadVideoServerArr = uploadVideoServer.split('#')\n            uploadVideoServer = uploadVideoServerArr[0]\n            const uploadVideoServerHash = uploadVideoServerArr[1] || ''\n            forEach(uploadVideoParams, (key: string, val: string) => {\n                // 第二，将参数添加到 formData 中\n                formData.append(key, val)\n            })\n            if (uploadVideoServerHash) {\n                uploadVideoServer += '#' + uploadVideoServerHash\n            }\n\n            // 开始上传\n            const xhr = post(uploadVideoServer, {\n                timeout,\n                formData,\n                headers: uploadImgHeaders,\n                withCredentials: !!withCredentials,\n                beforeSend: xhr => {\n                    if (hooks.before) return hooks.before(xhr, editor, resultFiles)\n                },\n                onTimeout: xhr => {\n                    config.customAlert(t('上传视频超时'), 'error')\n                    if (hooks.timeout) hooks.timeout(xhr, editor)\n                },\n                onProgress: (percent, e) => {\n                    const progressBar = new Progress(editor)\n                    if (e.lengthComputable) {\n                        percent = e.loaded / e.total\n                        progressBar.show(percent)\n                    }\n                },\n                onError: xhr => {\n                    config.customAlert(\n                        t('上传视频错误'),\n                        'error',\n                        `${t('上传视频错误')}，${t('服务器返回状态')}: ${xhr.status}`\n                    )\n                    if (hooks.error) hooks.error(xhr, editor)\n                },\n                onFail: (xhr, resultStr) => {\n                    config.customAlert(\n                        t('上传视频失败'),\n                        'error',\n                        t('上传视频返回结果错误') + `，${t('返回结果')}: ` + resultStr\n                    )\n                    if (hooks.fail) hooks.fail(xhr, editor, resultStr)\n                },\n                onSuccess: (xhr, result: ResType) => {\n                    if (hooks.customInsert) {\n                        // 自定义插入视频\n                        hooks.customInsert(this.insertVideo.bind(this), result, editor)\n                        return\n                    }\n                    if (result.errno != '0') {\n                        // 返回格式不对，应该为 { errno: 0, data: [...] }\n                        config.customAlert(\n                            t('上传视频失败'),\n                            'error',\n                            `${t('上传视频返回结果错误')}，${t('返回结果')} errno=${result.errno}`\n                        )\n                        if (hooks.fail) hooks.fail(xhr, editor, result)\n                        return\n                    }\n\n                    // 成功，插入视频\n                    const data = result.data\n                    data.forEach(link => {\n                        this.insertVideo(link)\n                    })\n\n                    // 钩子函数\n                    if (hooks.success) hooks.success(xhr, editor, result)\n                },\n            })\n            if (typeof xhr === 'string') {\n                // 上传被阻止\n                config.customAlert(xhr, 'error')\n            }\n\n            // 阻止以下代码执行，重要！！！\n            return\n        }\n\n        // ------------------------------ 显示 base64 格式 ------------------------------\n        if (uploadVideoShowBase64) {\n            arrForEach(files, file => {\n                const _this = this\n                const reader = new FileReader()\n                reader.readAsDataURL(file)\n                reader.onload = function () {\n                    if (!this.result) return\n                    _this.insertVideo(this.result.toString())\n                }\n            })\n        }\n    }\n}\n\nexport default UploadVideo\n","module.exports = require(\"core-js-pure/stable/date/now\");","var parent = require('../../es/date/now');\n\nmodule.exports = parent;\n","require('../../modules/es.date.now');\nvar path = require('../../internals/path');\n\nmodule.exports = path.Date.now;\n","var $ = require('../internals/export');\n\n// `Date.now` method\n// https://tc39.github.io/ecma262/#sec-date.now\n$({ target: 'Date', stat: true }, {\n  now: function now() {\n    return new Date().getTime();\n  }\n});\n","/**\n * @description 插入、上传图片\n * @author wangfupeng\n */\n\nimport PanelMenu from '../menu-constructors/PanelMenu'\nimport Editor from '../../editor/index'\nimport $ from '../../utils/dom-core'\nimport createPanelConf from './create-panel-conf'\nimport Panel from '../menu-constructors/Panel'\nimport { MenuActive } from '../menu-constructors/Menu'\nimport bindEvent from './bind-event/index'\n\nclass Image extends PanelMenu implements MenuActive {\n    constructor(editor: Editor) {\n        const $elem = $('<div class=\"w-e-menu\"><i class=\"w-e-icon-image\"></i></div>')\n        super($elem, editor)\n\n        // 绑定事件，如粘贴图片\n        bindEvent(editor)\n    }\n\n    /**\n     * 菜单点击事件\n     */\n    public clickHandler(): void {\n        this.createPanel()\n    }\n\n    /**\n     * 创建 panel\n     */\n    private createPanel(): void {\n        const conf = createPanelConf(this.editor)\n        const panel = new Panel(this, conf)\n        panel.create()\n    }\n\n    /**\n     * 尝试修改菜单 active 状态\n     */\n    public tryChangeActive() {}\n}\n\nexport default Image\n","/**\n * @description image 菜单 panel tab 配置\n * @author wangfupeng\n */\n\nimport Editor from '../../editor/index'\nimport { PanelConf, PanelTabConf } from '../menu-constructors/Panel'\nimport { getRandom } from '../../utils/util'\nimport $ from '../../utils/dom-core'\nimport UploadImg from './upload-img'\nimport { imgRegex } from '../../utils/const'\n\nexport default function (editor: Editor): PanelConf {\n    const config = editor.config\n    const uploadImg = new UploadImg(editor)\n\n    // panel 中需要用到的id\n    const upTriggerId = getRandom('up-trigger-id')\n    const upFileId = getRandom('up-file-id')\n    const linkUrlId = getRandom('input-link-url')\n    const linkBtnId = getRandom('btn-link')\n\n    const i18nPrefix = 'menus.panelMenus.image.'\n    const t = (text: string, prefix: string = i18nPrefix): string => {\n        return editor.i18next.t(prefix + text)\n    }\n\n    /**\n     * 校验网络图片链接是否合法\n     * @param linkImg 网络图片链接\n     */\n    function checkLinkImg(src: string): boolean {\n        //编辑器进行正常校验，图片合规则使指针为true，不合规为false\n        let flag = true\n        if (!imgRegex.test(src)) {\n            flag = false\n        }\n\n        //查看开发者自定义配置的返回值\n        const check = config.linkImgCheck(src)\n        if (check === undefined) {\n            //用户未能通过开发者的校验，且开发者不希望编辑器提示用户\n            if (flag === false) console.log(t('您刚才插入的图片链接未通过编辑器校验', 'validate.'))\n        } else if (check === true) {\n            //用户通过了开发者的校验\n            if (flag === false) {\n                config.customAlert(\n                    `${t('您插入的网络图片无法识别', 'validate.')}，${t(\n                        '请替换为支持的图片类型',\n                        'validate.'\n                    )}：jpg | png | gif ...`,\n                    'warning'\n                )\n            } else return true\n        } else {\n            //用户未能通过开发者的校验，开发者希望我们提示这一字符串\n            config.customAlert(check, 'error')\n        }\n        return false\n    }\n\n    // tabs 配置 -----------------------------------------\n    const fileMultipleAttr = config.uploadImgMaxLength === 1 ? '' : 'multiple=\"multiple\"'\n    const accepts: string = config.uploadImgAccept.map((item: string) => `image/${item}`).join(',')\n    const tabsConf: PanelTabConf[] = [\n        // first tab\n        {\n            // 标题\n            title: t('上传图片'),\n            // 模板\n            tpl: `<div class=\"w-e-up-img-container\">\n                    <div id=\"${upTriggerId}\" class=\"w-e-up-btn\">\n                        <i class=\"w-e-icon-upload2\"></i>\n                    </div>\n                    <div style=\"display:none;\">\n                        <input id=\"${upFileId}\" type=\"file\" ${fileMultipleAttr} accept=\"${accepts}\"/>\n                    </div>\n                </div>`,\n            // 事件绑定\n            events: [\n                // 触发选择图片\n                {\n                    selector: '#' + upTriggerId,\n                    type: 'click',\n                    fn: () => {\n                        const $file = $('#' + upFileId)\n                        const fileElem = $file.elems[0]\n                        if (fileElem) {\n                            fileElem.click()\n                        } else {\n                            // 返回 true 可关闭 panel\n                            return true\n                        }\n                    },\n                },\n                // 选择图片完毕\n                {\n                    selector: '#' + upFileId,\n                    type: 'change',\n                    fn: () => {\n                        const $file = $('#' + upFileId)\n                        const fileElem = $file.elems[0]\n                        if (!fileElem) {\n                            // 返回 true 可关闭 panel\n                            return true\n                        }\n\n                        // 获取选中的 file 对象列表\n                        const fileList = (fileElem as any).files\n                        if (fileList.length) {\n                            uploadImg.uploadImg(fileList)\n                        }\n\n                        // 返回 true 可关闭 panel\n                        return true\n                    },\n                },\n            ],\n        }, // first tab end\n        // second tab\n        {\n            title: t('网络图片'),\n            tpl: `<div>\n                    <input\n                        id=\"${linkUrlId}\"\n                        type=\"text\"\n                        class=\"block\"\n                        placeholder=\"${t('图片链接')}\"/>\n                    </td>\n                    <div class=\"w-e-button-container\">\n                        <button type=\"button\" id=\"${linkBtnId}\" class=\"right\">${t(\n                '插入',\n                ''\n            )}</button>\n                    </div>\n                </div>`,\n            events: [\n                {\n                    selector: '#' + linkBtnId,\n                    type: 'click',\n                    fn: () => {\n                        const $linkUrl = $('#' + linkUrlId)\n                        const url = $linkUrl.val().trim()\n\n                        //如果url为空则直接返回\n                        if (!url) return\n                        //如果不能通过校验也直接返回\n                        if (!checkLinkImg(url)) return\n\n                        //插入图片url\n                        uploadImg.insertImg(url)\n                        // 返回 true 表示函数执行结束之后关闭 panel\n                        return true\n                    },\n                },\n            ],\n        }, // second tab end\n    ]\n    // tabs end\n\n    // 最终的配置 -----------------------------------------\n    const conf: PanelConf = {\n        width: 300,\n        height: 0,\n        tabs: [],\n    }\n    // 显示“上传图片”\n    if (\n        window.FileReader &&\n        (config.uploadImgShowBase64 || config.uploadImgServer || config.customUploadImg)\n    ) {\n        conf.tabs.push(tabsConf[0])\n    }\n    // 显示“插入网络图片”\n    if (config.showLinkImg) {\n        conf.tabs.push(tabsConf[1])\n    }\n\n    return conf\n}\n","/**\n * @description 绑定图片的事件\n * @author wangfupeng\n */\n\nimport Editor from '../../../editor/index'\nimport bindPasteImg from './paste-img'\nimport bindDropImg from './drop-img'\nimport bindDragImgSize from './drag-size'\nimport bindTooltipImg from './tooltip-event'\n\n/**\n * 绑定事件\n * @param editor 编辑器实例\n */\nfunction bindEvent(editor: Editor): void {\n    // 粘贴图片\n    bindPasteImg(editor)\n\n    // 拖拽图片\n    bindDropImg(editor)\n\n    // 可再扩展其他事件...如图片 tooltip 等\n    // 拖拽图片尺寸\n    bindDragImgSize(editor)\n\n    //Tooltip\n    bindTooltipImg(editor)\n}\n\nexport default bindEvent\n","/**\n * @description 粘贴图片\n * @author wangfupeng\n */\n\nimport Editor from '../../../editor/index'\nimport { getPasteText, getPasteHtml, getPasteImgs } from '../../../text/paste/paste-event'\nimport UploadImg from '../upload-img'\n\n/**\n * 剪切板是否有 text 或者 html ？\n * @param editor 编辑器对象\n * @param e 粘贴事件参数\n */\nfunction _haveTextOrHtml(editor: Editor, e: ClipboardEvent): boolean {\n    const config = editor.config\n    const pasteFilterStyle = config.pasteFilterStyle\n    const pasteIgnoreImg = config.pasteIgnoreImg\n    let pasteHtml = getPasteHtml(e, pasteFilterStyle, pasteIgnoreImg)\n    if (pasteHtml) return true\n    let pasteText = getPasteText(e)\n    if (pasteText) return true\n\n    return false // text html 都没有，则返回 false\n}\n\n/**\n * 粘贴图片事件方法\n * @param e 事件参数\n */\nfunction pasteImgHandler(e: ClipboardEvent, editor: Editor): void {\n    if (_haveTextOrHtml(editor, e)) {\n        // 粘贴过来的有 text 或者 html ，则不执行粘贴图片逻辑\n        return\n    }\n\n    // 获取粘贴的图片列表\n    const pastedFiles = getPasteImgs(e)\n    if (!pastedFiles.length) {\n        return\n    }\n\n    // code 中忽略（暂不管它）\n\n    // 执行上传\n    const uploadImg = new UploadImg(editor)\n    uploadImg.uploadImg(pastedFiles)\n}\n\n/**\n * 粘贴图片\n * @param editor 编辑器对象\n * @param pasteEvents 粘贴事件列表\n */\nfunction bindPasteImg(editor: Editor): void {\n    // 绑定 paste 事件\n    editor.txt.eventHooks.pasteEvents.push((e: ClipboardEvent) => {\n        pasteImgHandler(e, editor)\n    })\n}\n\nexport default bindPasteImg\n","/**\n * @description 拖拽上传图片\n * @author wangfupeng\n */\n\nimport Editor from '../../../editor/index'\nimport UploadImg from '../upload-img'\n\nexport default function bindDropImg(editor: Editor): void {\n    /**\n     * 拖拽图片的事件\n     * @param e 事件参数\n     */\n    function dropImgHandler(e: any): void {\n        const files = e.dataTransfer && e.dataTransfer.files\n        if (!files || !files.length) {\n            return\n        }\n\n        // 上传图片\n        const uploadImg = new UploadImg(editor)\n        uploadImg.uploadImg(files)\n    }\n\n    // 绑定 drop 事件\n    editor.txt.eventHooks.dropEvents.push(dropImgHandler)\n}\n","/**\n * @description 图片拖拽事件绑定\n * @author xiaokyo\n */\n\nimport Editor from '../../../editor'\nimport $, { DomElement } from '../../../utils/dom-core'\nimport '../../../assets/style/drag-size.less'\nimport { UA } from '../../../utils/util'\n\n/**\n * 设置拖拽框的rect\n * @param $drag drag Dom\n * @param width 要设置的宽度\n * @param height 要设置的高度\n * @param left 要设置的左边\n * @param top 要设置的顶部距离\n */\nfunction setDragStyle($drag: DomElement, width: number, height: number, left: number, top: number) {\n    $drag.attr('style', `width:${width}px; height:${height}px; left:${left}px; top:${top}px;`)\n}\n\n/**\n * 生成一个图片指定大小的拖拽框\n * @param editor 编辑器实例\n * @param $textContainerElem 编辑框对象\n */\nfunction createDragBox(editor: Editor, $textContainerElem: DomElement): DomElement {\n    const $drag = $(\n        `<div class=\"w-e-img-drag-mask\">\n            <div class=\"w-e-img-drag-show-size\"></div>\n            <div class=\"w-e-img-drag-rb\"></div>\n         </div>`\n    )\n\n    $drag.hide()\n    $textContainerElem.append($drag)\n    return $drag\n}\n\n/**\n * 显示拖拽框并设置宽度\n * @param $textContainerElem 编辑框实例\n * @param $drag 拖拽框对象\n */\nfunction showDargBox($textContainerElem: DomElement, $drag: DomElement, $img: DomElement) {\n    const boxRect = $textContainerElem.getBoundingClientRect()\n    const rect = $img.getBoundingClientRect()\n    const rectW = rect.width.toFixed(2)\n    const rectH = rect.height.toFixed(2)\n    $drag.find('.w-e-img-drag-show-size').text(`${rectW}px * ${rectH}px`)\n    setDragStyle(\n        $drag,\n        parseFloat(rectW),\n        parseFloat(rectH),\n        rect.left - boxRect.left,\n        rect.top - boxRect.top\n    )\n    $drag.show()\n}\n\n/**\n * 生成图片拖拽框的 显示/隐藏 函数\n */\nfunction createShowHideFn(editor: Editor) {\n    const $textContainerElem = editor.$textContainerElem\n    let $imgTarget: DomElement\n\n    // 生成拖拽框\n    const $drag = createDragBox(editor, $textContainerElem)\n\n    /**\n     * 设置拖拽事件\n     * @param $drag 拖拽框的domElement\n     * @param $textContainerElem 编辑器实例\n     */\n    function bindDragEvents($drag: DomElement, $container: DomElement) {\n        $drag.on('click', function (e: Event) {\n            e.stopPropagation()\n        })\n        $drag.on('mousedown', '.w-e-img-drag-rb', (e: MouseEvent) => {\n            // e.stopPropagation()\n            e.preventDefault()\n\n            if (!$imgTarget) return\n\n            const firstX = e.clientX\n            const firstY = e.clientY\n            const boxRect = $container.getBoundingClientRect()\n            const imgRect = $imgTarget.getBoundingClientRect()\n            const width = imgRect.width\n            const height = imgRect.height\n            const left = imgRect.left - boxRect.left\n            const top = imgRect.top - boxRect.top\n            const ratio = width / height\n\n            let setW = width\n            let setH = height\n            const $document = $(document)\n\n            function offEvents() {\n                $document.off('mousemove', mouseMoveHandler)\n                $document.off('mouseup', mouseUpHandler)\n            }\n\n            function mouseMoveHandler(ev: MouseEvent) {\n                ev.stopPropagation()\n                ev.preventDefault()\n\n                setW = width + (ev.clientX - firstX)\n                setH = height + (ev.clientY - firstY)\n\n                // 等比计算\n                if (setW / setH != ratio) {\n                    setH = setW / ratio\n                }\n\n                setW = parseFloat(setW.toFixed(2))\n                setH = parseFloat(setH.toFixed(2))\n\n                $drag\n                    .find('.w-e-img-drag-show-size')\n                    .text(\n                        `${setW.toFixed(2).replace('.00', '')}px * ${setH\n                            .toFixed(2)\n                            .replace('.00', '')}px`\n                    )\n                setDragStyle($drag, setW, setH, left, top)\n            }\n            $document.on('mousemove', mouseMoveHandler)\n\n            function mouseUpHandler() {\n                $imgTarget.attr('width', setW + '')\n                $imgTarget.attr('height', setH + '')\n                const newImgRect = $imgTarget.getBoundingClientRect()\n                setDragStyle(\n                    $drag,\n                    setW,\n                    setH,\n                    newImgRect.left - boxRect.left,\n                    newImgRect.top - boxRect.top\n                )\n\n                // 解绑事件\n                offEvents()\n            }\n            $document.on('mouseup', mouseUpHandler)\n\n            // 解绑事件\n            $document.on('mouseleave', offEvents)\n        })\n    }\n\n    // 显示拖拽框\n    function showDrag($target: DomElement) {\n        if (UA.isIE()) return false\n        if ($target) {\n            $imgTarget = $target\n            showDargBox($textContainerElem, $drag, $imgTarget)\n        }\n    }\n\n    // 隐藏拖拽框\n    function hideDrag() {\n        $textContainerElem.find('.w-e-img-drag-mask').hide()\n    }\n\n    // 事件绑定\n    bindDragEvents($drag, $textContainerElem)\n\n    // 后期改成 blur 触发\n    $(document).on('click', hideDrag)\n    editor.beforeDestroy(function () {\n        $(document).off('click', hideDrag)\n    })\n\n    return {\n        showDrag,\n        hideDrag,\n    }\n}\n/**\n * 点击事件委托\n * @param editor 编辑器实例\n */\nexport default function bindDragImgSize(editor: Editor) {\n    const { showDrag, hideDrag } = createShowHideFn(editor)\n\n    // 显示拖拽框\n    editor.txt.eventHooks.imgClickEvents.push(showDrag)\n\n    // 隐藏拖拽框\n    editor.txt.eventHooks.textScrollEvents.push(hideDrag)\n    editor.txt.eventHooks.keyupEvents.push(hideDrag)\n    editor.txt.eventHooks.toolbarClickEvents.push(hideDrag)\n    editor.txt.eventHooks.menuClickEvents.push(hideDrag)\n    editor.txt.eventHooks.changeEvents.push(hideDrag)\n}\n","module.exports = require(\"core-js-pure/stable/parse-float\");","var parent = require('../es/parse-float');\n\nmodule.exports = parent;\n","require('../modules/es.parse-float');\nvar path = require('../internals/path');\n\nmodule.exports = path.parseFloat;\n","var $ = require('../internals/export');\nvar parseFloatImplementation = require('../internals/number-parse-float');\n\n// `parseFloat` method\n// https://tc39.github.io/ecma262/#sec-parsefloat-string\n$({ global: true, forced: parseFloat != parseFloatImplementation }, {\n  parseFloat: parseFloatImplementation\n});\n","var global = require('../internals/global');\nvar trim = require('../internals/string-trim').trim;\nvar whitespaces = require('../internals/whitespaces');\n\nvar $parseFloat = global.parseFloat;\nvar FORCED = 1 / $parseFloat(whitespaces + '-0') !== -Infinity;\n\n// `parseFloat` method\n// https://tc39.github.io/ecma262/#sec-parsefloat-string\nmodule.exports = FORCED ? function parseFloat(string) {\n  var trimmedString = trim(String(string));\n  var result = $parseFloat(trimmedString);\n  return result === 0 && trimmedString.charAt(0) == '-' ? -0 : result;\n} : $parseFloat;\n","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/postcss-loader/src/index.js!../../../node_modules/less-loader/dist/cjs.js!./drag-size.less\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".w-e-text-container {\\n  overflow: hidden;\\n}\\n.w-e-img-drag-mask {\\n  position: absolute;\\n  z-index: 1;\\n  border: 1px dashed #ccc;\\n  box-sizing: border-box;\\n}\\n.w-e-img-drag-mask .w-e-img-drag-rb {\\n  position: absolute;\\n  right: -5px;\\n  bottom: -5px;\\n  width: 16px;\\n  height: 16px;\\n  border-radius: 50%;\\n  background: #ccc;\\n  cursor: se-resize;\\n}\\n.w-e-img-drag-mask .w-e-img-drag-show-size {\\n  min-width: 110px;\\n  height: 22px;\\n  line-height: 22px;\\n  font-size: 14px;\\n  color: #999;\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n  background-color: #999;\\n  color: #fff;\\n  border-radius: 2px;\\n  padding: 0 5px;\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/**\n * @description tooltip 事件\n * @author lichunlin\n */\n\nimport $, { DomElement } from '../../../utils/dom-core'\nimport Tooltip, { TooltipConfType } from '../../menu-constructors/Tooltip'\nimport Editor from '../../../editor/index'\n\n/**\n * 生成 Tooltip 的显示隐藏函数\n */\nfunction createShowHideFn(editor: Editor) {\n    let tooltip: Tooltip | null\n    const t = (text: string, prefix: string = ''): string => {\n        return editor.i18next.t(prefix + text)\n    }\n\n    /**\n     * 显示 tooltip\n     * @param $node 链接元素\n     */\n    function showImgTooltip($node: DomElement) {\n        const conf: TooltipConfType = [\n            {\n                $elem: $(\"<span class='w-e-icon-trash-o'></span>\"),\n                onClick: (editor: Editor, $node: DomElement) => {\n                    // 选中img元素\n                    editor.selection.createRangeByElem($node)\n                    editor.selection.restoreSelection()\n                    editor.cmd.do('delete')\n                    // 返回 true，表示执行完之后，隐藏 tooltip。否则不隐藏。\n                    return true\n                },\n            },\n            {\n                $elem: $('<span>30%</span>'),\n                onClick: (editor: Editor, $node: DomElement) => {\n                    $node.attr('width', '30%')\n                    $node.removeAttr('height')\n\n                    // 返回 true，表示执行完之后，隐藏 tooltip。否则不隐藏。\n                    return true\n                },\n            },\n            {\n                $elem: $('<span>50%</span>'),\n                onClick: (editor: Editor, $node: DomElement) => {\n                    $node.attr('width', '50%')\n                    $node.removeAttr('height')\n\n                    // 返回 true，表示执行完之后，隐藏 tooltip。否则不隐藏。\n                    return true\n                },\n            },\n            {\n                $elem: $('<span>100%</span>'),\n                onClick: (editor: Editor, $node: DomElement) => {\n                    $node.attr('width', '100%')\n                    $node.removeAttr('height')\n\n                    // 返回 true，表示执行完之后，隐藏 tooltip。否则不隐藏。\n                    return true\n                },\n            },\n            {\n                $elem: $(`<span>${t('重置')}</span>`),\n                onClick: (editor: Editor, $node: DomElement) => {\n                    $node.removeAttr('width')\n                    $node.removeAttr('height')\n\n                    // 返回 true，表示执行完之后，隐藏 tooltip。否则不隐藏。\n                    return true\n                },\n            },\n        ]\n\n        tooltip = new Tooltip(editor, $node, conf)\n        tooltip.create()\n    }\n\n    /**\n     * 隐藏 tooltip\n     */\n    function hideImgTooltip() {\n        // 移除 tooltip\n        if (tooltip) {\n            tooltip.remove()\n            tooltip = null\n        }\n    }\n\n    return {\n        showImgTooltip,\n        hideImgTooltip,\n    }\n}\n\n/**\n * 绑定 tooltip 事件\n * @param editor 编辑器实例\n */\nexport default function bindTooltipEvent(editor: Editor) {\n    const { showImgTooltip, hideImgTooltip } = createShowHideFn(editor)\n\n    // 点击图片元素是，显示 tooltip\n    editor.txt.eventHooks.imgClickEvents.push(showImgTooltip)\n\n    // 点击其他地方，或者滚动时，隐藏 tooltip\n    editor.txt.eventHooks.clickEvents.push(hideImgTooltip)\n    editor.txt.eventHooks.keyupEvents.push(hideImgTooltip)\n    editor.txt.eventHooks.toolbarClickEvents.push(hideImgTooltip)\n    editor.txt.eventHooks.menuClickEvents.push(hideImgTooltip)\n    editor.txt.eventHooks.textScrollEvents.push(hideImgTooltip)\n    editor.txt.eventHooks.imgDragBarMouseDownEvents.push(hideImgTooltip)\n\n    // change 时隐藏\n    editor.txt.eventHooks.changeEvents.push(hideImgTooltip)\n}\n","/**\n * @description 增加缩进/减少缩进\n * @author tonghan\n */\n\nimport $ from '../../utils/dom-core'\nimport Editor from '../../editor/index'\nimport DropListMenu from '../menu-constructors/DropListMenu'\nimport { MenuActive } from '../menu-constructors/Menu'\nimport operateElement from './operate-element'\n\nclass Indent extends DropListMenu implements MenuActive {\n    constructor(editor: Editor) {\n        const $elem = $(\n            `<div class=\"w-e-menu\">\n                <i class=\"w-e-icon-indent-increase\"></i>\n            </div>`\n        )\n        const dropListConf = {\n            width: 130,\n            title: '设置缩进',\n            type: 'list',\n            list: [\n                {\n                    $elem: $(\n                        `<p>\n                            <i class=\"w-e-icon-indent-increase w-e-drop-list-item\"></i>\n                            ${editor.i18next.t('menus.dropListMenu.indent.增加缩进')}\n                        <p>`\n                    ),\n                    value: 'increase',\n                },\n\n                {\n                    $elem: $(\n                        `<p>\n                            <i class=\"w-e-icon-indent-decrease w-e-drop-list-item\"></i>\n                            ${editor.i18next.t('menus.dropListMenu.indent.减少缩进')}\n                        <p>`\n                    ),\n                    value: 'decrease',\n                },\n            ],\n            clickHandler: (value: string) => {\n                // 注意 this 是指向当前的 Indent 对象\n                this.command(value)\n            },\n        }\n\n        super($elem, editor, dropListConf)\n    }\n\n    /**\n     * 执行命令\n     * @param value value\n     */\n    public command(value: string): void {\n        const editor = this.editor\n        const $selectionElem = editor.selection.getSelectionContainerElem()\n\n        // 判断 当前选区为 textElem 时\n        if ($selectionElem && editor.$textElem.equal($selectionElem)) {\n            // 当 当前选区 等于 textElem 时\n            // 代表 当前选区 可能是一个选择了一个完整的段落或者多个段落\n            const $elems = editor.selection.getSelectionRangeTopNodes(editor)\n            if ($elems.length > 0) {\n                $elems.forEach((item: any) => {\n                    operateElement($(item), value, editor)\n                })\n            }\n        } else {\n            // 当 当前选区 不等于 textElem 时\n            // 代表 当前选区要么是一个段落，要么是段落中的一部分\n            if ($selectionElem && $selectionElem.length > 0) {\n                $selectionElem.forEach((item: any) => {\n                    operateElement($(item), value, editor)\n                })\n            }\n        }\n\n        // 恢复选区\n        editor.selection.restoreSelection()\n        this.tryChangeActive()\n    }\n\n    /**\n     * 尝试改变菜单激活（高亮）状态\n     */\n    public tryChangeActive(): void {\n        const editor = this.editor\n        const $selectionElem = editor.selection.getSelectionStartElem()\n        const $selectionStartElem = $($selectionElem).getNodeTop(editor)\n\n        if ($selectionStartElem.length <= 0) return\n\n        if ($selectionStartElem.elems[0].style['paddingLeft'] != '') {\n            this.active()\n        } else {\n            this.unActive()\n        }\n    }\n}\n\nexport default Indent\n","/**\n * @description 对节点 操作 进行封装\n *                  获取当前节点的段落\n *                  根据type判断是增加还是减少缩进\n * @author tonghan\n */\n\nimport { DomElement } from '../../utils/dom-core'\nimport Editor from '../../editor/index'\nimport { IndentationOptions } from '../../config/menus'\nimport increaseIndentStyle from './increase-indent-style'\nimport decreaseIndentStyle from './decrease-indent-style'\n\nconst lengthRegex = /^(\\d+)(\\w+)$/\nconst percentRegex = /^(\\d+)%$/\n\nfunction parseIndentation(editor: Editor): IndentationOptions {\n    const { indentation } = editor.config\n\n    if (typeof indentation === 'string') {\n        if (lengthRegex.test(indentation)) {\n            const [value, unit] = indentation.trim().match(lengthRegex)!.slice(1, 3)\n            return {\n                value: Number(value),\n                unit,\n            }\n        } else if (percentRegex.test(indentation)) {\n            return {\n                value: Number(indentation.trim().match(percentRegex)![1]),\n                unit: '%',\n            }\n        }\n    } else if (indentation.value !== void 0 && indentation.unit) {\n        return indentation\n    }\n\n    return {\n        value: 2,\n        unit: 'em',\n    }\n}\n\nfunction operateElement($node: DomElement, type: String, editor: Editor): void {\n    const $elem = $node.getNodeTop(editor)\n    const reg = /^P$/i\n\n    if (reg.test($elem.getNodeName())) {\n        if (type === 'increase') increaseIndentStyle($elem, parseIndentation(editor))\n        else if (type === 'decrease') decreaseIndentStyle($elem, parseIndentation(editor))\n    }\n}\n\nexport default operateElement\n","/**\n * @description 增加缩进\n * @author tonghan\n */\n\nimport { DomElement } from '../../utils/dom-core'\nimport { IndentationOptions } from '../../config/menus'\n\nfunction increaseIndentStyle($node: DomElement, options: IndentationOptions): void {\n    const $elem = $node.elems[0]\n    if ($elem.style['paddingLeft'] === '') {\n        $node.css('padding-left', options.value + options.unit)\n    } else {\n        const oldPL = $elem.style['paddingLeft']\n        const oldVal = oldPL.slice(0, oldPL.length - options.unit.length)\n        const newVal = Number(oldVal) + options.value\n        $node.css('padding-left', `${newVal}${options.unit}`)\n    }\n}\n\nexport default increaseIndentStyle\n","/**\n * @description 减少缩进\n * @author tonghan\n */\n\nimport { DomElement } from '../../utils/dom-core'\nimport { IndentationOptions } from '../../config/menus'\n\nfunction decreaseIndentStyle($node: DomElement, options: IndentationOptions): void {\n    const $elem = $node.elems[0]\n    if ($elem.style['paddingLeft'] !== '') {\n        const oldPL = $elem.style['paddingLeft']\n        const oldVal = oldPL.slice(0, oldPL.length - options.unit.length)\n        const newVal = Number(oldVal) - options.value\n        if (newVal > 0) {\n            $node.css('padding-left', `${newVal}${options.unit}`)\n        } else {\n            $node.css('padding-left', '')\n        }\n    }\n}\n\nexport default decreaseIndentStyle\n","/**\n * @description 插入表情\n * @author liuwe\n */\nimport $ from '../../utils/dom-core'\nimport Editor from '../../editor/index'\nimport PanelMenu from '../menu-constructors/PanelMenu'\nimport Panel from '../menu-constructors/Panel'\nimport { MenuActive } from '../menu-constructors/Menu'\nimport createPanelConf from './create-panel-conf'\n\nclass Emoticon extends PanelMenu implements MenuActive {\n    constructor(editor: Editor) {\n        const $elem = $(\n            `<div class=\"w-e-menu\">\n                <i class=\"w-e-icon-happy\"></i>\n            </div>`\n        )\n        super($elem, editor)\n    }\n    /**\n     * 创建 panel\n     */\n    private createPanel(): void {\n        const conf = createPanelConf(this.editor)\n        const panel = new Panel(this, conf)\n        panel.create()\n    }\n\n    /**\n     * 菜单表情点击事件\n     */\n    public clickHandler(): void {\n        this.createPanel()\n    }\n\n    public tryChangeActive() {}\n}\n\nexport default Emoticon\n","/**\n * @description  表情菜单 panel配置\n * @author liuwei\n */\n\nimport Editor from '../../editor/index'\nimport { PanelConf, PanelTabConf } from '../menu-constructors/Panel'\nimport $ from '../../utils/dom-core'\nimport { EmotionsType, EmotionsContentType } from '../../config/menus'\n\nexport default function (editor: Editor): PanelConf {\n    // 声明emotions数据结构\n    const emotions: Array<EmotionsType> = editor.config.emotions\n\n    /* tabs配置项 ==================================================================*/\n\n    // 生成表情结构 TODO jele type类型待优化\n    function GenerateExpressionStructure(ele: EmotionsType) {\n        // 返回为一个数组对象\n        let res: string[] = []\n\n        // 如果type是image类型则生成一个img标签\n        if (ele.type == 'image') {\n            res = ele.content.map((con: EmotionsContentType | string) => {\n                if (typeof con == 'string') return ''\n                return `<span  title=\"${con.alt}\">\n                    <img class=\"eleImg\" style src=\"${con.src}\" alt=\"[${con.alt}]\">\n                </span>`\n            })\n            res = res.filter((s: string) => s !== '')\n        }\n        //否则直接当内容处理\n        else {\n            res = ele.content.map((con: EmotionsContentType | string) => {\n                return `<span class=\"eleImg\" title=\"${con}\">${con}</span>`\n            })\n        }\n\n        return res.join('').replace(/&nbsp;/g, '')\n    }\n\n    const tabsConf: PanelTabConf[] = emotions.map((ele: EmotionsType) => {\n        return {\n            title: editor.i18next.t(`menus.panelMenus.emoticon.${ele.title}`),\n\n            // 判断type类型如果是image则以img的形式插入否则以内容\n            tpl: `<div>${GenerateExpressionStructure(ele)}</div>`,\n\n            events: [\n                {\n                    selector: '.eleImg',\n                    type: 'click',\n                    fn: (e: Event) => {\n                        // e为事件对象\n                        const $target = $(e.target)\n                        const nodeName = $target.getNodeName()\n                        let insertHtml\n\n                        if (nodeName === 'IMG') {\n                            // 插入图片\n                            insertHtml = $target.parent().html().trim()\n                        } else {\n                            // 插入 emoji\n                            insertHtml = '<span>' + $target.html() + '</span>'\n                        }\n\n                        editor.cmd.do('insertHTML', insertHtml)\n                        // 示函数执行结束之后关闭 panel\n                        return true\n                    },\n                },\n            ],\n        }\n    })\n    /* tabs配置项 =================================================================end*/\n\n    // 最终的配置 -----------------------------------------\n    const conf: PanelConf = {\n        width: 300, // Panel容器宽度\n        height: 230, // Panel容器高度\n        tabs: tabsConf,\n    }\n    return conf\n}\n","/**\n * @description 无序列表/有序列表\n * @author tonghan\n */\n\nimport $ from '../../utils/dom-core'\nimport Editor from '../../editor/index'\nimport DropListMenu from '../menu-constructors/DropListMenu'\nimport { MenuActive } from '../menu-constructors/Menu'\n\nclass List extends DropListMenu implements MenuActive {\n    constructor(editor: Editor) {\n        const $elem = $(\n            `<div class=\"w-e-menu\">\n                <i class=\"w-e-icon-list2\"></i>\n            </div>`\n        )\n\n        const dropListConf = {\n            width: 130,\n            title: '序列',\n            type: 'list',\n            list: [\n                {\n                    $elem: $(`\n                        <p>\n                            <i class=\"w-e-icon-list2 w-e-drop-list-item\"></i>\n                            ${editor.i18next.t('menus.dropListMenu.list.无序列表')}\n                        <p>`),\n                    value: 'insertUnorderedList',\n                },\n\n                {\n                    $elem: $(\n                        `<p>\n                            <i class=\"w-e-icon-list-numbered w-e-drop-list-item\"></i>\n                            ${editor.i18next.t('menus.dropListMenu.list.有序列表')}\n                        <p>`\n                    ),\n                    value: 'insertOrderedList',\n                },\n            ],\n            clickHandler: (value: string) => {\n                // 注意 this 是指向当前的 List 对象\n                this.command(value)\n            },\n        }\n\n        super($elem, editor, dropListConf)\n    }\n\n    public command(value: string): void {\n        const editor = this.editor\n        const $textElem = editor.$textElem\n        editor.selection.restoreSelection()\n\n        // 判断是否已经执行了命令\n        if (editor.cmd.queryCommandState(value)) {\n            return\n        }\n\n        //禁止在table中添加列表\n        let $selectionElem = $(editor.selection.getSelectionContainerElem())\n        let $dom = $($selectionElem.elems[0]).parentUntil('TABLE', $selectionElem.elems[0])\n        if ($dom && $($dom.elems[0]).getNodeName() === 'TABLE') {\n            return\n        }\n\n        editor.cmd.do(value)\n\n        // 验证列表是否被包裹在 <p> 之内\n        if ($selectionElem.getNodeName() === 'LI') {\n            $selectionElem = $selectionElem.parent()\n        }\n\n        if (/^ol|ul$/i.test($selectionElem.getNodeName()) === false) {\n            return\n        }\n\n        if ($selectionElem.equal($textElem)) {\n            // 证明是顶级标签，没有被 <p> 包裹\n            return\n        }\n\n        const $parent = $selectionElem.parent()\n        if ($parent.equal($textElem)) {\n            // $parent 是顶级标签，不能删除\n            return\n        }\n\n        $selectionElem.insertAfter($parent)\n        $parent.remove()\n\n        // 恢复选区\n        editor.selection.restoreSelection()\n        this.tryChangeActive()\n    }\n\n    public tryChangeActive(): void {}\n}\n\nexport default List\n","/**\n * @description 段落行高 LineHeight\n * @author lichunlin\n *\n */\n\nimport DropListMenu from '../menu-constructors/DropListMenu'\nimport $, { DomElement } from '../../utils/dom-core'\nimport Editor from '../../editor/index'\nimport { MenuActive } from '../menu-constructors/Menu'\nimport lineHeightList from './lineHeightList'\nimport { UA } from '../../utils/util'\n\nclass LineHeight extends DropListMenu implements MenuActive {\n    constructor(editor: Editor) {\n        const $elem = $(\n            `<div class=\"w-e-menu\">\n                    <i class=\"w-e-icon-row-height\"></i>\n                </div>`\n        )\n        let lineHeightMenu = new lineHeightList(editor, editor.config.lineHeights)\n        const DropListMenu = {\n            width: 100,\n            title: '设置行高',\n            type: 'list', // droplist 以列表形式展示\n            list: lineHeightMenu.getItemList(),\n            clickHandler: (value: string) => {\n                //保存焦点\n                editor.selection.saveRange()\n                this.command(value)\n            },\n        }\n\n        super($elem, editor, DropListMenu)\n    }\n\n    /**\n     * 执行命令\n     * @param value value\n     */\n    public command(value: string): void {\n        let selection = window.getSelection ? window.getSelection() : document.getSelection()\n        //允许设置dom\n        const allowArray: string[] = ['P']\n        const editor = this.editor\n        let st: string = ''\n        //恢复焦点\n        editor.selection.restoreSelection()\n        const $selectionElem = $(editor.selection.getSelectionContainerElem())\n        const $selectionAll = $(editor.selection.getSelectionContainerElem())\n        // let dom:HTMLElement= $selectionElem.elems[0]\n        let dom: HTMLElement = $(editor.selection.getSelectionStartElem()).elems[0]\n        //获取元素的style\n        let style: string | null = ''\n        let styleList: string[] = []\n        //点击默认的时候删除line-height属性 并重新设置 style\n        let styleStr: string = ''\n\n        //选中多行操作\n        if ($selectionElem && editor.$textElem.equal($selectionElem)) {\n            let isIE = UA.isIE()\n            if (isIE) {\n                // ie下禁止多行操作 避免多行造成除第一行外的段落内容都被删除\n                return\n            }\n            //获取range 开头结束的dom在 祖父元素的下标\n            let indexStore: Array<number> = []\n            let arrayDom_a: Array<HTMLElement> = []\n            let arrayDom_b: Array<HTMLElement> = []\n            //获取range 开头结束的dom\n            const StartElem: DomElement = $(editor.selection.getSelectionStartElem())\n            const EndElem: DomElement = $(editor.selection.getSelectionEndElem())\n            const childList: NodeListOf<ChildNode> | undefined = editor.selection.getRange()\n                ?.commonAncestorContainer.childNodes\n            arrayDom_a.push(this.getDom(StartElem.elems[0]))\n            childList?.forEach((item, index) => {\n                if (item === this.getDom(StartElem.elems[0])) {\n                    indexStore.push(index)\n                }\n                if (item === this.getDom(EndElem.elems[0])) {\n                    indexStore.push(index)\n                }\n            })\n            //遍历 获取头尾之间的dom元素\n            let i = 0\n            let d: HTMLElement\n            arrayDom_b.push(this.getDom(StartElem.elems[0]))\n            while (arrayDom_a[i] !== this.getDom(EndElem.elems[0])) {\n                d = $(arrayDom_a[i].nextElementSibling).elems[0]\n                if (allowArray.indexOf($(d).getNodeName()) !== -1) {\n                    arrayDom_b.push(d)\n                    arrayDom_a.push(d)\n                } else {\n                    arrayDom_a.push(d)\n                }\n                i++\n            }\n\n            //设置段落选取 全选\n            if ($(arrayDom_a[0]).getNodeName() !== 'P') {\n                i = 0\n                //遍历集合得到第一个p标签的下标\n                for (var k = 0; k < arrayDom_a.length; k++) {\n                    if ($(arrayDom_a[k]).getNodeName() === 'P') {\n                        i = k\n                        break\n                    }\n                }\n                //i===0 说明选区中没有p段落\n                if (i === 0) {\n                    return\n                }\n                let _i = 0\n                while (_i !== i) {\n                    arrayDom_a.shift()\n                    _i++\n                }\n            }\n            //设置替换的选区\n            this.setRange(arrayDom_a[0], arrayDom_a[arrayDom_a.length - 1])\n            //生成innerHtml html字符串\n            arrayDom_a.forEach(item => {\n                style = item.getAttribute('style')\n                styleList = style ? style.split(';') : []\n                styleStr = ''\n                if ($(item).getNodeName() === 'P') {\n                    //判断是否 点击默认\n                    value\n                        ? (styleStr = this.styleProcessing(styleList) + `line-height:${value};`)\n                        : (styleStr = this.styleProcessing(styleList))\n                    st =\n                        st +\n                        `<${$(item).getNodeName().toLowerCase()} style=\"${styleStr}\">${\n                            item.innerHTML\n                        }</${$(item).getNodeName().toLowerCase()}>`\n                } else {\n                    styleStr = this.styleProcessing(styleList)\n                    st =\n                        st +\n                        `<${$(item).getNodeName().toLowerCase()} style=\"${styleStr}\">${\n                            item.innerHTML\n                        }</${$(item).getNodeName().toLowerCase()}>`\n                }\n            })\n            this.action(st, editor)\n\n            //恢复已选择的选区\n            dom = $selectionAll.elems[0]\n            this.setRange(dom.children[indexStore[0]], dom.children[indexStore[1]])\n            return\n        }\n\n        //遍历dom 获取祖父元素 直到contenteditable属性的div标签\n        dom = this.getDom(dom)\n\n        //校验允许lineheight设置标签\n        if (allowArray.indexOf($(dom).getNodeName()) === -1) {\n            return\n        }\n        style = dom.getAttribute('style')\n        styleList = style ? style.split(';') : []\n        //全选 dom下所有的内容\n        selection?.selectAllChildren(dom)\n        //保存range\n        editor.selection.saveRange()\n        //判断是否存在value 默认 移除line-height\n        if (!value) {\n            if (style) {\n                styleStr = this.styleProcessing(styleList)\n                //避免没有其它属性 只留下 ‘style’ 减少代码\n                if (styleStr === '') {\n                    st = `<${$(dom).getNodeName().toLowerCase()}>${dom.innerHTML}</${$(dom)\n                        .getNodeName()\n                        .toLowerCase()}>`\n                } else {\n                    st = `<${$(dom).getNodeName().toLowerCase()} style=\"${styleStr}\">${\n                        dom.innerHTML\n                    }</${$(dom).getNodeName().toLowerCase()}>`\n                }\n                this.action(st, editor)\n            }\n            return\n        }\n        if (style) {\n            //存在style 检索其它style属性\n            styleStr = this.styleProcessing(styleList) + `line-height:${value};`\n        } else {\n            styleStr = `line-height:${value};`\n        }\n        st = `<${$(dom).getNodeName().toLowerCase()} style=\"${styleStr}\">${dom.innerHTML}</${$(dom)\n            .getNodeName()\n            .toLowerCase()}>`\n\n        //防止BLOCKQUOTE叠加\n        if ($(dom).getNodeName() === 'BLOCKQUOTE') {\n            $(dom).css('line-height', value)\n        } else {\n            this.action(st, editor)\n        }\n    }\n\n    /**\n     * 遍历dom 获取祖父元素 直到contenteditable属性的div标签\n     *\n     */\n    public getDom(dom: HTMLElement): HTMLElement {\n        let DOM: HTMLElement = $(dom).elems[0]\n        if (!DOM.parentNode) {\n            return DOM\n        }\n        function getParentNode($node: HTMLElement, editor: Editor): HTMLElement {\n            const $parent = $($node.parentNode)\n            if (editor.$textElem.equal($parent)) {\n                return $node\n            } else {\n                return getParentNode($parent.elems[0], editor)\n            }\n        }\n        DOM = getParentNode(DOM, this.editor)\n\n        return DOM\n    }\n\n    /**\n     * 执行 document.execCommand\n     *\n     */\n    public action(html_str: string, editor: Editor): void {\n        editor.cmd.do('insertHTML', html_str)\n    }\n\n    /**\n     * style 处理\n     */\n    public styleProcessing(styleList: Array<string>): string {\n        let styleStr = ''\n        styleList.forEach(item => {\n            item !== '' && item.indexOf('line-height') === -1\n                ? (styleStr = styleStr + item + ';')\n                : ''\n        })\n        return styleStr\n    }\n\n    /**\n     * 段落全选 比如：避免11变成111\n     */\n    public setRange(startDom: Node, endDom: Node): void {\n        const editor = this.editor\n        let selection = window.getSelection ? window.getSelection() : document.getSelection()\n        //清除所有的选区\n        selection?.removeAllRanges()\n        const range = document.createRange()\n        let star = startDom\n        let end = endDom\n        range.setStart(star, 0)\n        range.setEnd(end, 1)\n        selection?.addRange(range)\n        //保存设置好的选区\n        editor.selection.saveRange()\n        //清除所有的选区\n        selection?.removeAllRanges()\n        //恢复选区\n        editor.selection.restoreSelection()\n    }\n\n    /**\n     * 尝试修改菜单激活状态\n     */\n    public tryChangeActive(): void {\n        const editor = this.editor\n        const $selectionElem = editor.selection.getSelectionContainerElem()\n        if ($selectionElem && editor.$textElem.equal($selectionElem)) {\n            //避免选中多行设置\n            return\n        }\n        let dom: DomElement | HTMLElement = $(editor.selection.getSelectionStartElem())\n        dom = this.getDom(dom.elems[0])\n        let style: string | null = dom.getAttribute('style') ? dom.getAttribute('style') : ''\n\n        //判断当前标签是否具有line-height属性\n        if (style && style.indexOf('line-height') !== -1) {\n            this.active()\n        } else {\n            this.unActive()\n        }\n    }\n}\n\nexport default LineHeight\n","/**\n * @description 行高 菜单\n * @author lichunlin\n */\nimport $ from '../../utils/dom-core'\nimport Editor from '../../editor/index'\nimport { DropListItem } from '../menu-constructors/DropList'\n\nclass lineHeightList {\n    private itemList: DropListItem[]\n\n    constructor(editor: Editor, list: string[]) {\n        this.itemList = [{ $elem: $(`<span>${editor.i18next.t('默认')}</span>`), value: '' }]\n        list.forEach(item => {\n            this.itemList.push({\n                $elem: $(`<span>${item}</span>`),\n                value: item,\n            })\n        })\n    }\n\n    public getItemList(): DropListItem[] {\n        return this.itemList\n    }\n}\n\nexport default lineHeightList\n","/**\n * @description 撤销\n * @author tonghan\n */\n\nimport $ from '../../utils/dom-core'\nimport Editor from '../../editor/index'\nimport BtnMenu from '../menu-constructors/BtnMenu'\nimport { MenuActive } from '../menu-constructors/Menu'\n\nclass Undo extends BtnMenu implements MenuActive {\n    constructor(editor: Editor) {\n        const $elem = $(\n            `<div class=\"w-e-menu\">\n                <i class=\"w-e-icon-undo\"></i>\n            </div>`\n        )\n        super($elem, editor)\n    }\n\n    /**\n     * 点击事件\n     */\n    public clickHandler(): void {\n        this.editor.history.revoke()\n    }\n\n    /**\n     * 尝试修改菜单激活状态\n     */\n    public tryChangeActive(): void {\n        // 标准模式下才进行操作\n        if (!this.editor.isCompatibleMode) {\n            if (this.editor.history.size[0]) {\n                this.active()\n            } else {\n                this.unActive()\n            }\n        }\n    }\n}\n\nexport default Undo\n","/**\n * @description 重做\n * @author tonghan\n */\n\nimport $ from '../../utils/dom-core'\nimport Editor from '../../editor/index'\nimport BtnMenu from '../menu-constructors/BtnMenu'\nimport { MenuActive } from '../menu-constructors/Menu'\n\nclass Redo extends BtnMenu implements MenuActive {\n    constructor(editor: Editor) {\n        const $elem = $(\n            `<div class=\"w-e-menu\">\n                <i class=\"w-e-icon-redo\"></i>\n            </div>`\n        )\n        super($elem, editor)\n    }\n\n    /**\n     * 点击事件\n     */\n    public clickHandler(): void {\n        this.editor.history.restore()\n    }\n\n    /**\n     * 尝试修改菜单激活状态\n     */\n    public tryChangeActive(): void {\n        // 标准模式下才进行操作\n        if (!this.editor.isCompatibleMode) {\n            if (this.editor.history.size[1]) {\n                this.active()\n            } else {\n                this.unActive()\n            }\n        }\n    }\n}\n\nexport default Redo\n","/**\n * @description 创建table\n * @author lichunlin\n */\n\nimport PanelMenu from '../menu-constructors/PanelMenu'\nimport Editor from '../../editor/index'\nimport $ from '../../utils/dom-core'\nimport createPanelConf from './create-panel-conf'\nimport Panel from '../menu-constructors/Panel'\nimport { MenuActive } from '../menu-constructors/Menu'\nimport bindEvent from './bind-event/index'\n\nclass Table extends PanelMenu implements MenuActive {\n    constructor(editor: Editor) {\n        const $elem = $('<div class=\"w-e-menu\"><i class=\"w-e-icon-table2\"></i></div>')\n        super($elem, editor)\n\n        // 绑定事件\n        bindEvent(editor)\n    }\n\n    /**\n     * 菜单点击事件\n     */\n    public clickHandler(): void {\n        this.createPanel()\n    }\n\n    /**\n     * 创建 panel\n     */\n    private createPanel(): void {\n        const conf = createPanelConf(this.editor)\n        const panel = new Panel(this, conf)\n        panel.create()\n    }\n\n    /**\n     * 尝试修改菜单 active 状态\n     */\n    public tryChangeActive() {}\n}\n\nexport default Table\n","/**\n * @description table 菜单 panel tab 配置\n * @author lichunlin\n */\n\nimport Editor from '../../editor/index'\nimport { PanelConf, PanelTabConf } from '../menu-constructors/Panel'\nimport { getRandom } from '../../utils/util'\nimport $ from '../../utils/dom-core'\nimport '../../assets/style/create-panel-conf.less'\nimport CreateTable from './create-table'\n\nexport default function (editor: Editor): PanelConf {\n    const createTable = new CreateTable(editor)\n\n    // panel 中需要用到的id\n    const colId = getRandom('w-col-id')\n    const rowId = getRandom('w-row-id')\n    const insertBtnId = getRandom('btn-link')\n\n    const i18nPrefix = 'menus.panelMenus.table.'\n    const t = (text: string): string => {\n        return editor.i18next.t(text)\n    }\n\n    // tabs 配置 -----------------------------------------\n    const tabsConf: PanelTabConf[] = [\n        {\n            title: t(`${i18nPrefix}插入表格`),\n            tpl: `<div>\n                    <div class=\"w-e-table\">\n                        <span>${t('创建')}</span>\n                        <input id=\"${rowId}\"  type=\"text\" class=\"w-e-table-input\" value=\"5\"/></td>\n                        <span>${t(`${i18nPrefix}行`)}</span>\n                        <input id=\"${colId}\" type=\"text\" class=\"w-e-table-input\" value=\"5\"/></td>\n                        <span>${\n                            t(`${i18nPrefix}列`) + t(`${i18nPrefix}的`) + t(`${i18nPrefix}表格`)\n                        }</span>\n                    </div>\n                    <div class=\"w-e-button-container\">\n                        <button type=\"button\" id=\"${insertBtnId}\" class=\"right\">${t(\n                '插入'\n            )}</button>\n                    </div>\n                </div>`,\n            events: [\n                {\n                    selector: '#' + insertBtnId,\n                    type: 'click',\n                    fn: () => {\n                        const colValue = Number($('#' + colId).val())\n                        const rowValue = Number($('#' + rowId).val())\n                        //校验是否传值\n                        if (colValue && rowValue) {\n                            createTable.createAction(rowValue, colValue)\n                        }\n                        // 返回 true 表示函数执行结束之后关闭 panel\n                        return true\n                    },\n                },\n            ],\n        },\n    ]\n    // tabs end\n\n    // 最终的配置 -----------------------------------------\n    const conf: PanelConf = {\n        width: 330,\n        height: 0,\n        tabs: [],\n    }\n    conf.tabs.push(tabsConf[0])\n\n    return conf\n}\n","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/postcss-loader/src/index.js!../../../node_modules/less-loader/dist/cjs.js!./create-panel-conf.less\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".w-e-table {\\n  display: flex;\\n}\\n.w-e-table .w-e-table-input {\\n  width: 40px;\\n  text-align: center!important;\\n  margin: 0 5px;\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/**\n * @description 创建tabel\n * @author lichunlin\n */\n\nimport Editor from '../../editor/index'\nimport $ from '../../utils/dom-core'\n\nclass CreateTable {\n    private editor: Editor\n\n    constructor(editor: Editor) {\n        this.editor = editor\n    }\n\n    /**\n     * 执行创建\n     * @param rowValue 行数\n     * @param colValue 列数\n     */\n    public createAction(rowValue: number, colValue: number) {\n        const editor = this.editor\n\n        //不允许在有序列表中添加table\n        let $selectionElem = $(editor.selection.getSelectionContainerElem())\n        const $ul = $($selectionElem.elems[0]).parentUntil('UL', $selectionElem.elems[0])\n        const $ol = $($selectionElem.elems[0]).parentUntil('OL', $selectionElem.elems[0])\n        if ($ul || $ol) {\n            return\n        }\n\n        const tableDom: string = this.createTableHtml(rowValue, colValue)\n        editor.cmd.do('insertHTML', tableDom)\n    }\n\n    /**\n     * 创建table、行、列\n     * @param rowValue 行数\n     * @param colValue 列数\n     */\n    public createTableHtml(rowValue: number, colValue: number): string {\n        let rowStr: string = ''\n        let colStr: string = ''\n        for (let i = 0; i < rowValue; i++) {\n            colStr = ''\n            for (let j = 0; j < colValue; j++) {\n                if (i === 0) {\n                    colStr = colStr + '<th></th>'\n                } else {\n                    colStr = colStr + '<td></td>'\n                }\n            }\n            rowStr = rowStr + '<tr>' + colStr + '</tr>'\n        }\n        const tableDom =\n            `<table border=\"0\" width=\"100%\" cellpadding=\"0\" cellspacing=\"0\"><tbody>` +\n            rowStr +\n            '</tbody></table><p><br></p>'\n        return tableDom\n    }\n}\n\nexport default CreateTable\n","/**\n * @description 绑定点击事件\n * @author lichunlin\n */\n\nimport Editor from '../../../editor/index'\nimport bindTooltip from './tooltip-event'\n\n/**\n * 绑定事件\n * @param editor 编辑器实例\n */\nfunction bindEvent(editor: Editor): void {\n    //Tooltip\n    bindTooltip(editor)\n}\n\nexport default bindEvent\n","/**\n * @description tooltip 事件\n * @author lichunlin\n */\n\nimport $, { DomElement } from '../../../utils/dom-core'\nimport Tooltip, { TooltipConfType } from '../../menu-constructors/Tooltip'\nimport Editor from '../../../editor/index'\n\n//操作事件\nimport operatingEvent from './event/operating-event'\n\nimport getNode from './event/getNode'\n\n/**\n * 生成 Tooltip 的显示隐藏函数\n */\nfunction createShowHideFn(editor: Editor) {\n    let tooltip: Tooltip | null\n\n    /**\n     * 显示 tooltip\n     * @param  table元素\n     */\n    function showTableTooltip($node: DomElement) {\n        const getnode = new getNode(editor)\n\n        const i18nPrefix = 'menus.panelMenus.table.'\n        const t = (text: string, prefix: string = i18nPrefix): string => {\n            return editor.i18next.t(prefix + text)\n        }\n\n        const conf: TooltipConfType = [\n            {\n                // $elem: $(\"<span class='w-e-icon-trash-o'></span>\"),\n                $elem: $(`<span>${t('删除表格')}</span>`),\n                onClick: (editor: Editor, $node: DomElement) => {\n                    // 选中img元素\n                    editor.selection.createRangeByElem($node)\n                    editor.selection.restoreSelection()\n                    editor.cmd.do('insertHTML', '<p><br></p>')\n                    // 返回 true，表示执行完之后，隐藏 tooltip。否则不隐藏。\n                    return true\n                },\n            },\n            {\n                $elem: $(`<span>${t('添加行')}</span>`),\n                onClick: (editor: Editor, $node: DomElement) => {\n                    // 禁止多选操作\n                    let isMore = isMoreRowAction(editor)\n                    if (isMore) {\n                        return true\n                    }\n                    //当前元素\n                    let selectDom = $(editor.selection.getSelectionStartElem())\n                    //当前行\n                    let $currentRow = getnode.getRowNode(selectDom.elems[0])\n                    if (!$currentRow) {\n                        return true\n                    }\n                    //获取当前行的index\n                    const index = Number(getnode.getCurrentRowIndex($node.elems[0], $currentRow))\n                    //生成要替换的html\n                    let htmlStr = getnode.getTableHtml($node.elems[0])\n                    //生成新的table\n                    let newdom: string = getnode.getTableHtml(\n                        operatingEvent.ProcessingRow($(htmlStr), index).elems[0]\n                    )\n                    // 选中table\n                    editor.selection.createRangeByElem($node)\n                    editor.selection.restoreSelection()\n\n                    editor.cmd.do('insertHTML', newdom)\n\n                    return true\n                },\n            },\n            {\n                $elem: $(`<span>${t('删除行')}</span>`),\n                onClick: (editor: Editor, $node: DomElement) => {\n                    // 禁止多选操作\n                    let isMore = isMoreRowAction(editor)\n                    if (isMore) {\n                        return true\n                    }\n                    //当前元素\n                    let selectDom = $(editor.selection.getSelectionStartElem())\n                    //当前行\n                    let $currentRow = getnode.getRowNode(selectDom.elems[0])\n                    if (!$currentRow) {\n                        return true\n                    }\n                    //获取当前行的index\n                    const index = Number(getnode.getCurrentRowIndex($node.elems[0], $currentRow))\n                    //生成要替换的html\n                    let htmlStr = getnode.getTableHtml($node.elems[0])\n                    //获取新生成的table 判断是否是最后一行被删除 是 删除整个table\n                    const trLength: number = operatingEvent.DeleteRow($(htmlStr), index).elems[0]\n                        .childNodes[0].childNodes.length\n                    //生成新的table\n                    let newdom: string = ''\n                    // 选中table\n                    editor.selection.createRangeByElem($node)\n                    editor.selection.restoreSelection()\n\n                    if (trLength === 0) {\n                        newdom = '<p><br></p>'\n                    } else {\n                        newdom = getnode.getTableHtml(\n                            operatingEvent.DeleteRow($(htmlStr), index).elems[0]\n                        )\n                    }\n                    editor.cmd.do('insertHTML', newdom)\n\n                    return true\n                },\n            },\n            {\n                $elem: $(`<span>${t('添加列')}</span>`),\n                onClick: (editor: Editor, $node: DomElement) => {\n                    // 禁止多选操作\n                    let isMore = isMoreRowAction(editor)\n                    if (isMore) {\n                        return true\n                    }\n                    //当前元素\n                    let selectDom = $(editor.selection.getSelectionStartElem())\n                    //当前列的index\n                    const index = getnode.getCurrentColIndex(selectDom.elems[0])\n                    //生成要替换的html\n                    let htmlStr = getnode.getTableHtml($node.elems[0])\n                    //生成新的table\n                    let newdom: string = getnode.getTableHtml(\n                        operatingEvent.ProcessingCol($(htmlStr), index).elems[0]\n                    )\n                    // 选中table\n                    editor.selection.createRangeByElem($node)\n                    editor.selection.restoreSelection()\n\n                    editor.cmd.do('insertHTML', newdom)\n\n                    return true\n                },\n            },\n            {\n                $elem: $(`<span>${t('删除列')}</span>`),\n                onClick: (editor: Editor, $node: DomElement) => {\n                    // 禁止多选操作\n                    let isMore = isMoreRowAction(editor)\n                    if (isMore) {\n                        return true\n                    }\n                    //当前元素\n                    let selectDom = $(editor.selection.getSelectionStartElem())\n                    //当前列的index\n                    const index = getnode.getCurrentColIndex(selectDom.elems[0])\n                    //生成要替换的html\n                    let htmlStr = getnode.getTableHtml($node.elems[0])\n                    //获取新生成的table 判断是否是最后一列被删除 是 删除整个table\n                    const tdLength: number = operatingEvent.DeleteCol($(htmlStr), index).elems[0]\n                        .childNodes[0].childNodes[0].childNodes.length\n                    //生成新的table\n                    let newdom: string = ''\n                    // 选中table\n                    editor.selection.createRangeByElem($node)\n                    editor.selection.restoreSelection()\n\n                    if (tdLength === 1) {\n                        newdom = '<p><br></p>'\n                    } else {\n                        newdom = getnode.getTableHtml(\n                            operatingEvent.DeleteCol($(htmlStr), index).elems[0]\n                        )\n                    }\n\n                    editor.cmd.do('insertHTML', newdom)\n\n                    return true\n                },\n            },\n            {\n                $elem: $(`<span>${t('设置表头')}</span>`),\n                onClick: (editor: Editor, $node: DomElement) => {\n                    // 禁止多选操作\n                    let isMore = isMoreRowAction(editor)\n                    if (isMore) {\n                        return true\n                    }\n                    //当前元素\n                    let selectDom = $(editor.selection.getSelectionStartElem())\n                    //当前行\n                    let $currentRow = getnode.getRowNode(selectDom.elems[0])\n                    if (!$currentRow) {\n                        return true\n                    }\n                    //获取当前行的index\n                    let index = Number(getnode.getCurrentRowIndex($node.elems[0], $currentRow))\n                    if (index !== 0) {\n                        //控制在table的第一行\n                        index = 0\n                    }\n                    //生成要替换的html\n                    let htmlStr = getnode.getTableHtml($node.elems[0])\n                    //生成新的table\n                    let newdom: string = getnode.getTableHtml(\n                        operatingEvent.setTheHeader($(htmlStr), index, 'th').elems[0]\n                    )\n                    // 选中table\n                    editor.selection.createRangeByElem($node)\n                    editor.selection.restoreSelection()\n\n                    editor.cmd.do('insertHTML', newdom)\n\n                    return true\n                },\n            },\n            {\n                $elem: $(`<span>${t('取消表头')}</span>`),\n                onClick: (editor: Editor, $node: DomElement) => {\n                    //当前元素\n                    let selectDom = $(editor.selection.getSelectionStartElem())\n                    //当前行\n                    let $currentRow = getnode.getRowNode(selectDom.elems[0])\n                    if (!$currentRow) {\n                        return true\n                    }\n                    //获取当前行的index\n                    let index = Number(getnode.getCurrentRowIndex($node.elems[0], $currentRow))\n                    if (index !== 0) {\n                        //控制在table的第一行\n                        index = 0\n                    }\n                    //生成要替换的html\n                    let htmlStr = getnode.getTableHtml($node.elems[0])\n                    //生成新的table\n                    let newdom: string = getnode.getTableHtml(\n                        operatingEvent.setTheHeader($(htmlStr), index, 'td').elems[0]\n                    )\n                    // 选中table\n                    editor.selection.createRangeByElem($node)\n                    editor.selection.restoreSelection()\n\n                    editor.cmd.do('insertHTML', newdom)\n\n                    return true\n                },\n            },\n        ]\n\n        tooltip = new Tooltip(editor, $node, conf)\n        tooltip.create()\n    }\n\n    /**\n     * 隐藏 tooltip\n     */\n    function hideTableTooltip() {\n        // 移除 tooltip\n        if (tooltip) {\n            tooltip.remove()\n            tooltip = null\n        }\n    }\n\n    return {\n        showTableTooltip,\n        hideTableTooltip,\n    }\n}\n\n/**\n * 判断是否是多行\n */\nfunction isMoreRowAction(editor: Editor): boolean {\n    const $startElem = editor.selection.getSelectionStartElem()\n    const $endElem = editor.selection.getSelectionEndElem()\n    if ($startElem?.elems[0] !== $endElem?.elems[0]) {\n        return true\n    } else {\n        return false\n    }\n}\n\n/**\n * 绑定 tooltip 事件\n * @param editor 编辑器实例\n */\nexport default function bindTooltipEvent(editor: Editor) {\n    const { showTableTooltip, hideTableTooltip } = createShowHideFn(editor)\n\n    // 点击table元素是，显示 tooltip\n    editor.txt.eventHooks.tableClickEvents.push(showTableTooltip)\n\n    // 点击其他地方，或者滚动时，隐藏 tooltip\n    editor.txt.eventHooks.clickEvents.push(hideTableTooltip)\n    editor.txt.eventHooks.keyupEvents.push(hideTableTooltip)\n    editor.txt.eventHooks.toolbarClickEvents.push(hideTableTooltip)\n    editor.txt.eventHooks.menuClickEvents.push(hideTableTooltip)\n    editor.txt.eventHooks.textScrollEvents.push(hideTableTooltip)\n}\n","import $, { DomElement } from '../../../../utils/dom-core'\n\n/**\n * 处理新添加行\n * @param $node 整个table\n * @param _index 行的inde\n */\nfunction ProcessingRow($node: DomElement, _index: number): DomElement {\n    //执行获取tbody节点\n    let $dom = generateDomAction($node)\n    //取出所有的行\n    let domArray: Node[] = Array.prototype.slice.apply($dom.childNodes)\n    //列的数量\n    const childNodesLenght = domArray[0].childNodes.length\n    //创建新tr\n    let tr = document.createElement('tr')\n    for (let i = 0; i < childNodesLenght; i++) {\n        const td = document.createElement('td')\n        tr.appendChild(td)\n    }\n    //插入集合中\n    domArray.splice(_index + 1, 0, tr)\n    //移除、新增节点事件\n    removeAndInsertAction($dom, domArray)\n    return $($dom.parentNode)\n}\n\n/**\n * 处理新添加列\n * @param $node 整个table\n * @param _index 列的inde\n */\nfunction ProcessingCol($node: DomElement, _index: number): DomElement {\n    //执行获取tbody节点\n    let $dom = generateDomAction($node)\n    //取出所有的行\n    let domArray: Node[] = Array.prototype.slice.apply($dom.childNodes)\n    //创建td\n    for (let i = 0; i < domArray.length; i++) {\n        let cArray: Node[] = []\n        //取出所有的列\n        domArray[i].childNodes.forEach(item => {\n            cArray.push(item)\n        })\n        //移除行的旧的子节点\n        while (domArray[i].childNodes.length !== 0) {\n            domArray[i].removeChild(domArray[i].childNodes[0])\n        }\n        //列分th td\n        let td =\n            $(cArray[0]).getNodeName() !== 'TH'\n                ? document.createElement('td')\n                : document.createElement('th')\n        // let td = document.createElement('td')\n        cArray.splice(_index + 1, 0, td)\n        //插入新的子节点\n        for (let j = 0; j < cArray.length; j++) {\n            domArray[i].appendChild(cArray[j])\n        }\n    }\n    //移除、新增节点事件\n    removeAndInsertAction($dom, domArray)\n    return $($dom.parentNode)\n}\n\n/**\n * 处理删除行\n * @param $node  整个table\n * @param _index  行的inde\n */\nfunction DeleteRow($node: DomElement, _index: number): DomElement {\n    //执行获取tbody节点\n    let $dom = generateDomAction($node)\n    //取出所有的行\n    let domArray: Node[] = Array.prototype.slice.apply($dom.childNodes)\n    //删除行\n    domArray.splice(_index, 1)\n    //移除、新增节点事件\n    removeAndInsertAction($dom, domArray)\n    return $($dom.parentNode)\n}\n\n/**\n * 处理删除列\n * @param $node\n * @param _index\n */\nfunction DeleteCol($node: DomElement, _index: number): DomElement {\n    //执行获取tbody节点\n    let $dom = generateDomAction($node)\n    //取出所有的行\n    let domArray: Node[] = Array.prototype.slice.apply($dom.childNodes)\n    //创建td\n    for (let i = 0; i < domArray.length; i++) {\n        let cArray: Node[] = []\n        //取出所有的列\n        domArray[i].childNodes.forEach(item => {\n            cArray.push(item)\n        })\n        //移除行的旧的子节点\n        while (domArray[i].childNodes.length !== 0) {\n            domArray[i].removeChild(domArray[i].childNodes[0])\n        }\n        cArray.splice(_index, 1)\n        //插入新的子节点\n        for (let j = 0; j < cArray.length; j++) {\n            domArray[i].appendChild(cArray[j])\n        }\n    }\n    //移除、新增节点事件\n    removeAndInsertAction($dom, domArray)\n    return $($dom.parentNode)\n}\n\n/**\n * 处理设置/取消表头\n * @param $node\n * @param _index\n * @type 替换的列 th 还是td\n */\nfunction setTheHeader($node: DomElement, _index: number, type: string): DomElement {\n    //执行获取tbody节点\n    let $dom = generateDomAction($node)\n    //取出所有的行\n    let domArray: Node[] = Array.prototype.slice.apply($dom.childNodes)\n    //列的数量\n    const childNodesLenght = domArray[_index].childNodes\n    //创建新tr\n    let tr = document.createElement('tr')\n    for (let i = 0; i < childNodesLenght.length; i++) {\n        //替换td为th\n        const th = document.createElement(type)\n        childNodesLenght[i].childNodes.forEach(item => {\n            th.appendChild(item)\n        })\n        tr.appendChild(th)\n    }\n    //插入集合中\n    domArray.splice(_index, 1, tr)\n    //移除、新增节点事件\n    removeAndInsertAction($dom, domArray)\n    return $($dom.parentNode)\n}\n\n/**\n * 封装移除、新增节点事件\n * @param $dom tbody节点\n * @param domArray  所有的行\n */\nfunction removeAndInsertAction($dom: ChildNode, domArray: Node[]) {\n    //移除所有的旧的子节点\n    while ($dom.childNodes.length !== 0) {\n        $dom.removeChild($dom.childNodes[0])\n    }\n    //插入新的子节点\n    for (let i = 0; i < domArray.length; i++) {\n        $dom.appendChild(domArray[i])\n    }\n}\n\n/**\n * 封装判断是否tbody节点\n * 粘贴的table 第一个节点是<colgroup> 最后的节点<tbody>\n * @param dom\n */\nfunction generateDomAction($node: DomElement): ChildNode {\n    let $dom: ChildNode = $node.elems[0].childNodes[0]\n    if ($dom.nodeName === 'COLGROUP') {\n        $dom = $node.elems[0].childNodes[$node.elems[0].childNodes.length - 1]\n    }\n    return $dom\n}\n\nexport default {\n    ProcessingRow,\n    ProcessingCol,\n    DeleteRow,\n    DeleteCol,\n    setTheHeader,\n}\n","/**\n * @description 获取dom节点\n * @author lichunlin\n */\n\nimport $ from '../../../../utils/dom-core'\nimport Editor from '../../../../editor/index'\n\nclass getNode {\n    public editor: Editor\n    constructor(editor: Editor) {\n        this.editor = editor\n    }\n\n    /**\n     * 获取焦点所在行\n     * @param $node 当前table\n     */\n    public getRowNode($node: HTMLElement): HTMLElement | null | undefined {\n        let DOM: HTMLElement | null | undefined = $($node).elems[0]\n        if (!DOM.parentNode) {\n            return DOM\n        }\n        DOM = $(DOM).parentUntil('TR', DOM)?.elems[0]\n        return DOM\n    }\n\n    /**\n     * 获取当前行的下标\n     * @param $node 当前table\n     * @param $dmo 当前行节点\n     */\n    public getCurrentRowIndex($node: HTMLElement, $dom: HTMLElement): Number {\n        let _index: number = 0\n        let $nodeChild = $node.childNodes[0]\n        //粘贴的table 最后一个节点才是tbody\n        if ($nodeChild.nodeName === 'COLGROUP') {\n            $nodeChild = $node.childNodes[$node.childNodes.length - 1]\n        }\n        $nodeChild.childNodes.forEach((item, index) => {\n            item === $dom ? (_index = index) : ''\n        })\n        return _index\n    }\n\n    /**\n     * 获取当前列的下标\n     * @param $node 当前点击元素\n     */\n    public getCurrentColIndex($node: HTMLElement): number {\n        //当前行\n        let _index: number = 0\n        //获取当前列 td或th\n        let rowDom =\n            $($node).getNodeName() === 'TD' || $($node).getNodeName() === 'TH'\n                ? $node\n                : $($node).parentUntil('TD', $node)?.elems[0]\n        let colDom = $(rowDom).parent()\n        colDom.elems[0].childNodes.forEach((item, index) => {\n            item === rowDom ? (_index = index) : ''\n        })\n        return _index\n    }\n\n    /**\n     * 返回元素html字符串\n     * @param $node\n     */\n    public getTableHtml($node: HTMLElement): string {\n        const htmlStr = `<table border=\"0\" width=\"100%\" cellpadding=\"0\" cellspacing=\"0\">${$(\n            $node\n        ).html()}</table>`\n        return htmlStr\n    }\n}\n\nexport default getNode\n","/**\n * @description 代码 菜单\n * @author lkw\n */\n\nimport PanelMenu from '../menu-constructors/PanelMenu'\nimport Editor from '../../editor/index'\nimport $ from '../../utils/dom-core'\nimport { replaceSpecialSymbol, deepClone } from '../../utils/util'\nimport createPanelConf from './create-panel-conf'\nimport isActive from './is-active'\nimport Panel from '../menu-constructors/Panel'\nimport { MenuActive } from '../menu-constructors/Menu'\nimport bindEvent from './bind-event/index'\n\nexport function formatCodeHtml(editor: Editor, html: string) {\n    if (!html) return html\n\n    html = deleteHighlightCode(html)\n\n    html = formatEnterCode(html)\n\n    html = replaceSpecialSymbol(html)\n\n    return html\n\n    // 格式化换换所产生的code标签\n    function formatEnterCode(html: string): string {\n        let preArr = html.match(/<pre[\\s|\\S]+?\\/pre>/g)\n\n        if (preArr === null) return html\n\n        preArr.map(item => {\n            //将连续的code标签换为\\n换行\n            html = html.replace(item, item.replace(/<\\/code><code>/g, '\\n').replace(/<br>/g, ''))\n        })\n\n        return html\n    }\n\n    // highlight格式化方法\n    function deleteHighlightCode(html: string): string {\n        // 获取所有hljs文本\n        let m = html.match(/<span\\sclass=\"hljs[\\s|\\S]+?\\/span>/gm)\n\n        // 没有代码渲染文本则退出\n        // @ts-ignore\n        if (!m || !m.length) return html\n\n        // 获取替换文本\n        let r = deepClone(m).map((i: string) => {\n            i = i.replace(/<span\\sclass=\"hljs[^>]+>/, '')\n            return i.replace(/<\\/span>/, '')\n        })\n\n        // @ts-ignore\n        for (let i = 0; i < m.length; i++) {\n            html = html.replace(m[i], r[i])\n        }\n\n        return deleteHighlightCode(html)\n    }\n}\n\nclass Code extends PanelMenu implements MenuActive {\n    constructor(editor: Editor) {\n        const $elem = $('<div class=\"w-e-menu\"><i class=\"w-e-icon-terminal\"></i></div>')\n        super($elem, editor)\n\n        // 绑定事件，如点击链接时，可以查看链接\n        bindEvent(editor)\n    }\n\n    /**\n     * 插入行内代码\n     * @param text\n     * @return null\n     */\n    private insertLineCode(text: string) {\n        let editor = this.editor\n        // 行内代码处理\n        let $code = $(`<code>${text}</code>`)\n        editor.cmd.do('insertElem', $code)\n        editor.selection.createRangeByElem($code, false)\n        editor.selection.restoreSelection()\n    }\n\n    /**\n     * 菜单点击事件\n     */\n    public clickHandler(): void {\n        const editor = this.editor\n        const selectionText = editor.selection.getSelectionText()\n\n        if (this.isActive) {\n            return\n        } else {\n            // 菜单未被激活，说明选区不在链接里\n            if (editor.selection.isSelectionEmpty()) {\n                // 选区是空的，未选中内容\n                this.createPanel('', '')\n            } else {\n                // 行内代码处理 选中了非代码内容\n                this.insertLineCode(selectionText)\n            }\n        }\n    }\n\n    /**\n     * 创建 panel\n     * @param text 代码文本\n     * @param languageType 代码类型\n     */\n    public createPanel(text: string, languageType: string): void {\n        const conf = createPanelConf(this.editor, text, languageType)\n        const panel = new Panel(this, conf)\n        panel.create()\n    }\n\n    /**\n     * 尝试修改菜单 active 状态\n     */\n    public tryChangeActive() {\n        const editor = this.editor\n        if (isActive(editor)) {\n            this.active()\n        } else {\n            this.unActive()\n        }\n    }\n}\n\nexport default Code\n","/**\n * @description code 菜单 panel tab 配置\n * @author lkw\n */\n\nimport Editor from '../../editor/index'\nimport { PanelConf } from '../menu-constructors/Panel'\nimport { getRandom } from '../../utils/util'\nimport $, { DomElement } from '../../utils/dom-core'\nimport isActive from './is-active'\n\nexport default function (editor: Editor, text: string, languageType: string): PanelConf {\n    // panel 中需要用到的id\n    const inputIFrameId = getRandom('input-iframe')\n    const languageId = getRandom('select')\n    const btnOkId = getRandom('btn-ok')\n\n    /**\n     * 插入链接\n     * @param text 文字\n     * @param code 链接\n     */\n    function insertCode(text: string): void {\n        // 选区处于链接中，则选中整个菜单，再执行 insertHTML\n        let active = isActive(editor)\n\n        if (active) {\n            selectCodeElem()\n        }\n\n        editor.cmd.do('insertHTML', text)\n\n        const $code = editor.selection.getSelectionStartElem()\n        const $codeElem = $code?.getNodeTop(editor)\n\n        // 通过dom操作添加换行标签\n        // @ts-ignore\n        $('<p><br></p>').insertAfter($codeElem)\n    }\n\n    /**\n     * 选中整个链接元素\n     */\n    function selectCodeElem(): void {\n        if (!isActive(editor)) return\n\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        let $selectedCode: DomElement\n\n        const $code = editor.selection.getSelectionStartElem()\n        const $codeElem = $code?.getNodeTop(editor)\n        if (!$codeElem) return\n\n        editor.selection.createRangeByElem($codeElem)\n        editor.selection.restoreSelection()\n\n        $selectedCode = $codeElem // 赋值给函数内全局变量\n    }\n\n    const t = (text: string): string => {\n        return editor.i18next.t(text)\n    }\n\n    // @ts-ignore\n    const conf = {\n        width: 500,\n        height: 0,\n\n        // panel 中可包含多个 tab\n        tabs: [\n            {\n                // tab 的标题\n                title: t('menus.panelMenus.code.插入代码'),\n                // 模板\n                tpl: `<div>\n                        <select name=\"\" id=\"${languageId}\">\n                            ${editor.config.languageType.map(language => {\n                                return (\n                                    '<option ' +\n                                    (languageType == language ? 'selected' : '') +\n                                    ' value =\"' +\n                                    language +\n                                    '\">' +\n                                    language +\n                                    '</option>'\n                                )\n                            })}\n                        </select>\n                        <textarea id=\"${inputIFrameId}\" type=\"text\" class=\"wang-code-textarea\" placeholder=\"\" style=\"height: 160px\">${text.replace(\n                    /&quot;/g,\n                    '\"'\n                )}</textarea>\n                        <div class=\"w-e-button-container\">\n                            <button type=\"button\" id=\"${btnOkId}\" class=\"right\">${\n                    isActive(editor) ? t('修改') : t('插入')\n                }</button>\n                        </div>\n                    </div>`,\n                // 事件绑定\n                events: [\n                    // 插入链接\n                    {\n                        selector: '#' + btnOkId,\n                        type: 'click',\n                        fn: () => {\n                            let formatCode, codeDom\n\n                            const $code = document.getElementById(inputIFrameId)\n                            const $select = $('#' + languageId)\n\n                            let languageType = $select.val()\n                            // @ts-ignore\n                            let code = $code.value\n\n                            // 高亮渲染\n                            if (editor.highlight) {\n                                formatCode = editor.highlight.highlightAuto(code).value\n                            } else {\n                                formatCode = `<xmp>${code}</xmp>`\n                            }\n\n                            // 代码为空，则不插入\n                            if (!code) return\n\n                            //增加标签\n                            if (isActive(editor)) {\n                                return false\n                            } else {\n                                //增加pre标签\n                                codeDom = `<pre type=\"${languageType}\"><code>${formatCode}</code></pre>`\n\n                                // @ts-ignore\n                                insertCode(codeDom)\n                            }\n\n                            // 返回 true，表示该事件执行完之后，panel 要关闭。否则 panel 不会关闭\n                            return true\n                        },\n                    },\n                ],\n            }, // tab end\n        ], // tabs end\n    }\n\n    return conf\n}\n","/**\n * @description 绑定链接元素的事件，入口\n * @author lkw\n */\n\nimport Editor from '../../../editor/index'\nimport bindTooltipEvent from './tooltip-event'\n\n/**\n * 绑定事件\n * @param editor 编辑器实例\n */\nfunction bindEvent(editor: Editor) {\n    // tooltip 事件\n    bindTooltipEvent(editor)\n}\n\nexport default bindEvent\n","/**\n * @description tooltip 事件\n * @author lkw\n */\n\nimport $, { DomElement } from '../../../utils/dom-core'\nimport Tooltip from '../../menu-constructors/Tooltip'\nimport Editor from '../../../editor/index'\n\n/**\n * 生成 Tooltip 的显示隐藏函数\n */\nfunction createShowHideFn(editor: Editor) {\n    let tooltip: Tooltip | null\n\n    /**\n     * 显示 tooltip\n     * @param $code 链接元素\n     */\n    function showCodeTooltip($code: DomElement) {\n        const i18nPrefix = 'menus.panelMenus.code.'\n        const t = (text: string, prefix: string = i18nPrefix): string => {\n            return editor.i18next.t(prefix + text)\n        }\n\n        const conf = [\n            {\n                $elem: $(`<span>${t('删除代码')}</span>`),\n                onClick: (editor: Editor, $code: DomElement) => {\n                    //dom操作删除\n                    $code.remove()\n\n                    // 返回 true，表示执行完之后，隐藏 tooltip。否则不隐藏。\n                    return true\n                },\n            },\n        ]\n\n        // 创建 tooltip\n        tooltip = new Tooltip(editor, $code, conf)\n        tooltip.create()\n    }\n\n    /**\n     * 隐藏 tooltip\n     */\n    function hideCodeTooltip() {\n        // 移除 tooltip\n        if (tooltip) {\n            tooltip.remove()\n            tooltip = null\n        }\n    }\n\n    return {\n        showCodeTooltip,\n        hideCodeTooltip,\n    }\n}\n\n/**\n * preEnterListener是为了统一浏览器 在pre标签内的enter行为而进行的监听\n * 目前并没有使用, 但是在未来处理与Firefox和ie的兼容性时需要用到 暂且放置\n * pre标签内的回车监听\n * @param e\n * @param editor\n */\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nfunction preEnterListener(e: KeyboardEvent, editor: Editor) {\n    // 获取当前标签元素\n    const $selectionElem = editor.selection.getSelectionContainerElem() as DomElement\n\n    // 获取当前节点最顶级标签元素\n    const $topElem = $selectionElem?.getNodeTop(editor)\n\n    // 获取顶级节点节点名\n    const topNodeName = $topElem?.getNodeName()\n\n    // 非pre标签退出\n    if (topNodeName !== 'PRE') return\n\n    // 取消默认行为\n    e.preventDefault()\n\n    // 执行换行\n    editor.cmd.do('insertHTML', '\\n\\r')\n}\n\n/**\n * 绑定 tooltip 事件\n * @param editor 编辑器实例\n */\nexport default function bindTooltipEvent(editor: Editor) {\n    const { showCodeTooltip, hideCodeTooltip } = createShowHideFn(editor)\n\n    // 点击代码元素时，显示 tooltip\n    editor.txt.eventHooks.codeClickEvents.push(showCodeTooltip)\n\n    // 点击其他地方，或者滚动时，隐藏 tooltip\n    editor.txt.eventHooks.clickEvents.push(hideCodeTooltip)\n    editor.txt.eventHooks.toolbarClickEvents.push(hideCodeTooltip)\n    editor.txt.eventHooks.menuClickEvents.push(hideCodeTooltip)\n    editor.txt.eventHooks.textScrollEvents.push(hideCodeTooltip)\n}\n","/**\n * @description 分割线\n * @author wangqiaoling\n */\nimport BtnMenu from '../menu-constructors/BtnMenu'\nimport $ from '../../utils/dom-core'\nimport Editor from '../../editor/index'\nimport { MenuActive } from '../menu-constructors/Menu'\nimport bindEvent from './bind-event/index'\nclass splitLine extends BtnMenu implements MenuActive {\n    constructor(editor: Editor) {\n        const $elem = $('<div class=\"w-e-menu\"><i class=\"w-e-icon-split-line\"></i></div>')\n        super($elem, editor)\n        // 绑定事件\n        bindEvent(editor)\n    }\n    /**\n     * 菜单点击事件\n     */\n    public clickHandler(): void {\n        const editor = this.editor\n        const range = editor.selection.getRange()\n\n        const $selectionElem = editor.selection.getSelectionContainerElem()\n        if (!$selectionElem) return\n\n        const $DomElement = $($selectionElem.elems[0])\n        const $tableDOM = $DomElement.parentUntil('TABLE', $selectionElem.elems[0])\n        const $imgDOM = $DomElement.children()\n\n        // 禁止在代码块中添加分割线\n        if ($DomElement.getNodeName() === 'CODE') return\n        // 禁止在表格中添加分割线\n        if ($tableDOM && $($tableDOM.elems[0]).getNodeName() === 'TABLE') return\n\n        // 禁止在图片处添加分割线\n        if (\n            $imgDOM &&\n            $imgDOM.length !== 0 &&\n            $($imgDOM.elems[0]).getNodeName() === 'IMG' &&\n            !range?.collapsed // 处理光标在 img 后面的情况\n        ) {\n            return\n        }\n\n        this.createSplitLine()\n    }\n    /**\n     * 创建 splitLine\n     */\n    private createSplitLine(): void {\n        const splitLineDOM: string = '<hr/>'\n        this.editor.cmd.do('insertHTML', splitLineDOM)\n    }\n    /**\n     * 尝试修改菜单激活状态\n     */\n    public tryChangeActive(): void {}\n}\nexport default splitLine\n","/**\n * @description 绑定分割线元素的事件入口\n * @author wangqiaoling\n */\nimport Editor from '../../../editor/index'\nimport bindTooltipEvent from './tooltip-event'\n/**\n * 绑定事件\n * @param editor 编辑器实例\n */\nfunction bindEvent(editor: Editor) {\n    // 分割线的 tooltip 事件\n    bindTooltipEvent(editor)\n}\n\nexport default bindEvent\n","/**\n * @description tooltip 事件\n * @author wangqiaoling\n */\nimport $, { DomElement } from '../../../utils/dom-core'\nimport Tooltip, { TooltipConfType } from '../../menu-constructors/Tooltip'\nimport Editor from '../../../editor/index'\n\n/**\n * 生成 Tooltip 的显示隐藏函数\n */\nfunction createShowHideFn(editor: Editor) {\n    let tooltip: Tooltip | null\n\n    /**\n     * 显示分割线的 tooltip\n     * @param $splitLine 分割线元素\n     */\n    function showSplitLineTooltip($splitLine: DomElement): void {\n        // 定义 splitLine tooltip 配置\n        const conf: TooltipConfType = [\n            {\n                $elem: $(`<span>${editor.i18next.t('menus.panelMenus.删除')}</span>`),\n                onClick: (editor: Editor, $splitLine: DomElement) => {\n                    // 选中 分割线 元素\n                    editor.selection.createRangeByElem($splitLine)\n                    editor.selection.restoreSelection()\n                    editor.cmd.do('delete')\n\n                    // 返回 true，表示执行完之后，隐藏 tooltip。否则不隐藏。\n                    return true\n                },\n            },\n        ]\n        // 实例化 tooltip\n        tooltip = new Tooltip(editor, $splitLine, conf)\n        // 创建 tooltip\n        tooltip.create()\n    }\n\n    /**\n     * 隐藏分割线的 tooltip\n     */\n    function hideSplitLineTooltip(): void {\n        if (tooltip) {\n            tooltip.remove()\n            tooltip = null\n        }\n    }\n\n    return {\n        showSplitLineTooltip,\n        hideSplitLineTooltip,\n    }\n}\n\nexport default function bindTooltipEvent(editor: Editor): void {\n    const { showSplitLineTooltip, hideSplitLineTooltip } = createShowHideFn(editor)\n\n    // 点击分割线时，显示 tooltip\n    editor.txt.eventHooks.splitLineEvents.push(showSplitLineTooltip)\n\n    // 点击其他地方（工具栏、滚动、keyup）时，隐藏 tooltip\n    editor.txt.eventHooks.clickEvents.push(hideSplitLineTooltip)\n    editor.txt.eventHooks.keyupEvents.push(hideSplitLineTooltip)\n    editor.txt.eventHooks.toolbarClickEvents.push(hideSplitLineTooltip)\n    editor.txt.eventHooks.menuClickEvents.push(hideSplitLineTooltip)\n    editor.txt.eventHooks.textScrollEvents.push(hideSplitLineTooltip)\n}\n","/**\n * @description 初始化编辑器 DOM 结构\n * @author wangfupeng\n */\n\nimport Editor from '../index'\nimport $, { DomElement } from '../../utils/dom-core'\nimport { getRandom } from '../../utils/util'\n\nconst styleSettings = {\n    border: '1px solid #c9d8db',\n    toolbarBgColor: '#FFF',\n    toolbarBottomBorder: '1px solid #EEE',\n}\n\nexport default function (editor: Editor): void {\n    const toolbarSelector = editor.toolbarSelector\n    const $toolbarSelector = $(toolbarSelector)\n    const textSelector = editor.textSelector\n\n    const config = editor.config\n    const height = config.height\n    const i18next = editor.i18next\n\n    let $toolbarElem: DomElement\n    let $textContainerElem: DomElement\n    let $textElem: DomElement\n    let $children: DomElement | null\n\n    if (textSelector == null) {\n        // 只有 toolbarSelector ，即是容器的选择器或元素，toolbar 和 text 的元素自行创建\n        $toolbarElem = $('<div></div>')\n        $textContainerElem = $('<div></div>')\n\n        // 将编辑器区域原有的内容，暂存起来\n        $children = $toolbarSelector.children()\n\n        // 添加到 DOM 结构中\n        $toolbarSelector.append($toolbarElem).append($textContainerElem)\n\n        // 自行创建的，需要配置默认的样式\n        $toolbarElem\n            .css('background-color', styleSettings.toolbarBgColor)\n            .css('border', styleSettings.border)\n            .css('border-bottom', styleSettings.toolbarBottomBorder)\n        $textContainerElem\n            .css('border', styleSettings.border)\n            .css('border-top', 'none')\n            .css('height', `${height}px`)\n    } else {\n        // toolbarSelector 和 textSelector 都有\n        $toolbarElem = $toolbarSelector\n        $textContainerElem = $(textSelector)\n        // 将编辑器区域原有的内容，暂存起来\n        $children = $textContainerElem.children()\n    }\n\n    // 编辑区域\n    $textElem = $('<div></div>')\n    $textElem.attr('contenteditable', 'true').css('width', '100%').css('height', '100%')\n\n    // 添加 placeholder\n    const $placeholder = $(`<div>${i18next.t(editor.config.placeholder)}</div>`)\n    $placeholder.addClass('placeholder')\n\n    // 初始化编辑区域内容\n    if ($children && $children.length) {\n        $textElem.append($children)\n        // 编辑器有默认值的时候隐藏placeholder\n        $placeholder.hide()\n    } else {\n        $textElem.append($('<p><br></p>')) // 新增一行，方便继续编辑\n    }\n\n    // 编辑区域加入DOM\n    $textContainerElem.append($textElem)\n\n    // 添加placeholder\n    $textContainerElem.append($placeholder)\n\n    // 设置通用的 class\n    $toolbarElem.addClass('w-e-toolbar').css('z-index', editor.zIndex.get('toolbar'))\n    $textContainerElem.addClass('w-e-text-container')\n    $textContainerElem.css('z-index', editor.zIndex.get())\n    $textElem.addClass('w-e-text')\n\n    // 添加 ID\n    const toolbarElemId = getRandom('toolbar-elem')\n    $toolbarElem.attr('id', toolbarElemId)\n    const textElemId = getRandom('text-elem')\n    $textElem.attr('id', textElemId)\n\n    // 判断编辑区与容器高度是否一致\n    const textContainerCliheight = $textContainerElem.getClientHeight()\n    const textElemClientHeight = $textElem.getClientHeight()\n    if (textContainerCliheight !== textElemClientHeight) {\n        $textElem.css('min-height', textContainerCliheight + 'px')\n    }\n\n    // 记录属性\n    editor.$toolbarElem = $toolbarElem\n    editor.$textContainerElem = $textContainerElem\n    editor.$textElem = $textElem\n    editor.toolbarElemId = toolbarElemId\n    editor.textElemId = textElemId\n}\n","/**\n * @description 初始化编辑器选区，将光标定位到文档末尾\n * @author wangfupeng\n */\n\nimport Editor from '../index'\nimport $ from '../../utils/dom-core'\n\n/**\n * 初始化编辑器选区，将光标定位到文档末尾\n * @param editor 编辑器实例\n * @param newLine 是否新增一行\n */\nfunction initSelection(editor: Editor, newLine?: boolean) {\n    const $textElem = editor.$textElem\n    const $children = $textElem.children()\n    if (!$children || !$children.length) {\n        // 如果编辑器区域无内容，添加一个空行，重新设置选区\n        $textElem.append($('<p><br></p>'))\n        initSelection(editor)\n        return\n    }\n\n    const $last = $children.last()\n\n    if (newLine) {\n        // 新增一个空行\n        const html = $last.html().toLowerCase()\n        const nodeName = $last.getNodeName()\n        if ((html !== '<br>' && html !== '<br/>') || nodeName !== 'P') {\n            // 最后一个元素不是 <p><br></p>，添加一个空行，重新设置选区\n            $textElem.append($('<p><br></p>'))\n            initSelection(editor)\n            return\n        }\n    }\n\n    if (editor.config.focus) {\n        editor.selection.createRangeByElem($last, true, true)\n        editor.selection.restoreSelection()\n    }\n}\n\nexport default initSelection\n","/**\n * @description 绑定编辑器事件 change blur focus\n * @author wangfupeng\n */\n\nimport Editor from '../index'\nimport $ from '../../utils/dom-core'\n\nfunction bindEvent(editor: Editor): void {\n    // 绑定 change 事件\n    _bindChange(editor)\n\n    // 绑定 focus blur 事件\n    _bindFocusAndBlur(editor)\n\n    // 绑定 input 输入\n    _bindInput(editor)\n}\n\n/**\n * 绑定 change 事件\n * @param editor 编辑器实例\n */\nfunction _bindChange(editor: Editor): void {\n    const { onchange } = editor.config\n    editor.txt.eventHooks.changeEvents.push(function () {\n        let html = editor.txt.html() || ''\n        onchange(html)\n        editor.txt.togglePlaceholder()\n    })\n}\n\n/**\n * 绑定 focus blur 事件\n * @param editor 编辑器实例\n */\nfunction _bindFocusAndBlur(editor: Editor): void {\n    // 当前编辑器是否是焦点状态\n    editor.isFocus = false\n\n    function listener(e: Event) {\n        const target = e.target\n        const $target = $(target)\n        const $textElem = editor.$textElem\n        const $toolbarElem = editor.$toolbarElem\n\n        //判断当前点击元素是否在编辑器内\n        const isChild = $textElem.isContain($target)\n\n        //判断当前点击元素是否为工具栏\n        const isToolbar = $toolbarElem.isContain($target)\n        const isMenu = $toolbarElem.elems[0] == e.target ? true : false\n\n        if (!isChild) {\n            // 若为选择工具栏中的功能，则不视为成 blur 操作\n            if (isToolbar && !isMenu) {\n                return\n            }\n\n            if (editor.isFocus) {\n                _blurHandler(editor)\n            }\n            editor.isFocus = false\n        } else {\n            if (!editor.isFocus) {\n                _focusHandler(editor)\n            }\n\n            editor.isFocus = true\n        }\n    }\n    if (document.activeElement === editor.$textElem.elems[0]) {\n        _focusHandler(editor)\n        editor.isFocus = true\n    }\n    $(document).on('click', listener)\n    // 全局事件在编辑器实例销毁的时候进行解绑\n    editor.beforeDestroy(function () {\n        $(document).off('click', listener)\n    })\n}\n\n/**\n * 绑定 input 事件\n * @param editor 编辑器实例\n */\nfunction _bindInput(editor: Editor) {\n    // 绑定中文输入\n    editor.$textElem\n        .on('compositionstart', () => {\n            editor.isComposing = true\n        })\n        .on('compositionend', () => {\n            editor.isComposing = false\n        })\n}\n\n/**\n * blur 事件\n * @param editor 编辑器实例\n */\nfunction _blurHandler(editor: Editor) {\n    const config = editor.config\n    const onblur = config.onblur\n    const currentHtml = editor.txt.html() || ''\n    onblur(currentHtml)\n}\n\n/**\n * focus 事件\n * @param editor 编辑器实例\n */\nfunction _focusHandler(editor: Editor) {\n    const config = editor.config\n    const onfocus = config.onfocus\n    const currentHtml = editor.txt.html() || ''\n    onfocus(currentHtml)\n}\n\nexport default bindEvent\n","/**\n * @description 国际化 初始化\n * @author tonghan\n * i18next 是使用 JavaScript 编写的国际化框架\n * i18next 提供了标准的i18n功能，例如（复数，上下文，插值，格式）等\n * i18next 文档地址： https://www.i18next.com/overview/getting-started\n */\n\nimport Editor from '../index'\n\nfunction i18nextInit(editor: Editor) {\n    const { lang, languages } = editor.config\n\n    if (editor.i18next != null) {\n        try {\n            editor.i18next.init({\n                ns: 'wangEditor',\n                lng: lang,\n                defaultNS: 'wangEditor',\n                resources: languages,\n            })\n        } catch (error) {\n            throw new Error('i18next:' + error)\n        }\n        return\n    }\n\n    // 没有引入 i18next 的替代品\n    editor.i18next = {\n        t(str: string) {\n            const strArr = str.split('.')\n            return strArr[strArr.length - 1]\n        },\n    }\n}\n\nexport default i18nextInit\n","/**\n * @description 全屏功能\n * @author xiaokyo\n */\n\nimport Editor from '../index'\nimport $ from '../../utils/dom-core'\n\nimport '../../assets/style/full-screen.less'\n\nconst iconFullScreenText = 'w-e-icon-fullscreen' // 全屏icon class\nconst iconExitFullScreenText = 'w-e-icon-fullscreen_exit' // 退出全屏icon class\nconst classfullScreenEditor = 'w-e-full-screen-editor' // 全屏添加至编辑器的class\n\n/**\n * 设置全屏\n * @param editor 编辑器实例\n */\nexport const setFullScreen = (editor: Editor) => {\n    const $editorParent = $(editor.toolbarSelector)\n    const $textContainerElem = editor.$textContainerElem\n    const $toolbarElem = editor.$toolbarElem\n    const $iconElem = $toolbarElem.find(`i.${iconFullScreenText}`)\n    const config = editor.config\n\n    $iconElem.removeClass(iconFullScreenText)\n    $iconElem.addClass(iconExitFullScreenText)\n    $editorParent.addClass(classfullScreenEditor)\n    $editorParent.css('z-index', config.zIndexFullScreen)\n    const bar = $toolbarElem.getBoundingClientRect()\n    const h = window.innerHeight - bar.height\n    $textContainerElem.css('height', `${h}px`)\n}\n\n/**\n * 取消全屏\n * @param editor 编辑器实例\n */\nexport const setUnFullScreen = (editor: Editor) => {\n    const $editorParent = $(editor.toolbarSelector)\n    const $textContainerElem = editor.$textContainerElem\n    const $toolbarElem = editor.$toolbarElem\n    const $iconElem = $toolbarElem.find(`i.${iconExitFullScreenText}`)\n    const config = editor.config\n\n    $iconElem.removeClass(iconExitFullScreenText)\n    $iconElem.addClass(iconFullScreenText)\n    $editorParent.removeClass(classfullScreenEditor)\n    $editorParent.css('z-index', 'auto')\n    $textContainerElem.css('height', config.height + 'px')\n}\n\n/**\n * 初始化全屏功能\n * @param editor 编辑器实例\n */\nconst initFullScreen = (editor: Editor) => {\n    // 当textSelector有值的时候，也就是编辑器是工具栏和编辑区域分离的情况， 则不生成全屏功能按钮\n    if (editor.textSelector) return\n    if (!editor.config.showFullScreen) return\n    const $toolbarElem = editor.$toolbarElem\n    const $elem = $(\n        `<div class=\"w-e-menu\">\n            <i class=\"${iconFullScreenText}\"></i>\n        </div>`\n    )\n    $elem.on('click', function (e: MouseEvent) {\n        const $elemIcon = $(e.currentTarget).find('i')\n        if ($elemIcon.hasClass(iconFullScreenText)) {\n            setFullScreen(editor)\n        } else {\n            setUnFullScreen(editor)\n        }\n    })\n\n    $toolbarElem.append($elem)\n}\n\nexport default initFullScreen\n","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/postcss-loader/src/index.js!../../../node_modules/less-loader/dist/cjs.js!./full-screen.less\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".w-e-full-screen-editor {\\n  position: fixed;\\n  width: 100%!important;\\n  height: 100%!important;\\n  left: 0;\\n  top: 0;\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/**\n * @description 滚动到指定锚点\n * @author zhengwenjian\n */\n\nimport Editor from '../index'\n\n/**\n * 编辑器滚动到指定锚点\n * @param editor 编辑器实例\n * @param id 标题锚点id\n */\nconst scrollToHead = (editor: Editor, id: string) => {\n    const $textElem = editor.$textElem\n    const $targetHead = $textElem.find(`[id='${id}']`)\n    const targetTop = $targetHead.getOffsetData().top\n    $textElem.scrollTop(targetTop)\n}\n\nexport default scrollToHead\n","/**\n * @description z-index 管理器\n * @author fangzhicong\n */\nimport Editor from '../index'\nimport style from '../../config/style'\n\nconst tier = {\n    menu: 2, // 显示状态下的菜单栏\n    panel: 2,\n    toolbar: 1, // 菜单栏父容器\n    tooltip: 1, // tooltip\n    textContainer: 1, // 编辑区域\n}\n\ntype Tier = typeof tier\n\ntype TierKey = keyof Tier\nexport default class ZIndex {\n    // 层级参数\n    private tier: Tier = tier\n\n    // 默认值\n    private baseZIndex = style.zIndex\n\n    // 获取 tierName 对应的 z-index 的值。如果 tierName 未定义则返回默认的 z-index 值\n    get(tierName?: TierKey): number {\n        if (tierName && this.tier[tierName]) {\n            return this.baseZIndex + this.tier[tierName]\n        }\n        return this.baseZIndex\n    }\n\n    // 初始化\n    init(editor: Editor) {\n        if (this.baseZIndex == style.zIndex) {\n            this.baseZIndex = editor.config.zIndex\n        }\n    }\n}\n","/**\n * @description 编辑器 change 事件\n * @author fangzhicong\n */\n\nimport Editor from '../index'\nimport Mutation from '../../utils/observer/mutation'\nimport { debounce } from '../../utils/util'\nimport { EMPTY_FN } from '../../utils/const'\n\n/**\n * 剔除编辑区容器的 attribute 变化中的非 contenteditable 变化\n * @param mutations MutationRecord[]\n * @param tar 编辑区容器的 DOM 节点\n */\nfunction mutationsFilter(mutations: MutationRecord[], tar: Node) {\n    // 剔除编辑区容器的 attribute 变化中的非 contenteditable 变化\n    return mutations.filter(({ type, target, attributeName }) => {\n        return (\n            type != 'attributes' ||\n            (type == 'attributes' && (attributeName == 'contenteditable' || target != tar))\n        )\n    })\n}\n\n/**\n * Change 实现\n */\nexport default class Change extends Mutation {\n    /**\n     * 变化的数据集合\n     */\n    private data: MutationRecord[] = []\n\n    /**\n     * 异步保存数据\n     */\n    private asyncSave: Function = EMPTY_FN\n\n    constructor(public editor: Editor) {\n        super((mutations, observer) => {\n            // 数据过滤\n            mutations = mutationsFilter(mutations, observer.target as Node)\n\n            // 存储数据\n            this.data.push(...mutations)\n\n            // 标准模式下\n            if (!editor.isCompatibleMode) {\n                // 在非中文输入状态下时才保存数据\n                if (!editor.isComposing) {\n                    return this.asyncSave()\n                }\n            }\n            // 兼容模式下\n            else {\n                this.asyncSave()\n            }\n        })\n    }\n\n    /**\n     * 保存变化的数据并发布 change event\n     */\n    private save() {\n        // 有数据\n        if (this.data.length) {\n            // 保存变化数据\n            this.editor.history.save(this.data)\n\n            // 清除缓存\n            this.data.length = 0\n\n            this.emit()\n        }\n    }\n\n    /**\n     * 发布 change event\n     */\n    public emit() {\n        // 执行 onchange 回调\n        this.editor.txt.eventHooks.changeEvents.forEach(fn => fn())\n    }\n\n    // 重写 observe\n    public observe() {\n        super.observe(this.editor.$textElem.elems[0])\n\n        let timeout = this.editor.config.onchangeTimeout\n        this.asyncSave = debounce(() => {\n            this.save()\n        }, timeout)\n\n        if (!this.editor.isCompatibleMode) {\n            this.editor.$textElem.on('compositionend', () => {\n                this.asyncSave()\n            })\n        }\n    }\n}\n","/**\n * @description 封装 MutationObserver\n * @author fangzhicong\n */\n\nexport type callback = (mutations: MutationRecord[], observer: Mutation) => void\n\n/**\n * 封装 MutationObserver，抽离成公共类\n */\nexport default class Mutation {\n    /**\n     * MutationObserver 实例\n     */\n    protected observer: MutationObserver\n\n    /**\n     * 被监听的 Node 节点（可继承的，方便扩展但又不会在外部被修改）\n     */\n    protected node?: Node\n\n    /**\n     * 默认的 MutationObserverInit 配置\n     */\n    protected options: MutationObserverInit = {\n        subtree: true,\n        childList: true,\n        attributes: true,\n        attributeOldValue: true,\n        characterData: true,\n        characterDataOldValue: true,\n    }\n\n    /**\n     * MutationCallback\n     */\n    protected callback: (mutations: MutationRecord[]) => void\n\n    /**\n     * 构造器\n     * @param fn 发生变化时执行的回调函数\n     * @param options 自定义配置项\n     */\n    constructor(fn: callback, options?: MutationObserverInit) {\n        this.callback = mutations => {\n            fn(mutations, this)\n        }\n        this.observer = new MutationObserver(this.callback)\n        options && (this.options = options)\n    }\n\n    public get target() {\n        return this.node\n    }\n\n    /**\n     * 绑定监听节点（初次绑定有效）\n     * @param node 需要被监听的节点\n     */\n    public observe(node: Node) {\n        if (!(this.node instanceof Node)) {\n            this.node = node\n            this.connect()\n        }\n    }\n\n    /**\n     * 连接监听器（开始观察）\n     */\n    public connect() {\n        if (this.node) {\n            this.observer.observe(this.node, this.options)\n            return this\n        }\n        throw new Error('还未初始化绑定，请您先绑定有效的 Node 节点')\n    }\n\n    /**\n     * 断开监听器（停止观察）\n     */\n    public disconnect() {\n        let list = this.observer.takeRecords()\n        list.length && this.callback(list)\n        this.observer.disconnect()\n    }\n}\n","/**\n * @description 历史记录\n * @author fangzhicong\n */\n\nimport ContentCache from './data/content'\nimport ScrollCache from './data/scroll'\nimport RangeCache from './data/range'\nimport Editor from '../index'\n\n/**\n * 历史记录（撤销、恢复）\n */\nexport default class History {\n    // 数据缓存器实例\n    private content: ContentCache\n\n    // scroll 缓存\n    private scroll: ScrollCache\n\n    // Range 缓存\n    private range: RangeCache\n\n    constructor(public editor: Editor) {\n        this.content = new ContentCache(editor)\n        this.scroll = new ScrollCache(editor)\n        this.range = new RangeCache(editor)\n    }\n\n    /**\n     *  获取缓存中的数据长度。格式为：[正常的数据的条数，被撤销的数据的条数]\n     */\n    public get size() {\n        return this.scroll.size\n    }\n\n    /**\n     * 初始化绑定。在 editor.create() 结尾时调用\n     */\n    public observe() {\n        this.content.observe()\n        this.scroll.observe()\n        // 标准模式下才进行初始化绑定\n        !this.editor.isCompatibleMode && this.range.observe()\n    }\n\n    /**\n     * 保存数据\n     */\n    public save(mutations: MutationRecord[]) {\n        if (mutations.length) {\n            this.content.save(mutations)\n            this.scroll.save()\n            // 标准模式下才进行缓存\n            !this.editor.isCompatibleMode && this.range.save()\n        }\n    }\n\n    /**\n     * 撤销\n     */\n    public revoke() {\n        this.editor.change.disconnect()\n        const res = this.content.revoke()\n        if (res) {\n            this.scroll.revoke()\n            // 标准模式下才执行\n            if (!this.editor.isCompatibleMode) {\n                this.range.revoke()\n                this.editor.$textElem.focus()\n            }\n        }\n        this.editor.change.connect()\n        // 如果用户在 onchange 中修改了内容（DOM），那么缓存中的节点数据可能不连贯了，不连贯的数据必将导致恢复失败，所以必须将用户的 onchange 处于监控状态中\n        res && this.editor.change.emit()\n    }\n\n    /**\n     * 恢复\n     */\n    public restore() {\n        this.editor.change.disconnect()\n        const res = this.content.restore()\n        if (res) {\n            this.scroll.restore()\n            // 标准模式下才执行\n            if (!this.editor.isCompatibleMode) {\n                this.range.restore()\n                this.editor.$textElem.focus()\n            }\n        }\n        this.editor.change.connect()\n        // 与 revoke 同理\n        res && this.editor.change.emit()\n    }\n}\n","/**\n * @description 整合差异备份和内容备份，进行统一管理\n * @author fangzhicong\n */\n\nimport NodeCache from './node'\nimport HtmlCache from './html'\nimport Editor from '../../index'\n\nexport default class ContentCache {\n    /**\n     * 内容备份的管理器\n     */\n    public cache?: HtmlCache | NodeCache\n\n    constructor(public editor: Editor) {}\n\n    /**\n     * 初始化绑定\n     */\n    observe() {\n        if (this.editor.isCompatibleMode) {\n            // 兼容模式（内容备份）\n            this.cache = new HtmlCache(this.editor)\n        } else {\n            // 标准模式（差异备份/节点备份）\n            this.cache = new NodeCache(this.editor)\n        }\n        this.cache.observe()\n    }\n\n    /**\n     * 保存\n     */\n    public save(mutations: MutationRecord[]) {\n        if (this.editor.isCompatibleMode) {\n            ;(this.cache as HtmlCache).save()\n        } else {\n            ;(this.cache as NodeCache).compile(mutations)\n        }\n    }\n\n    /**\n     * 撤销\n     */\n    public revoke() {\n        return this.cache?.revoke()\n    }\n\n    /**\n     * 恢复\n     */\n    public restore() {\n        return this.cache?.restore()\n    }\n}\n","/**\n * @description 差异备份\n * @author fangzhicong\n */\n\nimport Cache from '../../../../utils/data-structure/cache'\nimport compile from './compile'\nimport { revoke, restore } from './decompilation'\nimport { Compile } from '../type'\nimport Editor from '../../../index'\n\nexport default class NodeCache extends Cache<Compile[]> {\n    constructor(public editor: Editor) {\n        super(editor.config.historyMaxSize)\n    }\n\n    public observe() {\n        this.resetMaxSize(this.editor.config.historyMaxSize)\n    }\n\n    /**\n     * 编译并保存数据\n     */\n    public compile(data: MutationRecord[]) {\n        this.save(compile(data))\n        return this\n    }\n\n    /**\n     * 撤销\n     */\n    public revoke() {\n        return super.revoke(data => {\n            revoke(data)\n        })\n    }\n\n    /**\n     * 恢复\n     */\n    public restore() {\n        return super.restore(data => {\n            restore(data)\n        })\n    }\n}\n","/**\n * @description 数据结构 - 栈\n * @author fangzhicong\n */\n\n/**\n * 栈（限制最大数据条数，栈满后可以继续入栈，而先入栈的数据将失效）\n */\n// 取名灵感来自 Math.ceil，向上取有效值\nexport class CeilStack<T> {\n    /**\n     * 数据缓存\n     */\n    protected data: T[] = []\n\n    /**\n     * 栈的最大长度。为零则长度不限\n     */\n    protected max: number = 0\n\n    /**\n     * 标识是否重设过 max 值\n     */\n    protected reset: boolean = false\n\n    constructor(max: number = 0) {\n        max = Math.abs(max)\n        max && (this.max = max)\n    }\n\n    /**\n     * 允许用户重设一次 max 值\n     */\n    public resetMax(maxSize: number) {\n        maxSize = Math.abs(maxSize)\n        if (!this.reset && !isNaN(maxSize)) {\n            this.max = maxSize\n            this.reset = true\n        }\n    }\n\n    /**\n     * 当前栈中的数据条数\n     */\n    public get size() {\n        return this.data.length\n    }\n\n    /**\n     * 入栈\n     * @param data 入栈的数据\n     */\n    public instack(data: T) {\n        this.data.unshift(data)\n        if (this.max && this.size > this.max) {\n            this.data.length = this.max\n        }\n        return this\n    }\n\n    /**\n     * 出栈\n     */\n    public outstack(): T | undefined {\n        return this.data.shift()\n    }\n\n    /**\n     * 清空栈\n     */\n    public clear() {\n        this.data.length = 0\n        return this\n    }\n}\n","/**\n * @description 数据整理\n * @author fangzhicong\n */\n\nimport { TargetPosition, DiffNodes, Compile } from '../type'\nimport { UA, toArray } from '../../../../utils/util'\n\n/**\n * 数据类型\n */\nexport function compileType(data: string) {\n    switch (data) {\n        case 'childList':\n            return 'node'\n        case 'attributes':\n            return 'attr'\n        default:\n            return 'text'\n    }\n}\n\n/**\n * 获取当前的文本内容\n */\nexport function compileValue(data: MutationRecord) {\n    switch (data.type) {\n        case 'attributes':\n            return (data.target as Element).getAttribute(data.attributeName as string) || ''\n        case 'characterData':\n            return data.target.textContent\n        default:\n            return ''\n    }\n}\n\n/**\n * addedNodes/removedNodes\n */\nexport function complieNodes(data: MutationRecord) {\n    const temp: DiffNodes = {}\n    if (data.addedNodes.length) {\n        temp.add = toArray(data.addedNodes)\n    }\n    if (data.removedNodes.length) {\n        temp.remove = toArray(data.removedNodes)\n    }\n    return temp\n}\n\n/**\n * addedNodes/removedNodes 的相对位置\n */\nexport function compliePosition(data: MutationRecord) {\n    let temp: TargetPosition\n    if (data.previousSibling) {\n        temp = {\n            type: 'before',\n            target: data.previousSibling,\n        }\n    } else if (data.nextSibling) {\n        temp = {\n            type: 'after',\n            target: data.nextSibling,\n        }\n    } else {\n        temp = {\n            type: 'parent',\n            target: data.target,\n        }\n    }\n    return temp\n}\n\n/**\n * 补全 Firefox 数据的特殊标签\n */\nconst tag = ['UL', 'OL', 'H1', 'H2', 'H3', 'H4', 'H5', 'H6']\n\n/**\n * 将 MutationRecord 转换成自定义格式的数据\n */\nexport default function compile(data: MutationRecord[]) {\n    const temp: Compile[] = []\n    // 以下两个变量是兼容 Firefox 时使用到的\n    // 前一次操作为删除元素节点\n    let removeNode: Node | false = false\n    // 连续的节点删除记录\n    const removeCache: Node[] = []\n    data.forEach((record, index) => {\n        const item: Compile = {\n            type: compileType(record.type),\n            target: record.target,\n            attr: record.attributeName || '',\n            value: compileValue(record) || '',\n            oldValue: record.oldValue || '',\n            nodes: complieNodes(record),\n            position: compliePosition(record),\n        }\n        temp.push(item)\n        // 兼容 Firefox，补全数据（这几十行代码写得吐血，跟 IE 有得一拼）\n        if (!UA.isFirefox) {\n            return\n        }\n        // 正常的数据：缩进、行高、超链接、对齐方式、引用、插入表情、插入图片、分割线、表格、插入代码\n        // 普通的数据补全：标题（纯文本内容）、加粗、斜体、删除线、下划线、颜色、背景色、字体、字号、列表（纯文本内容）\n        // 特殊的数据补全：标题（包含 HTMLElement）、列表（包含 HTMLElement 或 ul -> ol 或 ol -> ul 或 Enter）\n        if (removeNode && record.addedNodes.length && record.addedNodes[0].nodeType == 1) {\n            // 需要被全数据的目标节点\n            const replenishNode = record.addedNodes[0]\n            const replenishData: Compile = {\n                type: 'node',\n                target: replenishNode,\n                attr: '',\n                value: '',\n                oldValue: '',\n                nodes: {\n                    add: [removeNode],\n                },\n                position: {\n                    type: 'parent',\n                    target: replenishNode,\n                },\n            }\n            // 特殊的标签：['UL', 'OL', 'H1', 'H2', 'H3', 'H4', 'H5', 'H6']\n            if (tag.indexOf(replenishNode.nodeName) != -1) {\n                replenishData.nodes.add = toArray(replenishNode.childNodes)\n                temp.push(replenishData)\n            }\n            // 上一个删除元素是文本节点\n            else if (removeNode.nodeType == 3) {\n                if (contains(replenishNode, removeCache)) {\n                    replenishData.nodes.add = toArray(replenishNode.childNodes)\n                }\n                temp.push(replenishData)\n            }\n            // 上一个删除元素是 Element && 由近到远的删除元素至少有一个是需要补全数据节点的子节点\n            else if (\n                tag.indexOf(record.target.nodeName) == -1 &&\n                contains(replenishNode, removeCache)\n            ) {\n                replenishData.nodes.add = toArray(replenishNode.childNodes)\n                temp.push(replenishData)\n            }\n        }\n        // 记录本次的节点信息\n        if (item.type == 'node' && record.removedNodes.length == 1) {\n            removeNode = record.removedNodes[0]\n            removeCache.push(removeNode)\n        } else {\n            removeNode = false\n            removeCache.length = 0\n        }\n    })\n    return temp\n}\n\n// 删除元素的历史记录中包含有多少个目标节点的子元素\nfunction contains(tar: Node, childs: Node[]) {\n    let count = 0\n    for (let i = childs.length - 1; i > 0; i--) {\n        if (tar.contains(childs[i])) {\n            count++\n        } else {\n            break\n        }\n    }\n    return count\n}\n","/**\n * @description 撤销 - 逆向操作，删除节点\n * @author fangzhicong\n */\nimport { Compile } from '../type'\n\n/**\n * 将节点添加到 DOM 树中\n * @param data 数据项\n * @param list 节点集合（addedNodes 或 removedNodes）\n */\nfunction insertNode(data: Compile, list: Node[]) {\n    let reference = data.position.target\n    switch (data.position.type) {\n        // reference 在这些节点的前面\n        case 'before':\n            if (reference.nextSibling) {\n                reference = reference.nextSibling\n                list.forEach((item: Node) => {\n                    data.target.insertBefore(item, reference)\n                })\n            } else {\n                list.forEach((item: Node) => {\n                    data.target.appendChild(item)\n                })\n            }\n            break\n        // reference 在这些节点的后面\n        case 'after':\n            list.forEach((item: Node) => {\n                data.target.insertBefore(item, reference)\n            })\n            break\n        // parent\n        // reference 是这些节点的父节点\n        default:\n            list.forEach((item: Node) => {\n                reference.appendChild(item)\n            })\n            break\n    }\n}\n\n/* ------------------------------------------------------------------ 撤销逻辑 ------------------------------------------------------------------ */\n\nfunction revokeNode(data: Compile) {\n    for (let [relative, list] of Object.entries(data.nodes)) {\n        switch (relative) {\n            // 反向操作，将这些节点从 DOM 中移除\n            case 'add':\n                list.forEach((item: Node) => {\n                    data.target.removeChild(item)\n                })\n                break\n            // remove（反向操作，将这些节点添加到 DOM 中）\n            default: {\n                insertNode(data, list)\n                break\n            }\n        }\n    }\n}\n\n/**\n * 撤销 attribute\n */\nfunction revokeAttr(data: Compile) {\n    let target = data.target as HTMLElement\n    if (data.oldValue == null) {\n        target.removeAttribute(data.attr)\n    } else {\n        target.setAttribute(data.attr, data.oldValue)\n    }\n}\n\n/**\n * 撤销文本内容\n */\nfunction revokeText(data: Compile) {\n    data.target.textContent = data.oldValue\n}\n\nconst revokeFns = {\n    node: revokeNode,\n    text: revokeText,\n    attr: revokeAttr,\n}\n\n// 撤销 - 对外暴露的接口\nexport function revoke(data: Compile[]) {\n    for (let i = data.length - 1; i > -1; i--) {\n        let item = data[i]\n        revokeFns[item.type](item)\n    }\n}\n\n/* ------------------------------------------------------------------ 恢复逻辑 ------------------------------------------------------------------ */\n\nfunction restoreNode(data: Compile) {\n    for (let [relative, list] of Object.entries(data.nodes)) {\n        switch (relative) {\n            case 'add': {\n                insertNode(data, list)\n                break\n            }\n            // remove\n            default: {\n                list.forEach((item: Node) => {\n                    ;(item.parentNode as Node).removeChild(item)\n                })\n                break\n            }\n        }\n    }\n}\n\nfunction restoreText(data: Compile) {\n    data.target.textContent = data.value\n}\n\nfunction restoreAttr(data: Compile) {\n    ;(data.target as HTMLElement).setAttribute(data.attr, data.value)\n}\n\nconst restoreFns = {\n    node: restoreNode,\n    text: restoreText,\n    attr: restoreAttr,\n}\n\n// 恢复 - 对外暴露的接口\nexport function restore(data: Compile[]) {\n    for (let item of data) {\n        restoreFns[item.type](item)\n    }\n}\n","module.exports = require(\"core-js-pure/stable/object/entries\");","var parent = require('../../es/object/entries');\n\nmodule.exports = parent;\n","require('../../modules/es.object.entries');\nvar path = require('../../internals/path');\n\nmodule.exports = path.Object.entries;\n","var $ = require('../internals/export');\nvar $entries = require('../internals/object-to-array').entries;\n\n// `Object.entries` method\n// https://tc39.github.io/ecma262/#sec-object.entries\n$({ target: 'Object', stat: true }, {\n  entries: function entries(O) {\n    return $entries(O);\n  }\n});\n","var DESCRIPTORS = require('../internals/descriptors');\nvar objectKeys = require('../internals/object-keys');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar propertyIsEnumerable = require('../internals/object-property-is-enumerable').f;\n\n// `Object.{ entries, values }` methods implementation\nvar createMethod = function (TO_ENTRIES) {\n  return function (it) {\n    var O = toIndexedObject(it);\n    var keys = objectKeys(O);\n    var length = keys.length;\n    var i = 0;\n    var result = [];\n    var key;\n    while (length > i) {\n      key = keys[i++];\n      if (!DESCRIPTORS || propertyIsEnumerable.call(O, key)) {\n        result.push(TO_ENTRIES ? [key, O[key]] : O[key]);\n      }\n    }\n    return result;\n  };\n};\n\nmodule.exports = {\n  // `Object.entries` method\n  // https://tc39.github.io/ecma262/#sec-object.entries\n  entries: createMethod(true),\n  // `Object.values` method\n  // https://tc39.github.io/ecma262/#sec-object.values\n  values: createMethod(false)\n};\n","/**\n * @description 完整的内容备份，每次变化都将备份整个编辑器的内容\n * @author fangzhicong\n */\nimport Editor from '../../../index'\nimport { TailChain } from '../../../../utils/data-structure/chain'\n\nexport default class HtmlCache {\n    // 缓存数据\n    private data: TailChain<string>\n\n    constructor(public editor: Editor) {\n        this.data = new TailChain()\n    }\n\n    /**\n     * 初始化绑定\n     */\n    observe() {\n        this.data.resetMax(this.editor.config.historyMaxSize)\n        // 保存初始化值\n        this.data.insertLast(this.editor.$textElem.html())\n    }\n\n    /**\n     * 保存\n     */\n    public save() {\n        this.data.insertLast(this.editor.$textElem.html())\n        return this\n    }\n\n    /**\n     * 撤销\n     */\n    public revoke() {\n        let data = this.data.prev()\n        if (data) {\n            this.editor.$textElem.html(data)\n            return true\n        }\n        return false\n    }\n\n    /**\n     * 恢复\n     */\n    public restore() {\n        let data = this.data.next()\n        if (data) {\n            this.editor.$textElem.html(data)\n            return true\n        }\n        return false\n    }\n}\n","/**\n * @description 数据结构 - 链表\n * @author fangzhicong\n */\n\n/**\n * 特殊链表（数据尾插入、插入前自动清理指针后边的数据、插入后指针永远定位于最后一位元素、可限制链表长度、指针双向移动）\n */\nexport class TailChain<T> {\n    /**\n     * 链表数据\n     */\n    protected data: T[] = []\n\n    /**\n     * 链表最大长度，零表示长度不限\n     */\n    protected max: number = 0\n\n    /**\n     * 指针\n     */\n    protected point = 0\n\n    // 当前指针是否人为操作过\n    protected isRe = false\n\n    /**\n     * 允许用户重设一次 max 值\n     */\n    resetMax(maxSize: number) {\n        maxSize = Math.abs(maxSize)\n        maxSize && (this.max = maxSize)\n    }\n\n    /**\n     * 当前链表的长度\n     */\n    get size() {\n        return this.data.length\n    }\n\n    /**\n     * 尾插入\n     * @param data 插入的数据\n     */\n    public insertLast<K extends T>(data: K) {\n        // 人为操作过指针，清除指针后面的元素\n        if (this.isRe) {\n            this.data.splice(this.point + 1)\n            this.isRe = false\n        }\n        this.data.push(data)\n        // 超出链表最大长度\n        while (this.max && this.size > this.max) {\n            this.data.shift()\n        }\n        // 从新定位指针到最后一个元素\n        this.point = this.size - 1\n        return this\n    }\n\n    /**\n     * 获取当前指针元素\n     */\n    public current(): T | undefined {\n        return this.data[this.point]\n    }\n\n    /**\n     * 获取上一指针元素\n     */\n    public prev(): T | undefined {\n        !this.isRe && (this.isRe = true)\n        this.point--\n        if (this.point < 0) {\n            this.point = 0\n            return undefined\n        }\n        return this.current()\n    }\n\n    /**\n     * 下一指针元素\n     */\n    public next(): T | undefined {\n        !this.isRe && (this.isRe = true)\n        this.point++\n        if (this.point >= this.size) {\n            this.point = this.size - 1\n            return undefined\n        }\n        return this.current()\n    }\n}\n","/**\n * @description 记录 scrollTop\n * @author fangzhicong\n */\n\nimport Cache from '../../../../utils/data-structure/cache'\nimport Editor from '../../../index'\nimport { ScrollItem } from '../type'\n\nexport default class ScrollCache extends Cache<ScrollItem> {\n    /**\n     * 上一次的 scrollTop\n     */\n    private last: number = 0\n\n    /**\n     * 编辑区容器元素节点\n     */\n    private target: Element\n\n    constructor(public editor: Editor) {\n        super(editor.config.historyMaxSize)\n        this.target = editor.$textElem.elems[0]\n    }\n\n    /**\n     * 给编辑区容器绑定 scroll 事件\n     */\n    public observe() {\n        this.target = this.editor.$textElem.elems[0]\n        this.editor.$textElem.on('scroll', () => {\n            this.last = this.target.scrollTop\n        })\n        this.resetMaxSize(this.editor.config.historyMaxSize)\n    }\n\n    /**\n     * 保存 scrollTop 值\n     */\n    public save() {\n        super.save([this.last, this.target.scrollTop])\n        return this\n    }\n\n    /**\n     * 撤销\n     */\n    public revoke() {\n        return super.revoke(data => {\n            this.target.scrollTop = data[0]\n        })\n    }\n\n    /**\n     * 恢复\n     */\n    public restore() {\n        return super.restore(data => {\n            this.target.scrollTop = data[1]\n        })\n    }\n}\n","/**\n * @description 记录 range 变化\n * @author fangzhicong\n */\n\nimport Cache from '../../../../utils/data-structure/cache'\nimport Editor from '../../../index'\nimport { RangeItem } from '../type'\nimport $ from '../../../../utils/dom-core'\nimport { debounce } from '../../../../utils/util'\n\n/**\n * 把 Range 对象转换成缓存对象\n * @param range Range 对象\n */\nfunction rangeToObject(range: Range): RangeItem {\n    return {\n        start: [range.startContainer, range.startOffset],\n        end: [range.endContainer, range.endOffset],\n        root: range.commonAncestorContainer,\n        collapsed: range.collapsed,\n    }\n}\n\n/**\n * 编辑区 range 缓存管理器\n */\nexport default class RangeCache extends Cache<[RangeItem, RangeItem]> {\n    /**\n     * 变化前的 Range 数据\n     */\n    private lastRange: RangeItem\n\n    /**\n     * 有效选区的根节点\n     */\n    private root: Element\n\n    public updateLastRange: Function\n\n    constructor(public editor: Editor) {\n        super(editor.config.historyMaxSize)\n        this.lastRange = rangeToObject(document.createRange())\n        this.root = editor.$textElem.elems[0]\n        this.updateLastRange = debounce(() => {\n            this.lastRange = rangeToObject(this.rangeHandle)\n        }, editor.config.onchangeTimeout)\n    }\n\n    /**\n     * 获取 Range 对象\n     */\n    public get rangeHandle() {\n        const selection = document.getSelection()\n        return selection && selection.rangeCount ? selection.getRangeAt(0) : document.createRange()\n    }\n\n    /**\n     * 初始化绑定\n     */\n    public observe() {\n        const self = this\n        // 同步节点数据\n        this.root = this.editor.$textElem.elems[0]\n        this.resetMaxSize(this.editor.config.historyMaxSize)\n        // selection change 回调函数\n        function selectionchange() {\n            const handle = self.rangeHandle\n            if (\n                self.root === handle.commonAncestorContainer ||\n                self.root.contains(handle.commonAncestorContainer)\n            ) {\n                // 非中文输入状态下才进行记录\n                if (!self.editor.isComposing) {\n                    self.updateLastRange()\n                }\n            }\n        }\n        // backspace 和 delete 手动更新 Range 缓存\n        function deletecallback(e: KeyboardEvent) {\n            if (e.key == 'Backspace' || e.key == 'Delete') {\n                // self.lastRange = rangeToObject(self.rangeHandle)\n                self.updateLastRange()\n            }\n        }\n        // 绑定事件（必须绑定在 document 上，不能绑定在 window 上）\n        $(document).on('selectionchange', selectionchange)\n        // 解除事件绑定\n        this.editor.beforeDestroy(function () {\n            $(document).off('selectionchange', selectionchange)\n        })\n\n        // 删除文本时手动更新 range\n        self.editor.$textElem.on('keydown', deletecallback)\n    }\n\n    /**\n     * 保存 Range\n     */\n    public save() {\n        let current = rangeToObject(this.rangeHandle)\n        super.save([this.lastRange, current])\n        this.lastRange = current\n        return this\n    }\n\n    /**\n     * 设置 Range，在 撤销/恢复 中调用\n     * @param range 缓存的 Range 数据\n     */\n    public set(range: RangeItem | undefined) {\n        if (range) {\n            const handle = this.rangeHandle\n            handle.setStart(...range.start)\n            handle.setEnd(...range.end)\n            this.editor.menus.changeActive()\n            return true\n        }\n        return false\n    }\n\n    /**\n     * 撤销\n     */\n    public revoke() {\n        return super.revoke(data => {\n            this.set(data[0])\n        })\n    }\n\n    /**\n     * 恢复\n     */\n    public restore() {\n        return super.restore(data => {\n            this.set(data[1])\n        })\n    }\n}\n","/**\n * @description disable 内容编辑\n * @author lichunlin\n */\nimport Editor from '../index'\nimport $, { DomElement } from '../../utils/dom-core'\nimport '../../assets/style/disable.less'\n\nexport default function disableInit(editor: Editor) {\n    let isCurtain: Boolean = false // 避免重复生成幕布\n    let $contentDom: DomElement\n    let $menuDom: DomElement\n\n    // 禁用期间，通过 js 修改内容后，刷新内容\n    editor.txt.eventHooks.changeEvents.push(function () {\n        if (isCurtain) {\n            $contentDom.find('.w-e-content-preview').html(editor.$textElem.html())\n        }\n    })\n\n    // 创建幕布\n    function disable() {\n        if (isCurtain) return\n        // 隐藏编辑区域\n        editor.$textElem.hide()\n        // 生成div 渲染编辑内容\n        let textContainerZindexValue = editor.zIndex.get('textContainer')\n        const content = editor.txt.html()\n        $contentDom = $(\n            `<div class=\"w-e-content-mantle\" style=\"z-index:${textContainerZindexValue}\">\n                <div class=\"w-e-content-preview w-e-text\">${content}</div>\n            </div>`\n        )\n        editor.$textContainerElem.append($contentDom)\n        // 生成div 菜单膜布\n        let menuZindexValue = editor.zIndex.get('menu')\n        $menuDom = $(`<div class=\"w-e-menue-mantle\" style=\"z-index:${menuZindexValue}\"></div>`)\n        editor.$toolbarElem.append($menuDom)\n        isCurtain = true\n    }\n\n    // 销毁幕布并显示可编辑区域\n    function enable() {\n        if (!isCurtain) return\n        $contentDom.remove()\n        $menuDom.remove()\n        editor.$textElem.show()\n        isCurtain = false\n    }\n\n    return { disable, enable }\n}\n","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/postcss-loader/src/index.js!../../../node_modules/less-loader/dist/cjs.js!./disable.less\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".w-e-content-mantle {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n  overflow-y: auto;\\n}\\n.w-e-content-mantle .w-e-content-preview {\\n  width: 100%;\\n  min-height: 100%;\\n  padding: 0 10px;\\n  line-height: 1.5;\\n}\\n.w-e-content-mantle .w-e-content-preview img {\\n  cursor: default;\\n}\\n.w-e-content-mantle .w-e-content-preview img:hover {\\n  box-shadow: none;\\n}\\n.w-e-menue-mantle {\\n  position: absolute;\\n  height: 100%;\\n  width: 100%;\\n  top: 0;\\n  left: 0;\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n"],"sourceRoot":""}